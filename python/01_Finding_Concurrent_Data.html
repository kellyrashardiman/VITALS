<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.0.8">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>VITALS – finding_concurrent_data</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
span.underline{text-decoration: underline;}
div.column{display: inline-block; vertical-align: top; width: 50%;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>


<script src="../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../site_libs/clipboard/clipboard.min.js"></script>
<script src="../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../site_libs/quarto-search/fuse.min.js"></script>
<script src="../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../">
<link href="../python/02_Working_with_EMIT_Reflectance_and_ECOSTRESS_LST.html" rel="next">
<link href="../setup/setup_instructions.html" rel="prev">
<script src="../site_libs/quarto-html/quarto.js"></script>
<script src="../site_libs/quarto-html/popper.min.js"></script>
<script src="../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../site_libs/quarto-html/anchor.min.js"></script>
<link href="../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" class="quarto-color-scheme" id="quarto-text-highlighting-styles">
<link href="../site_libs/quarto-html/quarto-syntax-highlighting-dark.css" rel="prefetch" class="quarto-color-scheme quarto-color-alternate" id="quarto-text-highlighting-styles">
<script src="../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" class="quarto-color-scheme">
<link href="../site_libs/bootstrap/bootstrap-dark.min.css" rel="prefetch" class="quarto-color-scheme quarto-color-alternate">
<script id="quarto-search-options" type="application/json">{
  "location": "sidebar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "start",
  "type": "textbox",
  "limit": 20,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit"
  }
}</script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" integrity="sha512-c3Nl8+7g4LMSTdrm621y7kf9v3SDPnhxLNhcjFJbKECVnmZHTdo+IRO05sNLTH/D3vA6u1X32ehoLC7WFVdheg==" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.5.1/jquery.min.js" integrity="sha512-bLT0Qm9VnAYZDflyKcBaQ2gg0hSYNQrJ8RilYldYQ1FxQYoCLtUjuuRuZo+fjqhx/qtq/1itJ0C2ejDxltZVFg==" crossorigin="anonymous"></script>
<script type="application/javascript">define('jquery', [],function() {return window.jQuery;})</script>


<link rel="stylesheet" href="../styles.css">
</head>

<body class="nav-sidebar floating">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
  <nav class="quarto-secondary-nav" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
    <div class="container-fluid d-flex justify-content-between">
      <h1 class="quarto-secondary-nav-title">(Untitled)</h1>
      <button type="button" class="quarto-btn-toggle btn" aria-label="Show secondary navigation">
        <i class="bi bi-chevron-right"></i>
      </button>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse sidebar-navigation floating overflow-auto">
    <div class="pt-lg-2 mt-2 text-center sidebar-header sidebar-header-stacked">
      <a href="../" class="sidebar-logo-link">
      <img src="../img/lp_jpl_vitals_light.png" alt="" class="sidebar-logo py-0 d-lg-inline d-none">
      </a>
    <div class="sidebar-title mb-0 py-0">
      <a href="../">VITALS</a> 
        <div class="sidebar-tools-main tools-wide">
    <a href="https://nasa.github.io/VITALS/" title="VITALS Website" class="sidebar-tool px-1"><i class="bi bi-globe"></i></a>
    <a href="https://github.com/nasa/VITALS" title="VITALS Repository" class="sidebar-tool px-1"><i class="bi bi-github"></i></a>
  <a href="" class="quarto-color-scheme-toggle sidebar-tool" onclick="window.quartoToggleColorScheme(); return false;" title="Toggle dark mode"><i class="bi"></i></a>
</div>
    </div>
      </div>
      <div class="mt-2 flex-shrink-0 align-items-center">
        <div class="sidebar-search">
        <div id="quarto-search" class="" title="Search"></div>
        </div>
      </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item sidebar-item-section">
    <div class="sidebar-item-container"> 
        <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" aria-expanded="true">Welcome</a>
      <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" aria-expanded="true">
        <i class="bi bi-chevron-right ms-2"></i>
      </a>
    </div>
    <ul id="quarto-sidebar-section-1" class="collapse list-unstyled sidebar-section depth1 show">  
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../index.html" class="sidebar-item-text sidebar-link">2024 SBG Workshop</a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../2023_agu_workshop.html" class="sidebar-item-text sidebar-link">2023 AGU Workshop</a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../vitals.html" class="sidebar-item-text sidebar-link">Repository Description</a>
  </div>
</li>
    </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
    <div class="sidebar-item-container"> 
        <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" aria-expanded="true">Setup Instructions</a>
      <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" aria-expanded="true">
        <i class="bi bi-chevron-right ms-2"></i>
      </a>
    </div>
    <ul id="quarto-sidebar-section-2" class="collapse list-unstyled sidebar-section depth1 show">  
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../setup/prerequisites.html" class="sidebar-item-text sidebar-link">Prerequisites</a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../setup/workshop_setup.html" class="sidebar-item-text sidebar-link">Cloud Workspace Setup</a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../setup/setup_instructions.html" class="sidebar-item-text sidebar-link">Local Python Environment Setup</a>
  </div>
</li>
    </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
    <div class="sidebar-item-container"> 
        <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-3" aria-expanded="true">Python Notebooks</a>
      <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-3" aria-expanded="true">
        <i class="bi bi-chevron-right ms-2"></i>
      </a>
    </div>
    <ul id="quarto-sidebar-section-3" class="collapse list-unstyled sidebar-section depth1 show">  
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../python/01_Finding_Concurrent_Data.html" class="sidebar-item-text sidebar-link active">1 Finding Concurrent Data</a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../python/02_Working_with_EMIT_Reflectance_and_ECOSTRESS_LST.html" class="sidebar-item-text sidebar-link">2 EMIT Reflectance and ECOSTRESS LST</a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../python/03_EMIT_CWC_from_Reflectance.html" class="sidebar-item-text sidebar-link">3 Canopy Water Content</a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../python/04_Dangermond_Land_Cover.html" class="sidebar-item-text sidebar-link">4 Dangermond Land Cover</a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../python/05_SB_Vineyards.html" class="sidebar-item-text sidebar-link">5 Santa Barbara Vineyards</a>
  </div>
</li>
    </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
    <div class="sidebar-item-container"> 
        <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-4" aria-expanded="true">Contributing</a>
      <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-4" aria-expanded="true">
        <i class="bi bi-chevron-right ms-2"></i>
      </a>
    </div>
    <ul id="quarto-sidebar-section-4" class="collapse list-unstyled sidebar-section depth1 show">  
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../CONTRIBUTING.html" class="sidebar-item-text sidebar-link">Contributing to this Repository</a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../CODE_OF_CONDUCT.html" class="sidebar-item-text sidebar-link">Contributor Code of Conduct</a>
  </div>
</li>
    </ul>
  </li>
    </ul>
    </div>
</nav>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#finding-concurrent-ecostress-and-emit-data" id="toc-finding-concurrent-ecostress-and-emit-data" class="nav-link active" data-scroll-target="#finding-concurrent-ecostress-and-emit-data">1 Finding Concurrent ECOSTRESS and EMIT Data</a>
  <ul class="collapse">
  <li><a href="#setup" id="toc-setup" class="nav-link" data-scroll-target="#setup">1. Setup</a>
  <ul class="collapse">
  <li><a href="#nasa-earthdata-login-credentials" id="toc-nasa-earthdata-login-credentials" class="nav-link" data-scroll-target="#nasa-earthdata-login-credentials">1.2 NASA Earthdata Login Credentials</a></li>
  </ul></li>
  <li><a href="#search-for-ecostress-and-emit-data" id="toc-search-for-ecostress-and-emit-data" class="nav-link" data-scroll-target="#search-for-ecostress-and-emit-data">2. Search for ECOSTRESS and EMIT Data</a>
  <ul class="collapse">
  <li><a href="#define-spatial-region-of-interest" id="toc-define-spatial-region-of-interest" class="nav-link" data-scroll-target="#define-spatial-region-of-interest">2.1 Define Spatial Region of Interest</a></li>
  <li><a href="#define-collections-of-interest" id="toc-define-collections-of-interest" class="nav-link" data-scroll-target="#define-collections-of-interest">2.2 Define Collections of Interest</a></li>
  <li><a href="#define-date-range" id="toc-define-date-range" class="nav-link" data-scroll-target="#define-date-range">2.3 Define Date Range</a></li>
  <li><a href="#searching" id="toc-searching" class="nav-link" data-scroll-target="#searching">2.4 Searching</a></li>
  </ul></li>
  <li><a href="#organizing-and-filtering-results" id="toc-organizing-and-filtering-results" class="nav-link" data-scroll-target="#organizing-and-filtering-results">3. Organizing and Filtering Results</a></li>
  <li><a href="#visualizing-intersecting-coverage" id="toc-visualizing-intersecting-coverage" class="nav-link" data-scroll-target="#visualizing-intersecting-coverage">4. Visualizing Intersecting Coverage</a>
  <ul class="collapse">
  <li><a href="#previewing-emit-browse-imagery" id="toc-previewing-emit-browse-imagery" class="nav-link" data-scroll-target="#previewing-emit-browse-imagery">4.2 Previewing EMIT Browse Imagery</a></li>
  <li><a href="#further-filtering" id="toc-further-filtering" class="nav-link" data-scroll-target="#further-filtering">4.3 Further Filtering</a></li>
  </ul></li>
  <li><a href="#generating-a-list-of-urls" id="toc-generating-a-list-of-urls" class="nav-link" data-scroll-target="#generating-a-list-of-urls">5. Generating a list of URLs</a></li>
  <li><a href="#streaming-or-downloading-data" id="toc-streaming-or-downloading-data" class="nav-link" data-scroll-target="#streaming-or-downloading-data">6. Streaming or Downloading Data</a>
  <ul class="collapse">
  <li><a href="#streaming-data-workflow" id="toc-streaming-data-workflow" class="nav-link" data-scroll-target="#streaming-data-workflow">6.1 Streaming Data Workflow</a></li>
  <li><a href="#downloading-data-workflow" id="toc-downloading-data-workflow" class="nav-link" data-scroll-target="#downloading-data-workflow">6.2 Downloading Data Workflow</a></li>
  </ul></li>
  <li><a href="#contact-info" id="toc-contact-info" class="nav-link" data-scroll-target="#contact-info">Contact Info:</a></li>
  </ul></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">



<section id="finding-concurrent-ecostress-and-emit-data" class="level1">
<h1>1 Finding Concurrent ECOSTRESS and EMIT Data</h1>
<p><strong>Summary</strong></p>
<p>Both the ECOsystem Spaceborne Thermal Radiometer Experiment on Space Station (ECOSTRESS) and the Earth surface Mineral dust source InvesTigation (EMIT) instruments are located on the International Space Station (ISS). Their overlapping fields of view provide an unprecedented opportunity to demonstrate the compounded benefits of working with both datasets. In this notebook we will show how to utilize the <a href="https://github.com/nsidc/earthaccess"><code>earthaccess</code> Python library</a> to find concurrent ECOSTRESS and EMIT data.</p>
<div>
<p><img src="../img/concurrent_data.png" width="750"></p>
</div>
<p><strong>Background</strong></p>
<p>The <strong>ECOSTRESS</strong> instrument is a multispectral thermal imaging radiometer designed to answer three overarching science questions:</p>
<ul>
<li>How is the terrestrial biosphere responding to changes in water availability?</li>
<li>How do changes in diurnal vegetation water stress the global carbon cycle?</li>
<li>Can agricultural vulnerability be reduced through advanced monitoring of agricultural water consumptive use and improved drought estimation?</li>
</ul>
<p>The ECOSTRESS mission is answering these questions by accurately measuring the temperature of plants. Plants regulate their temperature by releasing water through tiny pores on their leaves called stomata. If they have sufficient water they can maintain their temperature, but if there is insufficient water, their temperatures rise and this temperature rise can be measured with ECOSTRESS. The images acquired by ECOSTRESS are the most detailed temperature images of the surface ever acquired from space and can be used to measure the temperature of an individual farmers field.</p>
<p>More details about ECOSTRESS and its associated products can be found on the <a href="https://ecostress.jpl.nasa.gov/">ECOSTRESS website</a> and <a href="https://lpdaac.usgs.gov/product_search/?query=ECOSTRESS&amp;status=Operational&amp;view=cards&amp;sort=title">ECOSTRESS product pages</a> hosted by the Land Processes Distributed Active Archive Center (LP DAAC).</p>
<p>The <strong>EMIT</strong> instrument is an imaging spectrometer that measures light in visible and infrared wavelengths. These measurements display unique spectral signatures that correspond to the composition on the Earth’s surface. The EMIT mission focuses specifically on mapping the composition of minerals to better understand the effects of mineral dust throughout the Earth system and human populations now and in the future. In addition, the EMIT instrument can be used in other applications, such as mapping of greenhouse gases, snow properties, and water resources.</p>
<p>More details about EMIT and its associated products can be found on the <a href="https://earth.jpl.nasa.gov/emit/">EMIT website</a> and <a href="https://lpdaac.usgs.gov/product_search/?query=EMIT&amp;status=Operational&amp;view=cards&amp;sort=title">EMIT product pages</a> hosted by the LP DAAC.</p>
<p><strong>Requirements</strong><br>
- <a href="https://urs.earthdata.nasa.gov/home">NASA Earthdata Account</a><br>
- <em>No Python setup requirements if connected to the workshop cloud instance!</em><br>
- <strong>Local Only</strong> Set up Python Environment - See <strong>setup_instructions.md</strong> in the <code>/setup/</code> folder to set up a local compatible Python environment</p>
<p><strong>Learning Objectives</strong><br>
- How to use <code>earthaccess</code> to find concurrent EMIT and ECOSTRESS data.<br>
- How to export a list of files and download them programmatically.</p>
<p><strong>Tutorial Outline</strong></p>
<ol type="1">
<li>Setup</li>
<li>Searching for EMIT and ECOSTRESS Data</li>
<li>Organizing and Filtering Results</li>
<li>Visualizing Intersecting Coverage</li>
<li>Creating a list of Results and Desired Asset URLs</li>
<li>Streaming or Downloading Data</li>
</ol>
<section id="setup" class="level2">
<h2 class="anchored" data-anchor-id="setup">1. Setup</h2>
<p>Import the required Python libraries.</p>
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Import required libraries</span></span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> os</span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> folium</span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> earthaccess</span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> warnings</span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> folium.plugins</span>
<span id="cb1-7"><a href="#cb1-7" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> pandas <span class="im">as</span> pd</span>
<span id="cb1-8"><a href="#cb1-8" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> geopandas <span class="im">as</span> gpd</span>
<span id="cb1-9"><a href="#cb1-9" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> math</span>
<span id="cb1-10"><a href="#cb1-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-11"><a href="#cb1-11" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> branca.element <span class="im">import</span> Figure</span>
<span id="cb1-12"><a href="#cb1-12" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> IPython.display <span class="im">import</span> display</span>
<span id="cb1-13"><a href="#cb1-13" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> shapely <span class="im">import</span> geometry</span>
<span id="cb1-14"><a href="#cb1-14" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> skimage <span class="im">import</span> io</span>
<span id="cb1-15"><a href="#cb1-15" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> datetime <span class="im">import</span> timedelta</span>
<span id="cb1-16"><a href="#cb1-16" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> shapely.geometry.polygon <span class="im">import</span> orient</span>
<span id="cb1-17"><a href="#cb1-17" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> matplotlib <span class="im">import</span> pyplot <span class="im">as</span> plt</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<section id="nasa-earthdata-login-credentials" class="level3">
<h3 class="anchored" data-anchor-id="nasa-earthdata-login-credentials">1.2 NASA Earthdata Login Credentials</h3>
<p>To download or stream NASA data you will need an Earthdata account, you can create one <a href="https://urs.earthdata.nasa.gov/home">here</a>. We will use the <code>login</code> function from the <code>earthaccess</code> library for authentication before downloading at the end of the notebook. This function can also be used to create a local <code>.netrc</code> file if it doesn’t exist or add your login info to an existing <code>.netrc</code> file. If no Earthdata Login credentials are found in the <code>.netrc</code> you’ll be prompted for them. This step is not necessary to conduct searches but is needed to download or stream data.</p>
</section>
</section>
<section id="search-for-ecostress-and-emit-data" class="level2">
<h2 class="anchored" data-anchor-id="search-for-ecostress-and-emit-data">2. Search for ECOSTRESS and EMIT Data</h2>
<p>Both EMIT and ECOSTRESS products are hosted by the Land Processes Distributed Active Archive Center (LP DAAC). In this example we will use the cloud-hosted EMIT_L2A_RFL and ECOSTRESS_L2T_LSTE products available from the LP DAAC to find data. Any results we find for these products, should be available for other products within the EMIT and ECOSTRESS collections.</p>
<p>To find data we will use the <a href="https://github.com/nsidc/earthaccess"><code>earthaccess</code> Python library</a>. <code>earthaccess</code> searches NASA’s Common Metadata Repository (CMR), a metadata system that catalogs Earth Science data and associated metadata records. The results can then be used to download granules or generate lists of granule search result URLs.</p>
<p>Using <code>earthaccess</code> we can search based on the attributes of a granule, which can be thought of as a spatiotemporal scene from an instrument containing multiple assets (ex: Reflectance, Reflectance Uncertainty, Masks for the EMIT L2A Reflectance Collection). We can search using attributes such as collection, acquisition time, and spatial footprint. This process can also be used with other EMIT or ECOSTRESS products, other collections, or different data providers, as well as across multiple catalogs with some modification.</p>
<section id="define-spatial-region-of-interest" class="level3">
<h3 class="anchored" data-anchor-id="define-spatial-region-of-interest">2.1 Define Spatial Region of Interest</h3>
<p>For this example, our spatial region of interest (ROI) will be the a region near Santa Barbara, CA that contains the <a href="https://www.dangermondpreserve.org/">Jack and Laura Dangermond Preserve</a> and the <a href="https://sedgwick.nrs.ucsb.edu/">Sedgwick Reserve</a>.</p>
<p>In this example, we will create a rectangular ROI surrounding these two reserves as well as some of the agricultural region between. Even though the shape is rectangular we elect to search using a polygon rather than a standard bounding box in <code>earthaccess</code> because bounding boxes will typically have a larger spatial extent, capturing a lot of area we may not be interested in. This becomes more important for searches with larger ROIs than our example here. To search for intersections with a polygon using earthaccess, we need to format our ROI as a counterclockwise list of coordinate pairs.</p>
<p>Open the <code>geojson</code> file containing the Dangermond and Sedgwick boundaries as a <code>geodataframe</code>, and check the coordinate reference system (CRS) of the data.</p>
<div class="cell" data-metadata="{}" data-tags="[]" data-execution_count="2">
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a>polygon <span class="op">=</span> gpd.read_file(<span class="st">'../data/agu_workshop_roi.geojson'</span>)</span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a>polygon.crs</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="2">
<pre><code>&lt;Geographic 2D CRS: EPSG:4326&gt;
Name: WGS 84
Axis Info [ellipsoidal]:
- Lat[north]: Geodetic latitude (degree)
- Lon[east]: Geodetic longitude (degree)
Area of Use:
- name: World.
- bounds: (-180.0, -90.0, 180.0, 90.0)
Datum: World Geodetic System 1984 ensemble
- Ellipsoid: WGS 84
- Prime Meridian: Greenwich</code></pre>
</div>
</div>
<p>The CRS is <strong>EPSG:4326</strong> (WGS84), which is also the CRS we want the data in to submit for our search.</p>
<p>Next, let’s examine our polygon a bit closer.</p>
<div class="cell" data-metadata="{}" data-tags="[]" data-execution_count="3">
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a>polygon</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="3">

<div>

<table class="dataframe table table-sm table-striped">
  <thead>
    <tr>
      <th></th>
      <th>Name</th>
      <th>Acreage</th>
      <th>geometry</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>Sedgwick Reserve</td>
      <td>5874.210000</td>
      <td>POLYGON ((-120.04041 34.74342, -120.04122 34.7...</td>
    </tr>
    <tr>
      <th>1</th>
      <td>Dangermond Preserve</td>
      <td>24458.615397</td>
      <td>POLYGON ((-120.47367 34.56987, -120.47427 34.5...</td>
    </tr>
  </tbody>
</table>
</div>
</div>
</div>
<p>We can see this <code>geodataframe</code> consists of two polygons, that we want to include in our study site. We need to create an exterior boundary polygon containing these, and make sure the vertices are in counterclockwise order to submit them in our query. To do this, create a polygon consisting of all the geometries, then create a bounding rectangle. This will give us a simple exterior polygon around our two ROIs. After that, use the <code>orient</code> function to place our coordinate pairs in counterclockwise order.</p>
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Merge all Polygon geometries and create external boundary</span></span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a>roi_poly <span class="op">=</span> polygon.unary_union.envelope</span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true" tabindex="-1"></a><span class="co"># Re-order vertices to counterclockwise</span></span>
<span id="cb5-4"><a href="#cb5-4" aria-hidden="true" tabindex="-1"></a>roi_poly <span class="op">=</span> orient(roi_poly, sign<span class="op">=</span><span class="fl">1.0</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Make a <code>GeoDataFrame</code> consisting of the bounding box geometry.</p>
<div class="cell" data-metadata="{}" data-tags="[]" data-execution_count="5">
<div class="sourceCode cell-code" id="cb6"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a>df <span class="op">=</span> pd.DataFrame({<span class="st">"Name"</span>:[<span class="st">"ROI Bounding Box"</span>]})</span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a>agu_bbox <span class="op">=</span> gpd.GeoDataFrame({<span class="st">"Name"</span>:[<span class="st">"ROI Bounding Box"</span>], <span class="st">"geometry"</span>:[roi_poly]},crs<span class="op">=</span><span class="st">"EPSG:4326"</span>)</span>
<span id="cb6-3"><a href="#cb6-3" aria-hidden="true" tabindex="-1"></a>agu_bbox</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="5">

<div>

<table class="dataframe table table-sm table-striped">
  <thead>
    <tr>
      <th></th>
      <th>Name</th>
      <th>geometry</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>ROI Bounding Box</td>
      <td>POLYGON ((-120.49929 34.44230, -120.01175 34.4...</td>
    </tr>
  </tbody>
</table>
</div>
</div>
</div>
<p>We can write this bounding box to a file for use in future notebooks.</p>
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a><span class="co">#agu_bbox.to_file('../data/roi_bbox.geojson', driver='GeoJSON')</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>We can go ahead and visualize our region of interest and the exterior boundary polygon containing ROIs. First add a function to help reformat bounding box coordinates to work with leaflet notation.</p>
<div class="sourceCode cell-code" id="cb8"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Function to convert a bounding box for use in leaflet notation</span></span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-3"><a href="#cb8-3" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> convert_bounds(bbox, invert_y<span class="op">=</span><span class="va">False</span>):</span>
<span id="cb8-4"><a href="#cb8-4" aria-hidden="true" tabindex="-1"></a>    <span class="co">"""</span></span>
<span id="cb8-5"><a href="#cb8-5" aria-hidden="true" tabindex="-1"></a><span class="co">    Helper method for changing bounding box representation to leaflet notation</span></span>
<span id="cb8-6"><a href="#cb8-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-7"><a href="#cb8-7" aria-hidden="true" tabindex="-1"></a><span class="co">    ``(lon1, lat1, lon2, lat2) -&gt; ((lat1, lon1), (lat2, lon2))``</span></span>
<span id="cb8-8"><a href="#cb8-8" aria-hidden="true" tabindex="-1"></a><span class="co">    """</span></span>
<span id="cb8-9"><a href="#cb8-9" aria-hidden="true" tabindex="-1"></a>    x1, y1, x2, y2 <span class="op">=</span> bbox</span>
<span id="cb8-10"><a href="#cb8-10" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> invert_y:</span>
<span id="cb8-11"><a href="#cb8-11" aria-hidden="true" tabindex="-1"></a>        y1, y2 <span class="op">=</span> y2, y1</span>
<span id="cb8-12"><a href="#cb8-12" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> ((y1, x1), (y2, x2))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell" data-metadata="{}" data-tags="[]" data-execution_count="8">
<div class="sourceCode cell-code" id="cb9"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a>fig <span class="op">=</span> Figure(width<span class="op">=</span><span class="st">"750px"</span>, height<span class="op">=</span><span class="st">"375px"</span>)</span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true" tabindex="-1"></a>map1 <span class="op">=</span> folium.Map(tiles<span class="op">=</span><span class="st">'https://mt1.google.com/vt/lyrs=y&amp;x=</span><span class="sc">{x}</span><span class="st">&amp;y=</span><span class="sc">{y}</span><span class="st">&amp;z=</span><span class="sc">{z}</span><span class="st">'</span>, attr<span class="op">=</span><span class="st">'Google'</span>)</span>
<span id="cb9-3"><a href="#cb9-3" aria-hidden="true" tabindex="-1"></a>fig.add_child(map1)</span>
<span id="cb9-4"><a href="#cb9-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-5"><a href="#cb9-5" aria-hidden="true" tabindex="-1"></a><span class="co"># Add Convex Hull Polygon</span></span>
<span id="cb9-6"><a href="#cb9-6" aria-hidden="true" tabindex="-1"></a>folium.GeoJson(agu_bbox,</span>
<span id="cb9-7"><a href="#cb9-7" aria-hidden="true" tabindex="-1"></a>                name<span class="op">=</span><span class="st">'bounding_box'</span>,</span>
<span id="cb9-8"><a href="#cb9-8" aria-hidden="true" tabindex="-1"></a>                ).add_to(map1)</span>
<span id="cb9-9"><a href="#cb9-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-10"><a href="#cb9-10" aria-hidden="true" tabindex="-1"></a><span class="co"># Add roi geodataframe</span></span>
<span id="cb9-11"><a href="#cb9-11" aria-hidden="true" tabindex="-1"></a>polygon.explore(</span>
<span id="cb9-12"><a href="#cb9-12" aria-hidden="true" tabindex="-1"></a>    <span class="st">"Name"</span>,</span>
<span id="cb9-13"><a href="#cb9-13" aria-hidden="true" tabindex="-1"></a>    popup<span class="op">=</span><span class="va">True</span>,</span>
<span id="cb9-14"><a href="#cb9-14" aria-hidden="true" tabindex="-1"></a>    categorical<span class="op">=</span><span class="va">True</span>,</span>
<span id="cb9-15"><a href="#cb9-15" aria-hidden="true" tabindex="-1"></a>    cmap<span class="op">=</span><span class="st">'Set3'</span>,</span>
<span id="cb9-16"><a href="#cb9-16" aria-hidden="true" tabindex="-1"></a>    style_kwds<span class="op">=</span><span class="bu">dict</span>(opacity<span class="op">=</span><span class="fl">0.7</span>, fillOpacity<span class="op">=</span><span class="fl">0.4</span>),</span>
<span id="cb9-17"><a href="#cb9-17" aria-hidden="true" tabindex="-1"></a>    name<span class="op">=</span><span class="st">"Regions of Interest"</span>,</span>
<span id="cb9-18"><a href="#cb9-18" aria-hidden="true" tabindex="-1"></a>    m<span class="op">=</span>map1</span>
<span id="cb9-19"><a href="#cb9-19" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb9-20"><a href="#cb9-20" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-21"><a href="#cb9-21" aria-hidden="true" tabindex="-1"></a>map1.add_child(folium.LayerControl())</span>
<span id="cb9-22"><a href="#cb9-22" aria-hidden="true" tabindex="-1"></a>map1.fit_bounds(bounds<span class="op">=</span>convert_bounds(polygon.unary_union.bounds))</span>
<span id="cb9-23"><a href="#cb9-23" aria-hidden="true" tabindex="-1"></a>display(fig)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">

<iframe srcdoc="<!DOCTYPE html>
<html>
<head>
    
    <meta http-equiv=&quot;content-type&quot; content=&quot;text/html; charset=UTF-8&quot; />
    
        <script>
            L_NO_TOUCH = false;
            L_DISABLE_3D = false;
        </script>
    
    <style>html, body {width: 100%;height: 100%;margin: 0;padding: 0;}</style>
    <style>#map {position:absolute;top:0;bottom:0;right:0;left:0;}</style>
    <script src=&quot;https://cdn.jsdelivr.net/npm/leaflet@1.9.3/dist/leaflet.js&quot;></script>
    <script src=&quot;https://code.jquery.com/jquery-3.7.1.min.js&quot;></script>
    <script src=&quot;https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/js/bootstrap.bundle.min.js&quot;></script>
    <script src=&quot;https://cdnjs.cloudflare.com/ajax/libs/Leaflet.awesome-markers/2.0.2/leaflet.awesome-markers.js&quot;></script>
    <link rel=&quot;stylesheet&quot; href=&quot;https://cdn.jsdelivr.net/npm/leaflet@1.9.3/dist/leaflet.css&quot;/>
    <link rel=&quot;stylesheet&quot; href=&quot;https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/css/bootstrap.min.css&quot;/>
    <link rel=&quot;stylesheet&quot; href=&quot;https://netdna.bootstrapcdn.com/bootstrap/3.0.0/css/bootstrap.min.css&quot;/>
    <link rel=&quot;stylesheet&quot; href=&quot;https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.2.0/css/all.min.css&quot;/>
    <link rel=&quot;stylesheet&quot; href=&quot;https://cdnjs.cloudflare.com/ajax/libs/Leaflet.awesome-markers/2.0.2/leaflet.awesome-markers.css&quot;/>
    <link rel=&quot;stylesheet&quot; href=&quot;https://cdn.jsdelivr.net/gh/python-visualization/folium/folium/templates/leaflet.awesome.rotate.min.css&quot;/>
    
            <meta name=&quot;viewport&quot; content=&quot;width=device-width,
                initial-scale=1.0, maximum-scale=1.0, user-scalable=no&quot; />
            <style>
                #map_67adf28a1aeef1643593c965021cd60f {
                    position: relative;
                    width: 100.0%;
                    height: 100.0%;
                    left: 0.0%;
                    top: 0.0%;
                }
                .leaflet-container { font-size: 1rem; }
            </style>
        
    
                    <style>
                        .foliumtooltip {
                            
                        }
                       .foliumtooltip table{
                            margin: auto;
                        }
                        .foliumtooltip tr{
                            text-align: left;
                        }
                        .foliumtooltip th{
                            padding: 2px; padding-right: 8px;
                        }
                    </style>
            
    
                    <style>
                        .foliumpopup {
                            margin: auto;
                        }
                       .foliumpopup table{
                            margin: auto;
                        }
                        .foliumpopup tr{
                            text-align: left;
                        }
                        .foliumpopup th{
                            padding: 2px; padding-right: 8px;
                        }
                    </style>
            
    
    <script src=&quot;https://code.jquery.com/ui/1.12.1/jquery-ui.js&quot;></script>
    <script>$( function() {
        $( &quot;.maplegend&quot; ).draggable({
            start: function (event, ui) {
                $(this).css({
                    right: &quot;auto&quot;,
                    top: &quot;auto&quot;,
                    bottom: &quot;auto&quot;
                });
            }
        });
    });
    </script>
    <style type='text/css'>
      .maplegend {
        position: absolute;
        z-index:9999;
        background-color: rgba(255, 255, 255, .8);
        border-radius: 5px;
        box-shadow: 0 0 15px rgba(0,0,0,0.2);
        padding: 10px;
        font: 12px/14px Arial, Helvetica, sans-serif;
        right: 10px;
        bottom: 20px;
      }
      .maplegend .legend-title {
        text-align: left;
        margin-bottom: 5px;
        font-weight: bold;
        }
      .maplegend .legend-scale ul {
        margin: 0;
        margin-bottom: 0px;
        padding: 0;
        float: left;
        list-style: none;
        }
      .maplegend .legend-scale ul li {
        list-style: none;
        margin-left: 0;
        line-height: 16px;
        margin-bottom: 2px;
        }
      .maplegend ul.legend-labels li span {
        display: block;
        float: left;
        height: 14px;
        width: 14px;
        margin-right: 5px;
        margin-left: 0;
        border: 0px solid #ccc;
        }
      .maplegend .legend-source {
        color: #777;
        clear: both;
        }
      .maplegend a {
        color: #777;
        }
    </style>
    
</head>
<body>
    
    
    <div id='maplegend Name' class='maplegend'>
        <div class='legend-title'>Name</div>
        <div class='legend-scale'>
            <ul class='legend-labels'>
                <li><span style='background:#8dd3c7'></span>Dangermond Preserve</li>
                <li><span style='background:#ffed6f'></span>Sedgwick Reserve</li>
            </ul>
        </div>
    </div>
    
    
            <div class=&quot;folium-map&quot; id=&quot;map_67adf28a1aeef1643593c965021cd60f&quot; ></div>
        
</body>
<script>
    
    
            var map_67adf28a1aeef1643593c965021cd60f = L.map(
                &quot;map_67adf28a1aeef1643593c965021cd60f&quot;,
                {
                    center: [0.0, 0.0],
                    crs: L.CRS.EPSG3857,
                    zoom: 1,
                    zoomControl: true,
                    preferCanvas: false,
                }
            );

            

        
    
            var tile_layer_38c24c30180ca803ca473d019620de1e = L.tileLayer(
                &quot;https://mt1.google.com/vt/lyrs=y\u0026x={x}\u0026y={y}\u0026z={z}&quot;,
                {&quot;attribution&quot;: &quot;Google&quot;, &quot;detectRetina&quot;: false, &quot;maxNativeZoom&quot;: 18, &quot;maxZoom&quot;: 18, &quot;minZoom&quot;: 0, &quot;noWrap&quot;: false, &quot;opacity&quot;: 1, &quot;subdomains&quot;: &quot;abc&quot;, &quot;tms&quot;: false}
            );
        
    
            tile_layer_38c24c30180ca803ca473d019620de1e.addTo(map_67adf28a1aeef1643593c965021cd60f);
        
    

        function geo_json_efc714008e38180c66829e6168b8ceb5_onEachFeature(feature, layer) {
            layer.on({
            });
        };
        var geo_json_efc714008e38180c66829e6168b8ceb5 = L.geoJson(null, {
                onEachFeature: geo_json_efc714008e38180c66829e6168b8ceb5_onEachFeature,
            
        });

        function geo_json_efc714008e38180c66829e6168b8ceb5_add (data) {
            geo_json_efc714008e38180c66829e6168b8ceb5
                .addData(data);
        }
            geo_json_efc714008e38180c66829e6168b8ceb5_add({&quot;bbox&quot;: [-120.499289029747, 34.4422979925537, -120.01175444547289, 34.743985733609556], &quot;features&quot;: [{&quot;bbox&quot;: [-120.499289029747, 34.4422979925537, -120.01175444547289, 34.743985733609556], &quot;geometry&quot;: {&quot;coordinates&quot;: [[[-120.499289029747, 34.4422979925537], [-120.01175444547289, 34.4422979925537], [-120.01175444547289, 34.743985733609556], [-120.499289029747, 34.743985733609556], [-120.499289029747, 34.4422979925537]]], &quot;type&quot;: &quot;Polygon&quot;}, &quot;id&quot;: &quot;0&quot;, &quot;properties&quot;: {&quot;Name&quot;: &quot;ROI Bounding Box&quot;}, &quot;type&quot;: &quot;Feature&quot;}], &quot;type&quot;: &quot;FeatureCollection&quot;});

        
    
            geo_json_efc714008e38180c66829e6168b8ceb5.addTo(map_67adf28a1aeef1643593c965021cd60f);
        
    
        function geo_json_835882390e28817de65a700af39b1975_styler(feature) {
            switch(feature.id) {
                case &quot;0&quot;: 
                    return {&quot;color&quot;: &quot;#ffed6f&quot;, &quot;fillColor&quot;: &quot;#ffed6f&quot;, &quot;fillOpacity&quot;: 0.4, &quot;opacity&quot;: 0.7, &quot;weight&quot;: 2};
                default:
                    return {&quot;color&quot;: &quot;#8dd3c7&quot;, &quot;fillColor&quot;: &quot;#8dd3c7&quot;, &quot;fillOpacity&quot;: 0.4, &quot;opacity&quot;: 0.7, &quot;weight&quot;: 2};
            }
        }
        function geo_json_835882390e28817de65a700af39b1975_highlighter(feature) {
            switch(feature.id) {
                default:
                    return {&quot;fillOpacity&quot;: 0.75};
            }
        }
        function geo_json_835882390e28817de65a700af39b1975_pointToLayer(feature, latlng) {
            var opts = {&quot;bubblingMouseEvents&quot;: true, &quot;color&quot;: &quot;#3388ff&quot;, &quot;dashArray&quot;: null, &quot;dashOffset&quot;: null, &quot;fill&quot;: true, &quot;fillColor&quot;: &quot;#3388ff&quot;, &quot;fillOpacity&quot;: 0.2, &quot;fillRule&quot;: &quot;evenodd&quot;, &quot;lineCap&quot;: &quot;round&quot;, &quot;lineJoin&quot;: &quot;round&quot;, &quot;opacity&quot;: 1.0, &quot;radius&quot;: 2, &quot;stroke&quot;: true, &quot;weight&quot;: 3};
            
            let style = geo_json_835882390e28817de65a700af39b1975_styler(feature)
            Object.assign(opts, style)
            
            return new L.CircleMarker(latlng, opts)
        }

        function geo_json_835882390e28817de65a700af39b1975_onEachFeature(feature, layer) {
            layer.on({
                mouseout: function(e) {
                    if(typeof e.target.setStyle === &quot;function&quot;){
                            geo_json_835882390e28817de65a700af39b1975.resetStyle(e.target);
                    }
                },
                mouseover: function(e) {
                    if(typeof e.target.setStyle === &quot;function&quot;){
                        const highlightStyle = geo_json_835882390e28817de65a700af39b1975_highlighter(e.target.feature)
                        e.target.setStyle(highlightStyle);
                    }
                },
            });
        };
        var geo_json_835882390e28817de65a700af39b1975 = L.geoJson(null, {
                onEachFeature: geo_json_835882390e28817de65a700af39b1975_onEachFeature,
            
                style: geo_json_835882390e28817de65a700af39b1975_styler,
                pointToLayer: geo_json_835882390e28817de65a700af39b1975_pointToLayer,
        });

        function geo_json_835882390e28817de65a700af39b1975_add (data) {
            geo_json_835882390e28817de65a700af39b1975
                .addData(data);
        }
            geo_json_835882390e28817de65a700af39b1975_add({&quot;bbox&quot;: [-120.499289029747, 34.4422979925537, -120.01175444547289, 34.743985733609556], &quot;features&quot;: [{&quot;bbox&quot;: [-120.07168830185367, 34.67874372675126, -120.01175444547289, 34.743985733609556], &quot;geometry&quot;: {&quot;coordinates&quot;: [[[-120.04041123986089, 34.74342268352134], [-120.04121889204112, 34.743735066665835], [-120.04233680955474, 34.743985733609556], [-120.04347866996883, 34.742743832848156], [-120.04466572607036, 34.7424755469407], [-120.0448866879965, 34.74191265779671], [-120.04532294168776, 34.74159883138454], [-120.04804960173333, 34.741930978842824], [-120.04882554857339, 34.74223480319798], [-120.04949820119256, 34.74213674742191], [-120.04993617368781, 34.74236084527639], [-120.05063226768779, 34.74246510413567], [-120.05084529371707, 34.74296515425221], [-120.05181991617927, 34.742292688494636], [-120.05248533194795, 34.74258310344906], [-120.05311871770458, 34.742205091313274], [-120.0537722979379, 34.7422376073561], [-120.05409711012827, 34.74194830623631], [-120.0543713797112, 34.74209128417946], [-120.05479918084599, 34.74210391650734], [-120.05579592922335, 34.741837342896304], [-120.05694257691489, 34.74214544480658], [-120.05741042037987, 34.74181489507682], [-120.05767271320745, 34.74132546754863], [-120.05754227015422, 34.740740878009824], [-120.05876345149959, 34.74069180836263], [-120.05917953489605, 34.74018712575532], [-120.0587615854979, 34.739770015724844], [-120.06043616892654, 34.73832197492165], [-120.06128451686234, 34.73743320382969], [-120.0633872937648, 34.73640466515508], [-120.0639059857869, 34.7363786768863], [-120.06403134870462, 34.73519616510308], [-120.06454804185732, 34.734541873380046], [-120.06744848879882, 34.733043732603065], [-120.070616303288, 34.72952389483826], [-120.07043959994115, 34.72724173490022], [-120.0711658556598, 34.72294007365655], [-120.07168830185367, 34.71997034050748], [-120.06802222094016, 34.71707138144172], [-120.0643838637534, 34.71556891113268], [-120.06181919501256, 34.71432727384942], [-120.06086869366344, 34.7146474924856], [-120.0601201043257, 34.7146055700268], [-120.05915143262852, 34.712156508207215], [-120.05914365552792, 34.71213594341261], [-120.0579297886696, 34.709929219916546], [-120.05770835562292, 34.70940385347888], [-120.05751031403676, 34.708753407845755], [-120.05739358464504, 34.707625117415304], [-120.05644763385853, 34.70594280996333], [-120.05643958520336, 34.70592877328525], [-120.05560802087543, 34.7041919156709], [-120.05554467210189, 34.70251089221562], [-120.05550630815135, 34.701492772768894], [-120.055461488798, 34.7005885983348], [-120.0554596736261, 34.7005550655234], [-120.0554039826769, 34.69948129063735], [-120.05538831873399, 34.698385230495944], [-120.05526178291916, 34.69616125098816], [-120.05517157722116, 34.694136196842145], [-120.05507940302671, 34.69206681413075], [-120.05507556891348, 34.691797549336464], [-120.05506238375865, 34.69087158829482], [-120.05516147749043, 34.69025048197192], [-120.05537367433509, 34.688920416937414], [-120.05477895715674, 34.687500193851115], [-120.05421030242205, 34.68614216540855], [-120.05437973139783, 34.683147158844996], [-120.05446824425277, 34.681582630902554], [-120.05427316208798, 34.68056492337604], [-120.05409520266919, 34.67963650372387], [-120.05409236336455, 34.67898649251284], [-120.05086593954367, 34.67894506251114], [-120.04735720219035, 34.67889985551723], [-120.0454382179078, 34.67887508968519], [-120.04296564515735, 34.67884313196442], [-120.03885718195134, 34.67878992264703], [-120.03882024814752, 34.67878944343524], [-120.038822553688, 34.67878278821947], [-120.03864999677779, 34.67878153792925], [-120.03857836007664, 34.67878101897387], [-120.0375931324717, 34.6787738631857], [-120.03344480724418, 34.67877083712449], [-120.0285350182976, 34.67874372675126], [-120.02766842116552, 34.67966056614673], [-120.02688127769018, 34.681520761856035], [-120.02565480881036, 34.686067202877275], [-120.02557636256647, 34.68749492328606], [-120.02540359502339, 34.69063897254925], [-120.02698181220869, 34.691998736361825], [-120.02707411605091, 34.704552662731395], [-120.02711070780717, 34.71876004647024], [-120.02728384103979, 34.719704576193706], [-120.02488659066623, 34.72151568825152], [-120.01860679260076, 34.72166938674092], [-120.01819018507503, 34.721863965265676], [-120.01794880316505, 34.72197670352912], [-120.0181373446802, 34.723016839560394], [-120.0181601976407, 34.72314289819512], [-120.01268426806213, 34.72738510493605], [-120.01248884292058, 34.72753649045302], [-120.01243858361981, 34.72813618399153], [-120.01175444547289, 34.729442988434734], [-120.01960069899336, 34.735545259144054], [-120.02895215128893, 34.742804281371775], [-120.02912625895728, 34.742742063707205], [-120.02981138599067, 34.7427657274346], [-120.03090839289258, 34.74269810021536], [-120.03202999082784, 34.74302707415178], [-120.03311348576628, 34.74237415359347], [-120.03333602264894, 34.74317636970352], [-120.03380537304476, 34.74313736951284], [-120.03475265629952, 34.743324641364374], [-120.03595506984117, 34.74345547658775], [-120.03733930865612, 34.742861728096315], [-120.04041123986089, 34.74342268352134]]], &quot;type&quot;: &quot;Polygon&quot;}, &quot;id&quot;: &quot;0&quot;, &quot;properties&quot;: {&quot;Acreage&quot;: 5874.21, &quot;Name&quot;: &quot;Sedgwick Reserve&quot;, &quot;__folium_color&quot;: &quot;#ffed6f&quot;}, &quot;type&quot;: &quot;Feature&quot;}, {&quot;bbox&quot;: [-120.499289029747, 34.4422979925537, -120.357702146634, 34.574184013493], &quot;geometry&quot;: {&quot;coordinates&quot;: [[[-120.473673757175, 34.5698725745769], [-120.474268898347, 34.5700040405158], [-120.474600420056, 34.5701232448023], [-120.474945113745, 34.5701935127921], [-120.475165291462, 34.5701956555251], [-120.475829839562, 34.5703522163797], [-120.476126837274, 34.570484771851], [-120.476367652784, 34.5705644460913], [-120.476767257077, 34.5707922837598], [-120.476956580558, 34.570862527191], [-120.47733898406, 34.5709833977747], [-120.477599964183, 34.5710588660795], [-120.47817850394, 34.5712261617217], [-120.481738523721, 34.5722400097051], [-120.486565296247, 34.5739613611966], [-120.487336678587, 34.5741731203603], [-120.487458438702, 34.574184013493], [-120.487792444198, 34.5688007459224], [-120.488221077539, 34.5644728137622], [-120.488428943236, 34.5614911377697], [-120.489191659322, 34.5505070706799], [-120.489267306881, 34.5494175061616], [-120.48991932846, 34.5400250245606], [-120.49155701063, 34.5153077705207], [-120.490914956929, 34.5153470831478], [-120.490858485216, 34.515352131213], [-120.490409558688, 34.5153020000506], [-120.490331954646, 34.514724729607], [-120.490604744291, 34.5144394345523], [-120.491028935108, 34.5144253018181], [-120.49161675957, 34.514405716414], [-120.491877588824, 34.5117997226576], [-120.492389392466, 34.5116813855763], [-120.492404682661, 34.5114140472664], [-120.492268448668, 34.5107907923188], [-120.493188821525, 34.5110243541547], [-120.493970350972, 34.5109179461089], [-120.495068521249, 34.5108643502897], [-120.495038659034, 34.5115200674382], [-120.495039163031, 34.5120929218963], [-120.495984242865, 34.5125697378642], [-120.498181346587, 34.5130307621533], [-120.498123390052, 34.5123369936108], [-120.498095764042, 34.5120062836795], [-120.497985803758, 34.5106899533691], [-120.498090845087, 34.5106889410481], [-120.498303942318, 34.5105477020061], [-120.498625059495, 34.5103348662614], [-120.498762182787, 34.5102439802922], [-120.498871329196, 34.510171638186], [-120.498894553595, 34.5100221260595], [-120.498923852075, 34.509873347969], [-120.498959195165, 34.5097254716365], [-120.499000538146, 34.5095786657504], [-120.499059573485, 34.509374940859], [-120.499147206376, 34.5090423929844], [-120.499202559112, 34.508820276959], [-120.499239734895, 34.5085488741828], [-120.499250794996, 34.5083486531177], [-120.499254083819, 34.5081482414938], [-120.499249597285, 34.507947844773], [-120.499237340047, 34.5077476710807], [-120.499217325463, 34.5075479267013], [-120.499189573417, 34.507348816988], [-120.499154112519, 34.5071505481559], [-120.499289029747, 34.5071287386186], [-120.499233464986, 34.5069405231472], [-120.499221872857, 34.5069012600297], [-120.499063837923, 34.5064646326826], [-120.498932996477, 34.5061570457899], [-120.498818408853, 34.5058720119715], [-120.498623315983, 34.5054732140658], [-120.498181088135, 34.5047088104681], [-120.498023587755, 34.5044365643444], [-120.497580505627, 34.503737414272], [-120.496127891706, 34.501135679845], [-120.496240754909, 34.5009613084681], [-120.498011374504, 34.5005639046725], [-120.496306010257, 34.4955043966029], [-120.495431360006, 34.4947586359758], [-120.49356932046, 34.4945977079514], [-120.490977259782, 34.4920943138676], [-120.490423013336, 34.4903539674059], [-120.490172553336, 34.4895674891384], [-120.489164684652, 34.4881510121425], [-120.488200969833, 34.4870440781173], [-120.4853270001, 34.4847528928572], [-120.482819733794, 34.4836013402195], [-120.481681765562, 34.4824480217754], [-120.480701626145, 34.481628318715], [-120.478441632665, 34.4797381663922], [-120.47555283623, 34.4736303146603], [-120.474105463343, 34.4681500043105], [-120.473110842247, 34.4582269564998], [-120.473291886157, 34.4579641923204], [-120.473033475491, 34.4576316197362], [-120.472465884553, 34.454125694944], [-120.471356238116, 34.4532217783727], [-120.471167899797, 34.4530029200902], [-120.471109787149, 34.4528695275691], [-120.471051009323, 34.4527137192015], [-120.470927808689, 34.4523696044615], [-120.470671353503, 34.4520348496189], [-120.470471318945, 34.4516461693752], [-120.470385940596, 34.4508530206709], [-120.470123969058, 34.4504283806063], [-120.470758833753, 34.4500416825379], [-120.471181960124, 34.4497839510985], [-120.471229059664, 34.4495184686253], [-120.471391697591, 34.449055697612], [-120.471832931443, 34.4488269769211], [-120.471729365609, 34.4486278295873], [-120.471769946125, 34.4482690466694], [-120.471601486969, 34.4482642285405], [-120.471060999993, 34.4485040526842], [-120.470621018159, 34.4483090603018], [-120.470211336098, 34.4489511927851], [-120.470026476405, 34.4492427757797], [-120.469515037907, 34.4494160416012], [-120.469387911847, 34.4496920110722], [-120.468461511874, 34.4498741956832], [-120.46792536886, 34.4492790586956], [-120.467628986712, 34.4489500597483], [-120.466905240826, 34.4492565098178], [-120.465943966248, 34.4496195672036], [-120.464655193256, 34.4493073949995], [-120.463223894796, 34.4489163034687], [-120.462337772009, 34.448543633795], [-120.462042398192, 34.4482141712519], [-120.461744849481, 34.4478822790921], [-120.460304664703, 34.4478302116895], [-120.459417799422, 34.4474569508048], [-120.458732212012, 34.4468598517634], [-120.458633656842, 34.4466090206738], [-120.458568737608, 34.4465524767442], [-120.458539199729, 34.446368614307], [-120.458348529198, 34.4458833332416], [-120.458437544011, 34.4457358718019], [-120.458793232881, 34.4451463663297], [-120.458580378696, 34.4446115419742], [-120.457432245138, 34.4448826048084], [-120.456587131457, 34.4444478258254], [-120.456509992418, 34.4436265031584], [-120.456251349387, 34.4433206638602], [-120.454226425466, 34.4430624112946], [-120.452653913344, 34.4422979925537], [-120.451946239776, 34.4428771121843], [-120.452723807357, 34.4439614575846], [-120.452662645674, 34.4446677630137], [-120.45299172018, 34.4452437279766], [-120.452378457834, 34.4463626224092], [-120.451337168761, 34.4473187915795], [-120.450815849917, 34.4475094506155], [-120.449452910472, 34.4480707744484], [-120.447853024737, 34.4485992714863], [-120.44651085367, 34.4489421125084], [-120.446197814568, 34.4490987913058], [-120.445933656964, 34.4493747732761], [-120.445690728059, 34.4497555826001], [-120.445664821648, 34.4501094624365], [-120.445527423023, 34.4503753710323], [-120.445067684528, 34.4507906225475], [-120.444091370672, 34.4512313167406], [-120.442577243774, 34.451592613765], [-120.441686382297, 34.4516926907227], [-120.441166637934, 34.4517131747041], [-120.439587673205, 34.4515143770564], [-120.438752019035, 34.4514910820401], [-120.438144977525, 34.4514230890755], [-120.437709009405, 34.4514118015094], [-120.437216386959, 34.4515319659313], [-120.435667778514, 34.4515430183671], [-120.433915709264, 34.4512173076069], [-120.433511977675, 34.4512159591047], [-120.432471559705, 34.4510758598459], [-120.431694041238, 34.4509711547898], [-120.430274981666, 34.4506354702667], [-120.429709877218, 34.4505698414206], [-120.427587364016, 34.4503233179728], [-120.426876996484, 34.4501715463065], [-120.426573549182, 34.4501067116115], [-120.426252977703, 34.4500382182339], [-120.426069043101, 34.4499828397236], [-120.425305471374, 34.4498825737903], [-120.424686149467, 34.4498427536747], [-120.424093665868, 34.449750436401], [-120.42369541987, 34.4497960027391], [-120.422983491614, 34.4497472263523], [-120.422578813789, 34.4498377637825], [-120.422318659693, 34.4498616485717], [-120.42166000293, 34.449948737694], [-120.421170073867, 34.4500761754989], [-120.420347271565, 34.4504210764452], [-120.419873540428, 34.4507205520857], [-120.419606490998, 34.4509742238109], [-120.419461252804, 34.4512224611556], [-120.41938000696, 34.451458347596], [-120.419247384212, 34.4517429451309], [-120.419092122298, 34.4520046495873], [-120.418732145913, 34.4523178169448], [-120.418551892974, 34.4526816394167], [-120.418130582665, 34.4530465606527], [-120.417327488518, 34.453337695674], [-120.417002568518, 34.4533290902482], [-120.416815715888, 34.4534425426647], [-120.416424365124, 34.4535355947168], [-120.416421240814, 34.4535684660067], [-120.416386822882, 34.4539302025903], [-120.415253324658, 34.4658423090285], [-120.415203159248, 34.4663696083867], [-120.414631607579, 34.4723787160223], [-120.414212857113, 34.4767808450416], [-120.413944433307, 34.479602343388], [-120.413572918172, 34.4835074657814], [-120.412758369169, 34.4920677898374], [-120.412631823749, 34.4933975958215], [-120.407916577951, 34.4935100590974], [-120.402751700365, 34.4936316954858], [-120.401901835879, 34.4936516876257], [-120.397238699848, 34.493748887132], [-120.39273691307, 34.4938674321066], [-120.392352081229, 34.4938750793525], [-120.384896714585, 34.4940327862872], [-120.379993579422, 34.4941362584553], [-120.377839650906, 34.4941844453204], [-120.375991353319, 34.4952713912298], [-120.367965449605, 34.4999906114074], [-120.36774377502, 34.5001209379492], [-120.367258680304, 34.5001285638213], [-120.359126424738, 34.5002522419618], [-120.357702146634, 34.5032125420973], [-120.361217526605, 34.5032709808622], [-120.362496951952, 34.5049436060675], [-120.363440873389, 34.5054831944267], [-120.364018740336, 34.5077227097778], [-120.36332904295, 34.5097295561369], [-120.365031422912, 34.512252712451], [-120.364823694436, 34.5132242917346], [-120.365451937221, 34.5139480412655], [-120.365912887008, 34.5150702730013], [-120.366075878921, 34.5151302783262], [-120.367480358202, 34.5152657277682], [-120.372391160666, 34.5151371671737], [-120.374779134133, 34.5169819151248], [-120.375285265406, 34.5190637237547], [-120.375991611003, 34.5200795699009], [-120.376052771394, 34.5201675308613], [-120.375991612848, 34.520312157324], [-120.375825956212, 34.5207038871999], [-120.375371804881, 34.521710699293], [-120.376007023441, 34.5220722562213], [-120.376074413575, 34.5220940649509], [-120.379466799792, 34.5231916669648], [-120.381006658897, 34.5232676428505], [-120.38092307914, 34.5223796673316], [-120.381034098714, 34.5224374368346], [-120.381499443479, 34.5224710672393], [-120.382046494517, 34.5225665382582], [-120.382515496285, 34.5227091531803], [-120.383152184578, 34.5231667974061], [-120.383582357008, 34.5229531980577], [-120.383939000798, 34.5230580496765], [-120.384237198508, 34.5236258124823], [-120.38483672678, 34.523690302715], [-120.385028538973, 34.5237824405921], [-120.385133055655, 34.5243014906451], [-120.385260356192, 34.5246971293101], [-120.385664797403, 34.5247741292164], [-120.385915594467, 34.5250083704182], [-120.386574598676, 34.5256794109736], [-120.387111529327, 34.5257416314091], [-120.38773024861, 34.5260540412035], [-120.388022004063, 34.5262971539976], [-120.388676419447, 34.5264054084611], [-120.389529073335, 34.5265464525374], [-120.390504185866, 34.526640802745], [-120.391009207089, 34.5268431739642], [-120.391005721786, 34.5267264247092], [-120.391437325341, 34.5266492011179], [-120.391967696094, 34.5267829930735], [-120.393598177772, 34.5279179871388], [-120.394278999323, 34.5281045152003], [-120.395653188293, 34.5280785241694], [-120.396858599886, 34.5283576586532], [-120.397527577687, 34.5283971605779], [-120.398163868095, 34.5282842450376], [-120.398358239519, 34.5275018086042], [-120.399457794637, 34.5296274952515], [-120.402517701634, 34.5306632925699], [-120.404956161772, 34.531969355796], [-120.40789835488, 34.5352810789159], [-120.410703648928, 34.5371664852474], [-120.409762714298, 34.5407936959614], [-120.407431728691, 34.5416454409844], [-120.407227166948, 34.5419090188626], [-120.406306210521, 34.543079851039], [-120.406944456954, 34.5441272876299], [-120.407522149604, 34.5456565779677], [-120.406954902755, 34.5465708190505], [-120.408105884287, 34.5471715234752], [-120.412261839527, 34.5465707765058], [-120.413848941698, 34.5465817557597], [-120.416997571025, 34.5466034809769], [-120.420464462939, 34.5466273070577], [-120.423568318481, 34.5453059371054], [-120.425671437831, 34.5457077935336], [-120.429380659739, 34.5470565617633], [-120.430824990401, 34.5478858249855], [-120.432308362638, 34.5487374678597], [-120.430068074025, 34.5557487591411], [-120.430279946032, 34.5590111176329], [-120.432859692109, 34.5591264238944], [-120.434094197464, 34.5597121193747], [-120.43569484508, 34.559997118885], [-120.438418856458, 34.5594295723898], [-120.439090381371, 34.5593398374361], [-120.440824185975, 34.5596621084705], [-120.441772170159, 34.5599314010404], [-120.44634239648, 34.5617714738772], [-120.449838762706, 34.5627923451978], [-120.450674169161, 34.5631521959599], [-120.451140845572, 34.5635020140722], [-120.452148375883, 34.564463817018], [-120.455352153541, 34.5644374351165], [-120.456989566593, 34.5644071417117], [-120.458123596772, 34.5653783565248], [-120.459283206652, 34.565609708385], [-120.459998574452, 34.5669259718166], [-120.460969801901, 34.5675287882282], [-120.461670716271, 34.5676146889461], [-120.46336962219, 34.568922931321], [-120.465191204463, 34.570325572233], [-120.465566315188, 34.5702263782914], [-120.466455319658, 34.5699912928409], [-120.467503319101, 34.5699493585098], [-120.46821518151, 34.5699452256349], [-120.469612717659, 34.5698961713165], [-120.470564669519, 34.5698064646454], [-120.470932506464, 34.569834087755], [-120.471305184293, 34.5698172428706], [-120.47175025689, 34.569738163534], [-120.472009329261, 34.5697256920336], [-120.472274479659, 34.569749151624], [-120.473033797364, 34.5699056034398], [-120.473321205161, 34.5698689443084], [-120.473673757175, 34.5698725745769]]], &quot;type&quot;: &quot;Polygon&quot;}, &quot;id&quot;: &quot;1&quot;, &quot;properties&quot;: {&quot;Acreage&quot;: 24458.6153971, &quot;Name&quot;: &quot;Dangermond Preserve&quot;, &quot;__folium_color&quot;: &quot;#8dd3c7&quot;}, &quot;type&quot;: &quot;Feature&quot;}], &quot;type&quot;: &quot;FeatureCollection&quot;});

        
    
    geo_json_835882390e28817de65a700af39b1975.bindTooltip(
    function(layer){
    let div = L.DomUtil.create('div');
    
    let handleObject = feature=>typeof(feature)=='object' ? JSON.stringify(feature) : feature;
    let fields = [&quot;Name&quot;, &quot;Acreage&quot;];
    let aliases = [&quot;Name&quot;, &quot;Acreage&quot;];
    let table = '<table>' +
        String(
        fields.map(
        (v,i)=>
        `<tr>
            <th>${aliases[i]}</th>
            
            <td>${handleObject(layer.feature.properties[v])}</td>
        </tr>`).join(''))
    +'</table>';
    div.innerHTML=table;
    
    return div
    }
    ,{&quot;className&quot;: &quot;foliumtooltip&quot;, &quot;sticky&quot;: true});
                     
    
    geo_json_835882390e28817de65a700af39b1975.bindPopup(
    function(layer){
    let div = L.DomUtil.create('div');
    
    let handleObject = feature=>typeof(feature)=='object' ? JSON.stringify(feature) : feature;
    let fields = [&quot;Name&quot;, &quot;Acreage&quot;];
    let aliases = [&quot;Name&quot;, &quot;Acreage&quot;];
    let table = '<table>' +
        String(
        fields.map(
        (v,i)=>
        `<tr>
            <th>${aliases[i].toLocaleString()}</th>
            
            <td>${handleObject(layer.feature.properties[v]).toLocaleString()}</td>
        </tr>`).join(''))
    +'</table>';
    div.innerHTML=table;
    
    return div
    }
    ,{&quot;className&quot;: &quot;foliumpopup&quot;});
                     
    
            geo_json_835882390e28817de65a700af39b1975.addTo(map_67adf28a1aeef1643593c965021cd60f);
        
    
            var layer_control_bc78bf4a67ffb556e0718289c319b99b_layers = {
                base_layers : {
                    &quot;https://mt1.google.com/vt/lyrs=y\u0026x={x}\u0026y={y}\u0026z={z}&quot; : tile_layer_38c24c30180ca803ca473d019620de1e,
                },
                overlays :  {
                    &quot;bounding_box&quot; : geo_json_efc714008e38180c66829e6168b8ceb5,
                    &quot;Regions of Interest&quot; : geo_json_835882390e28817de65a700af39b1975,
                },
            };
            let layer_control_bc78bf4a67ffb556e0718289c319b99b = L.control.layers(
                layer_control_bc78bf4a67ffb556e0718289c319b99b_layers.base_layers,
                layer_control_bc78bf4a67ffb556e0718289c319b99b_layers.overlays,
                {&quot;autoZIndex&quot;: true, &quot;collapsed&quot;: true, &quot;position&quot;: &quot;topright&quot;}
            ).addTo(map_67adf28a1aeef1643593c965021cd60f);

        
    
            map_67adf28a1aeef1643593c965021cd60f.fitBounds(
                [[34.4422979925537, -120.499289029747], [34.743985733609556, -120.01175444547289]],
                {}
            );
        
</script>
</html>" width="750px" height="375px" style="border:none !important;" "allowfullscreen"="" "webkitallowfullscreen"="" "mozallowfullscreen"=""></iframe>
</div>
</div>
<p>Above we can see our regions of interest (ROIs) and the exterior boundary polygon containing the ROIs that we opened. We can hover over different areas to see the name of each ROI.</p>
<p>Lastly, we need to convert our polygon to a list of coordinate pairs, so it will be accepted as a ‘polygon’ search parameter in <code>earthaccess</code>, as it expects a list of coordinate pairs in a counterclockwise order.</p>
<div class="sourceCode cell-code" id="cb10"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Set ROI as list of exterior polygon vertices as coordinate pairs</span></span>
<span id="cb10-2"><a href="#cb10-2" aria-hidden="true" tabindex="-1"></a>roi <span class="op">=</span> <span class="bu">list</span>(roi_poly.exterior.coords)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
<section id="define-collections-of-interest" class="level3">
<h3 class="anchored" data-anchor-id="define-collections-of-interest">2.2 Define Collections of Interest</h3>
<p>We need to specify which products we want to search for. The best way to do this is using their concept-id. As mentioned above, we will conduct our search using the EMIT Level 2A Reflectance (EMITL2ARFL) and ECOSTRESS Level 2 Tiled Land Surface Temperature and Emissivity (ECO_L2T_LSTE). We can do some quick collection queries using <code>earthaccess</code> to retrieve the concept-id for each dataset.</p>
<blockquote class="blockquote">
<p>Note: Here we use the Tiled ECOSTRESS LSTE Product. This will also work with the gridded LSTE and the swath; however, the swath product does not have a browse image for the visualization in section 4 and will require additional processing for subsequent analysis.</p>
</blockquote>
<div class="cell" data-metadata="{}" data-tags="[]" data-execution_count="10">
<div class="sourceCode cell-code" id="cb11"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a><span class="co"># EMIT Collection Query</span></span>
<span id="cb11-2"><a href="#cb11-2" aria-hidden="true" tabindex="-1"></a>emit_collection_query <span class="op">=</span> earthaccess.collection_query().keyword(<span class="st">'EMIT L2A Reflectance'</span>)</span>
<span id="cb11-3"><a href="#cb11-3" aria-hidden="true" tabindex="-1"></a>emit_collection_query.fields([<span class="st">'ShortName'</span>,<span class="st">'EntryTitle'</span>,<span class="st">'Version'</span>]).get()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="10">
<pre><code>[{
   "meta": {
     "concept-id": "C2408750690-LPCLOUD",
     "granule-count": 80543,
     "provider-id": "LPCLOUD"
   },
   "umm": {
     "ShortName": "EMITL2ARFL",
     "EntryTitle": "EMIT L2A Estimated Surface Reflectance and Uncertainty and Masks 60 m V001",
     "Version": "001"
   }
 }]</code></pre>
</div>
</div>
<div class="cell" data-metadata="{}" data-tags="[]" data-execution_count="11">
<div class="sourceCode cell-code" id="cb13"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a><span class="co"># ECOSTRESS Collection Query</span></span>
<span id="cb13-2"><a href="#cb13-2" aria-hidden="true" tabindex="-1"></a>eco_collection_query <span class="op">=</span> earthaccess.collection_query().keyword(<span class="st">'ECOSTRESS L2 Tiled LSTE'</span>)</span>
<span id="cb13-3"><a href="#cb13-3" aria-hidden="true" tabindex="-1"></a>eco_collection_query.fields([<span class="st">'ShortName'</span>,<span class="st">'EntryTitle'</span>,<span class="st">'Version'</span>]).get()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="11">
<pre><code>[{
   "meta": {
     "concept-id": "C2076090826-LPCLOUD",
     "granule-count": 3133795,
     "provider-id": "LPCLOUD"
   },
   "umm": {
     "ShortName": "ECO_L2T_LSTE",
     "EntryTitle": "ECOSTRESS Tiled Land Surface Temperature and Emissivity Instantaneous L2 Global 70 m V002",
     "Version": "002"
   }
 },
 {
   "meta": {
     "concept-id": "C2204557047-LPDAAC_ECS",
     "granule-count": 1761265,
     "provider-id": "LPDAAC_ECS"
   },
   "umm": {
     "ShortName": "ECO_L2T_LSTE",
     "EntryTitle": "ECOSTRESS Tiled Land Surface Temperature and Emissivity Instantaneous L2 Global 70 m V002",
     "Version": "002"
   }
 },
 {
   "meta": {
     "concept-id": "C2090073749-LPCLOUD",
     "granule-count": 202814,
     "provider-id": "LPCLOUD"
   },
   "umm": {
     "ShortName": "ECO_L2T_STARS",
     "EntryTitle": "ECOSTRESS Tiled Ancillary NDVI and Albedo L2 Global 70 m V002",
     "Version": "002"
   }
 }]</code></pre>
</div>
</div>
<p>If your search returns multiple products, be sure to select the right concept-id For this example it will be the first one. We want to use the <code>LPCLOUD</code> ECOSTRESS Tiled Land Surface Temperature and Emissivity (concept-id: “C2076090826-LPCLOUD”). Create a list of these concept-ids for our data search.</p>
<div class="sourceCode cell-code" id="cb15"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Data Collections for our search</span></span>
<span id="cb15-2"><a href="#cb15-2" aria-hidden="true" tabindex="-1"></a>concept_ids <span class="op">=</span> [<span class="st">'C2408750690-LPCLOUD'</span>, <span class="st">'C2076090826-LPCLOUD'</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
<section id="define-date-range" class="level3">
<h3 class="anchored" data-anchor-id="define-date-range">2.3 Define Date Range</h3>
<p>For our date range, we’ll look at data collected between January and October 2023. The <code>date_range</code> can be specified as a pair of dates, start and end (up to, not including).</p>
<div class="sourceCode cell-code" id="cb16"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Define Date Range</span></span>
<span id="cb16-2"><a href="#cb16-2" aria-hidden="true" tabindex="-1"></a>date_range <span class="op">=</span> (<span class="st">'2023-01-01'</span>,<span class="st">'2023-11-01'</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
<section id="searching" class="level3">
<h3 class="anchored" data-anchor-id="searching">2.4 Searching</h3>
<p>Submit a query using <code>earthaccess</code>.</p>
<div class="cell" data-metadata="{}" data-tags="[]" data-execution_count="14">
<div class="sourceCode cell-code" id="cb17"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a>results <span class="op">=</span> earthaccess.search_data(</span>
<span id="cb17-2"><a href="#cb17-2" aria-hidden="true" tabindex="-1"></a>    concept_id<span class="op">=</span>concept_ids,</span>
<span id="cb17-3"><a href="#cb17-3" aria-hidden="true" tabindex="-1"></a>    polygon<span class="op">=</span>roi,</span>
<span id="cb17-4"><a href="#cb17-4" aria-hidden="true" tabindex="-1"></a>    temporal<span class="op">=</span>date_range,</span>
<span id="cb17-5"><a href="#cb17-5" aria-hidden="true" tabindex="-1"></a>    count<span class="op">=</span><span class="dv">500</span></span>
<span id="cb17-6"><a href="#cb17-6" aria-hidden="true" tabindex="-1"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Granules found: 323</code></pre>
</div>
</div>
</section>
</section>
<section id="organizing-and-filtering-results" class="level2">
<h2 class="anchored" data-anchor-id="organizing-and-filtering-results">3. Organizing and Filtering Results</h2>
<p>As we can see from above, the results object contains a list of objects with metadata and links. We can convert this to a more readable format, a dataframe. In addition, we can make it a geodataframe by taking the spatial metadata and creating a shapely polygon representing the spatial coverage, and further customize which information we want to use from other metadata fields.</p>
<p>First, we define some functions to help us create a shapely object for our geodataframe, and retrieve the specific browse image URLs that we want. By default, the browse image selected by <code>earthaccess</code> is the first one in the list, but the ECO_L2_LSTE has several browse images, and we want to make sure we retrieve the <code>png</code> file, which is a preview of the LSTE.</p>
<div class="sourceCode cell-code" id="cb19"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Function to create shapely polygon of spatial coverage</span></span>
<span id="cb19-2"><a href="#cb19-2" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> get_shapely_object(result:earthaccess.results.DataGranule):</span>
<span id="cb19-3"><a href="#cb19-3" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Get Geometry Keys</span></span>
<span id="cb19-4"><a href="#cb19-4" aria-hidden="true" tabindex="-1"></a>    geo <span class="op">=</span> result[<span class="st">'umm'</span>][<span class="st">'SpatialExtent'</span>][<span class="st">'HorizontalSpatialDomain'</span>][<span class="st">'Geometry'</span>]</span>
<span id="cb19-5"><a href="#cb19-5" aria-hidden="true" tabindex="-1"></a>    keys <span class="op">=</span> geo.keys()</span>
<span id="cb19-6"><a href="#cb19-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb19-7"><a href="#cb19-7" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> <span class="st">'BoundingRectangles'</span> <span class="kw">in</span> keys:</span>
<span id="cb19-8"><a href="#cb19-8" aria-hidden="true" tabindex="-1"></a>        bounding_rectangle <span class="op">=</span> geo[<span class="st">'BoundingRectangles'</span>][<span class="dv">0</span>]</span>
<span id="cb19-9"><a href="#cb19-9" aria-hidden="true" tabindex="-1"></a>        <span class="co"># Create bbox tuple</span></span>
<span id="cb19-10"><a href="#cb19-10" aria-hidden="true" tabindex="-1"></a>        bbox_coords <span class="op">=</span> (bounding_rectangle[<span class="st">'WestBoundingCoordinate'</span>],bounding_rectangle[<span class="st">'SouthBoundingCoordinate'</span>],</span>
<span id="cb19-11"><a href="#cb19-11" aria-hidden="true" tabindex="-1"></a>                    bounding_rectangle[<span class="st">'EastBoundingCoordinate'</span>],bounding_rectangle[<span class="st">'NorthBoundingCoordinate'</span>])</span>
<span id="cb19-12"><a href="#cb19-12" aria-hidden="true" tabindex="-1"></a>        <span class="co"># Create shapely geometry from bbox</span></span>
<span id="cb19-13"><a href="#cb19-13" aria-hidden="true" tabindex="-1"></a>        shape <span class="op">=</span> geometry.box(<span class="op">*</span>bbox_coords, ccw<span class="op">=</span><span class="va">True</span>)</span>
<span id="cb19-14"><a href="#cb19-14" aria-hidden="true" tabindex="-1"></a>    <span class="cf">elif</span> <span class="st">'GPolygons'</span> <span class="kw">in</span> keys:</span>
<span id="cb19-15"><a href="#cb19-15" aria-hidden="true" tabindex="-1"></a>        points <span class="op">=</span> geo[<span class="st">'GPolygons'</span>][<span class="dv">0</span>][<span class="st">'Boundary'</span>][<span class="st">'Points'</span>]</span>
<span id="cb19-16"><a href="#cb19-16" aria-hidden="true" tabindex="-1"></a>        <span class="co"># Create shapely geometry from polygons</span></span>
<span id="cb19-17"><a href="#cb19-17" aria-hidden="true" tabindex="-1"></a>        shape <span class="op">=</span> geometry.Polygon([[p[<span class="st">'Longitude'</span>],p[<span class="st">'Latitude'</span>]] <span class="cf">for</span> p <span class="kw">in</span> points])</span>
<span id="cb19-18"><a href="#cb19-18" aria-hidden="true" tabindex="-1"></a>    <span class="cf">else</span>:</span>
<span id="cb19-19"><a href="#cb19-19" aria-hidden="true" tabindex="-1"></a>         <span class="cf">raise</span> <span class="pp">ValueError</span>(<span class="st">'Provided result does not contain bounding boxes/polygons or is incompatible.'</span>)</span>
<span id="cb19-20"><a href="#cb19-20" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span>(shape)</span>
<span id="cb19-21"><a href="#cb19-21" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb19-22"><a href="#cb19-22" aria-hidden="true" tabindex="-1"></a><span class="co"># Retrieve png browse image if it exists or first jpg in list of urls</span></span>
<span id="cb19-23"><a href="#cb19-23" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> get_png(result:earthaccess.results.DataGranule):</span>
<span id="cb19-24"><a href="#cb19-24" aria-hidden="true" tabindex="-1"></a>    https_links <span class="op">=</span> [link <span class="cf">for</span> link <span class="kw">in</span> result.dataviz_links() <span class="cf">if</span> <span class="st">'https'</span> <span class="kw">in</span> link]</span>
<span id="cb19-25"><a href="#cb19-25" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> <span class="bu">len</span>(https_links) <span class="op">==</span> <span class="dv">1</span>:</span>
<span id="cb19-26"><a href="#cb19-26" aria-hidden="true" tabindex="-1"></a>        browse <span class="op">=</span> https_links[<span class="dv">0</span>]</span>
<span id="cb19-27"><a href="#cb19-27" aria-hidden="true" tabindex="-1"></a>    <span class="cf">elif</span> <span class="bu">len</span>(https_links) <span class="op">==</span> <span class="dv">0</span>:</span>
<span id="cb19-28"><a href="#cb19-28" aria-hidden="true" tabindex="-1"></a>        browse <span class="op">=</span> <span class="st">'no browse image'</span></span>
<span id="cb19-29"><a href="#cb19-29" aria-hidden="true" tabindex="-1"></a>        warnings.warn(<span class="ss">f"There is no browse imagery for </span><span class="sc">{</span>result[<span class="st">'umm'</span>][<span class="st">'GranuleUR'</span>]<span class="sc">}</span><span class="ss">."</span>)</span>
<span id="cb19-30"><a href="#cb19-30" aria-hidden="true" tabindex="-1"></a>    <span class="cf">else</span>:</span>
<span id="cb19-31"><a href="#cb19-31" aria-hidden="true" tabindex="-1"></a>        browse <span class="op">=</span> [png <span class="cf">for</span> png <span class="kw">in</span> https_links <span class="cf">if</span> <span class="st">'.png'</span> <span class="kw">in</span> png][<span class="dv">0</span>]</span>
<span id="cb19-32"><a href="#cb19-32" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span>(browse)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Now that we have our functions we can create a dataframe, then calculate and add our shapely geometries to make a geodataframe. After that, add a column for our browse image urls and print the number of granules in our results, so we can monitor the quantity we are working with a we winnow down to the data we want.</p>
<div class="cell" data-metadata="{}" data-tags="[]" data-execution_count="16">
<div class="sourceCode cell-code" id="cb20"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb20-1"><a href="#cb20-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Create Dataframe of Results Metadata</span></span>
<span id="cb20-2"><a href="#cb20-2" aria-hidden="true" tabindex="-1"></a>results_df <span class="op">=</span> pd.json_normalize(results)</span>
<span id="cb20-3"><a href="#cb20-3" aria-hidden="true" tabindex="-1"></a><span class="co"># Create shapely polygons for result</span></span>
<span id="cb20-4"><a href="#cb20-4" aria-hidden="true" tabindex="-1"></a>geometries <span class="op">=</span> [get_shapely_object(results[index]) <span class="cf">for</span> index <span class="kw">in</span> results_df.index.to_list()]</span>
<span id="cb20-5"><a href="#cb20-5" aria-hidden="true" tabindex="-1"></a><span class="co"># Convert to GeoDataframe</span></span>
<span id="cb20-6"><a href="#cb20-6" aria-hidden="true" tabindex="-1"></a>gdf <span class="op">=</span> gpd.GeoDataFrame(results_df, geometry<span class="op">=</span>geometries, crs<span class="op">=</span><span class="st">"EPSG:4326"</span>)</span>
<span id="cb20-7"><a href="#cb20-7" aria-hidden="true" tabindex="-1"></a><span class="co"># Remove results df, no longer needed</span></span>
<span id="cb20-8"><a href="#cb20-8" aria-hidden="true" tabindex="-1"></a><span class="kw">del</span> results_df</span>
<span id="cb20-9"><a href="#cb20-9" aria-hidden="true" tabindex="-1"></a><span class="co"># Add browse imagery links</span></span>
<span id="cb20-10"><a href="#cb20-10" aria-hidden="true" tabindex="-1"></a>gdf[<span class="st">'browse'</span>] <span class="op">=</span> [get_png(granule) <span class="cf">for</span> granule <span class="kw">in</span> results]</span>
<span id="cb20-11"><a href="#cb20-11" aria-hidden="true" tabindex="-1"></a>gdf[<span class="st">'shortname'</span>] <span class="op">=</span> [result[<span class="st">'umm'</span>][<span class="st">'CollectionReference'</span>][<span class="st">'ShortName'</span>] <span class="cf">for</span> result <span class="kw">in</span> results]</span>
<span id="cb20-12"><a href="#cb20-12" aria-hidden="true" tabindex="-1"></a><span class="co"># Preview GeoDataframe</span></span>
<span id="cb20-13"><a href="#cb20-13" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="ss">f'</span><span class="sc">{</span>gdf<span class="sc">.</span>shape[<span class="dv">0</span>]<span class="sc">}</span><span class="ss"> granules total'</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>323 granules total</code></pre>
</div>
</div>
<p>Preview our geodataframe to get an idea what it looks like.</p>
<div class="cell" data-metadata="{}" data-tags="[]" data-execution_count="17">
<div class="sourceCode cell-code" id="cb22"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb22-1"><a href="#cb22-1" aria-hidden="true" tabindex="-1"></a>gdf.head()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="17">

<div>

<table class="dataframe table table-sm table-striped">
  <thead>
    <tr>
      <th></th>
      <th>size</th>
      <th>meta.concept-type</th>
      <th>meta.concept-id</th>
      <th>meta.revision-id</th>
      <th>meta.native-id</th>
      <th>meta.collection-concept-id</th>
      <th>meta.provider-id</th>
      <th>meta.format</th>
      <th>meta.revision-date</th>
      <th>umm.TemporalExtent.RangeDateTime.BeginningDateTime</th>
      <th>...</th>
      <th>umm.Platforms</th>
      <th>umm.MetadataSpecification.URL</th>
      <th>umm.MetadataSpecification.Name</th>
      <th>umm.MetadataSpecification.Version</th>
      <th>umm.SpatialExtent.HorizontalSpatialDomain.Geometry.GPolygons</th>
      <th>umm.PGEVersionClass.PGEName</th>
      <th>umm.CloudCover</th>
      <th>geometry</th>
      <th>browse</th>
      <th>shortname</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>2.496260</td>
      <td>granule</td>
      <td>G2581836170-LPCLOUD</td>
      <td>2</td>
      <td>ECOv002_L2T_LSTE_25460_016_11SKU_20230101T1552...</td>
      <td>C2076090826-LPCLOUD</td>
      <td>LPCLOUD</td>
      <td>application/echo10+xml</td>
      <td>2024-01-20T15:57:11.266Z</td>
      <td>2023-01-01T15:52:48.650Z</td>
      <td>...</td>
      <td>[{'ShortName': 'ISS', 'Instruments': [{'ShortN...</td>
      <td>https://cdn.earthdata.nasa.gov/umm/granule/v1.6.6</td>
      <td>UMM-G</td>
      <td>1.6.6</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>POLYGON ((-119.06582 34.21003, -119.06582 35.2...</td>
      <td>https://data.lpdaac.earthdatacloud.nasa.gov/lp...</td>
      <td>ECO_L2T_LSTE</td>
    </tr>
    <tr>
      <th>1</th>
      <td>0.292531</td>
      <td>granule</td>
      <td>G2586136519-LPCLOUD</td>
      <td>2</td>
      <td>ECOv002_L2T_LSTE_25486_005_10SGD_20230103T0743...</td>
      <td>C2076090826-LPCLOUD</td>
      <td>LPCLOUD</td>
      <td>application/echo10+xml</td>
      <td>2024-01-20T17:35:56.995Z</td>
      <td>2023-01-03T07:43:30.510Z</td>
      <td>...</td>
      <td>[{'ShortName': 'ISS', 'Instruments': [{'ShortN...</td>
      <td>https://cdn.earthdata.nasa.gov/umm/granule/v1.6.6</td>
      <td>UMM-G</td>
      <td>1.6.6</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>POLYGON ((-119.59844 34.20719, -119.59844 35.2...</td>
      <td>https://data.lpdaac.earthdatacloud.nasa.gov/lp...</td>
      <td>ECO_L2T_LSTE</td>
    </tr>
    <tr>
      <th>2</th>
      <td>8.495430</td>
      <td>granule</td>
      <td>G2586136993-LPCLOUD</td>
      <td>2</td>
      <td>ECOv002_L2T_LSTE_25486_006_11SKU_20230103T0744...</td>
      <td>C2076090826-LPCLOUD</td>
      <td>LPCLOUD</td>
      <td>application/echo10+xml</td>
      <td>2024-01-20T17:36:01.364Z</td>
      <td>2023-01-03T07:44:22.480Z</td>
      <td>...</td>
      <td>[{'ShortName': 'ISS', 'Instruments': [{'ShortN...</td>
      <td>https://cdn.earthdata.nasa.gov/umm/granule/v1.6.6</td>
      <td>UMM-G</td>
      <td>1.6.6</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>POLYGON ((-119.06582 34.21003, -119.06582 35.2...</td>
      <td>https://data.lpdaac.earthdatacloud.nasa.gov/lp...</td>
      <td>ECO_L2T_LSTE</td>
    </tr>
    <tr>
      <th>3</th>
      <td>5.103070</td>
      <td>granule</td>
      <td>G2586137000-LPCLOUD</td>
      <td>2</td>
      <td>ECOv002_L2T_LSTE_25486_006_10SGD_20230103T0744...</td>
      <td>C2076090826-LPCLOUD</td>
      <td>LPCLOUD</td>
      <td>application/echo10+xml</td>
      <td>2024-01-20T17:36:08.168Z</td>
      <td>2023-01-03T07:44:22.480Z</td>
      <td>...</td>
      <td>[{'ShortName': 'ISS', 'Instruments': [{'ShortN...</td>
      <td>https://cdn.earthdata.nasa.gov/umm/granule/v1.6.6</td>
      <td>UMM-G</td>
      <td>1.6.6</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>POLYGON ((-119.59844 34.20719, -119.59844 35.2...</td>
      <td>https://data.lpdaac.earthdatacloud.nasa.gov/lp...</td>
      <td>ECO_L2T_LSTE</td>
    </tr>
    <tr>
      <th>4</th>
      <td>1.160680</td>
      <td>granule</td>
      <td>G2591892077-LPCLOUD</td>
      <td>2</td>
      <td>ECOv002_L2T_LSTE_25547_005_11SKU_20230107T0607...</td>
      <td>C2076090826-LPCLOUD</td>
      <td>LPCLOUD</td>
      <td>application/echo10+xml</td>
      <td>2024-01-17T16:14:22.254Z</td>
      <td>2023-01-07T06:07:21.560Z</td>
      <td>...</td>
      <td>[{'ShortName': 'ISS', 'Instruments': [{'ShortN...</td>
      <td>https://cdn.earthdata.nasa.gov/umm/granule/v1.6.6</td>
      <td>UMM-G</td>
      <td>1.6.6</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>POLYGON ((-119.06582 34.21003, -119.06582 35.2...</td>
      <td>https://data.lpdaac.earthdatacloud.nasa.gov/lp...</td>
      <td>ECO_L2T_LSTE</td>
    </tr>
  </tbody>
</table>
<p>5 rows × 35 columns</p>
</div>
</div>
</div>
<p>There are a lot of columns with data that is not relevant to our goal, so we can drop those. To do that, list the names of columns.</p>
<div class="cell" data-metadata="{}" data-tags="[]" data-execution_count="18">
<div class="sourceCode cell-code" id="cb23"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb23-1"><a href="#cb23-1" aria-hidden="true" tabindex="-1"></a><span class="co"># List Column Names</span></span>
<span id="cb23-2"><a href="#cb23-2" aria-hidden="true" tabindex="-1"></a>gdf.columns</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="18">
<pre><code>Index(['size', 'meta.concept-type', 'meta.concept-id', 'meta.revision-id',
       'meta.native-id', 'meta.collection-concept-id', 'meta.provider-id',
       'meta.format', 'meta.revision-date',
       'umm.TemporalExtent.RangeDateTime.BeginningDateTime',
       'umm.TemporalExtent.RangeDateTime.EndingDateTime',
       'umm.OrbitCalculatedSpatialDomains', 'umm.GranuleUR',
       'umm.AdditionalAttributes', 'umm.MeasuredParameters',
       'umm.SpatialExtent.HorizontalSpatialDomain.Geometry.BoundingRectangles',
       'umm.ProviderDates', 'umm.CollectionReference.ShortName',
       'umm.CollectionReference.Version', 'umm.PGEVersionClass.PGEVersion',
       'umm.RelatedUrls', 'umm.DataGranule.DayNightFlag',
       'umm.DataGranule.Identifiers', 'umm.DataGranule.ProductionDateTime',
       'umm.DataGranule.ArchiveAndDistributionInformation', 'umm.Platforms',
       'umm.MetadataSpecification.URL', 'umm.MetadataSpecification.Name',
       'umm.MetadataSpecification.Version',
       'umm.SpatialExtent.HorizontalSpatialDomain.Geometry.GPolygons',
       'umm.PGEVersionClass.PGEName', 'umm.CloudCover', 'geometry', 'browse',
       'shortname'],
      dtype='object')</code></pre>
</div>
</div>
<p>Now create a list of columns to keep and use it to filter the dataframe.</p>
<div class="cell" data-metadata="{}" data-tags="[]" data-execution_count="19">
<div class="sourceCode cell-code" id="cb25"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb25-1"><a href="#cb25-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Create a list of columns to keep</span></span>
<span id="cb25-2"><a href="#cb25-2" aria-hidden="true" tabindex="-1"></a>keep_cols <span class="op">=</span> [<span class="st">'meta.concept-id'</span>,<span class="st">'meta.native-id'</span>, <span class="st">'umm.TemporalExtent.RangeDateTime.BeginningDateTime'</span>,<span class="st">'umm.TemporalExtent.RangeDateTime.EndingDateTime'</span>,<span class="st">'umm.CloudCover'</span>,<span class="st">'umm.DataGranule.DayNightFlag'</span>,<span class="st">'geometry'</span>,<span class="st">'browse'</span>, <span class="st">'shortname'</span>]</span>
<span id="cb25-3"><a href="#cb25-3" aria-hidden="true" tabindex="-1"></a><span class="co"># Remove unneeded columns</span></span>
<span id="cb25-4"><a href="#cb25-4" aria-hidden="true" tabindex="-1"></a>gdf <span class="op">=</span> gdf[gdf.columns.intersection(keep_cols)]</span>
<span id="cb25-5"><a href="#cb25-5" aria-hidden="true" tabindex="-1"></a>gdf.head()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="19">

<div>

<table class="dataframe table table-sm table-striped">
  <thead>
    <tr>
      <th></th>
      <th>meta.concept-id</th>
      <th>meta.native-id</th>
      <th>umm.TemporalExtent.RangeDateTime.BeginningDateTime</th>
      <th>umm.TemporalExtent.RangeDateTime.EndingDateTime</th>
      <th>umm.DataGranule.DayNightFlag</th>
      <th>umm.CloudCover</th>
      <th>geometry</th>
      <th>browse</th>
      <th>shortname</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>G2581836170-LPCLOUD</td>
      <td>ECOv002_L2T_LSTE_25460_016_11SKU_20230101T1552...</td>
      <td>2023-01-01T15:52:48.650Z</td>
      <td>2023-01-01T15:53:40.620Z</td>
      <td>Day</td>
      <td>NaN</td>
      <td>POLYGON ((-119.06582 34.21003, -119.06582 35.2...</td>
      <td>https://data.lpdaac.earthdatacloud.nasa.gov/lp...</td>
      <td>ECO_L2T_LSTE</td>
    </tr>
    <tr>
      <th>1</th>
      <td>G2586136519-LPCLOUD</td>
      <td>ECOv002_L2T_LSTE_25486_005_10SGD_20230103T0743...</td>
      <td>2023-01-03T07:43:30.510Z</td>
      <td>2023-01-03T07:44:22.480Z</td>
      <td>Night</td>
      <td>NaN</td>
      <td>POLYGON ((-119.59844 34.20719, -119.59844 35.2...</td>
      <td>https://data.lpdaac.earthdatacloud.nasa.gov/lp...</td>
      <td>ECO_L2T_LSTE</td>
    </tr>
    <tr>
      <th>2</th>
      <td>G2586136993-LPCLOUD</td>
      <td>ECOv002_L2T_LSTE_25486_006_11SKU_20230103T0744...</td>
      <td>2023-01-03T07:44:22.480Z</td>
      <td>2023-01-03T07:45:14.450Z</td>
      <td>Night</td>
      <td>NaN</td>
      <td>POLYGON ((-119.06582 34.21003, -119.06582 35.2...</td>
      <td>https://data.lpdaac.earthdatacloud.nasa.gov/lp...</td>
      <td>ECO_L2T_LSTE</td>
    </tr>
    <tr>
      <th>3</th>
      <td>G2586137000-LPCLOUD</td>
      <td>ECOv002_L2T_LSTE_25486_006_10SGD_20230103T0744...</td>
      <td>2023-01-03T07:44:22.480Z</td>
      <td>2023-01-03T07:45:14.450Z</td>
      <td>Night</td>
      <td>NaN</td>
      <td>POLYGON ((-119.59844 34.20719, -119.59844 35.2...</td>
      <td>https://data.lpdaac.earthdatacloud.nasa.gov/lp...</td>
      <td>ECO_L2T_LSTE</td>
    </tr>
    <tr>
      <th>4</th>
      <td>G2591892077-LPCLOUD</td>
      <td>ECOv002_L2T_LSTE_25547_005_11SKU_20230107T0607...</td>
      <td>2023-01-07T06:07:21.560Z</td>
      <td>2023-01-07T06:08:13.530Z</td>
      <td>Night</td>
      <td>NaN</td>
      <td>POLYGON ((-119.06582 34.21003, -119.06582 35.2...</td>
      <td>https://data.lpdaac.earthdatacloud.nasa.gov/lp...</td>
      <td>ECO_L2T_LSTE</td>
    </tr>
  </tbody>
</table>
</div>
</div>
</div>
<p>This is looking better, but we can make it more readable by renaming our columns.</p>
<div class="cell" data-metadata="{}" data-tags="[]" data-execution_count="20">
<div class="sourceCode cell-code" id="cb26"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb26-1"><a href="#cb26-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Rename some Columns</span></span>
<span id="cb26-2"><a href="#cb26-2" aria-hidden="true" tabindex="-1"></a>gdf.rename(columns <span class="op">=</span> {<span class="st">'meta.concept-id'</span>:<span class="st">'concept_id'</span>,<span class="st">'meta.native-id'</span>:<span class="st">'granule'</span>,</span>
<span id="cb26-3"><a href="#cb26-3" aria-hidden="true" tabindex="-1"></a>                       <span class="st">'umm.TemporalExtent.RangeDateTime.BeginningDateTime'</span>:<span class="st">'start_datetime'</span>,</span>
<span id="cb26-4"><a href="#cb26-4" aria-hidden="true" tabindex="-1"></a>                      <span class="st">'umm.TemporalExtent.RangeDateTime.EndingDateTime'</span>:<span class="st">'end_datetime'</span>,</span>
<span id="cb26-5"><a href="#cb26-5" aria-hidden="true" tabindex="-1"></a>                      <span class="st">'umm.CloudCover'</span>:<span class="st">'cloud_cover'</span>,</span>
<span id="cb26-6"><a href="#cb26-6" aria-hidden="true" tabindex="-1"></a>                      <span class="st">'umm.DataGranule.DayNightFlag'</span>:<span class="st">'day_night'</span>}, inplace<span class="op">=</span><span class="va">True</span>)</span>
<span id="cb26-7"><a href="#cb26-7" aria-hidden="true" tabindex="-1"></a>gdf.head()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="20">

<div>

<table class="dataframe table table-sm table-striped">
  <thead>
    <tr>
      <th></th>
      <th>concept_id</th>
      <th>granule</th>
      <th>start_datetime</th>
      <th>end_datetime</th>
      <th>day_night</th>
      <th>cloud_cover</th>
      <th>geometry</th>
      <th>browse</th>
      <th>shortname</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>G2581836170-LPCLOUD</td>
      <td>ECOv002_L2T_LSTE_25460_016_11SKU_20230101T1552...</td>
      <td>2023-01-01T15:52:48.650Z</td>
      <td>2023-01-01T15:53:40.620Z</td>
      <td>Day</td>
      <td>NaN</td>
      <td>POLYGON ((-119.06582 34.21003, -119.06582 35.2...</td>
      <td>https://data.lpdaac.earthdatacloud.nasa.gov/lp...</td>
      <td>ECO_L2T_LSTE</td>
    </tr>
    <tr>
      <th>1</th>
      <td>G2586136519-LPCLOUD</td>
      <td>ECOv002_L2T_LSTE_25486_005_10SGD_20230103T0743...</td>
      <td>2023-01-03T07:43:30.510Z</td>
      <td>2023-01-03T07:44:22.480Z</td>
      <td>Night</td>
      <td>NaN</td>
      <td>POLYGON ((-119.59844 34.20719, -119.59844 35.2...</td>
      <td>https://data.lpdaac.earthdatacloud.nasa.gov/lp...</td>
      <td>ECO_L2T_LSTE</td>
    </tr>
    <tr>
      <th>2</th>
      <td>G2586136993-LPCLOUD</td>
      <td>ECOv002_L2T_LSTE_25486_006_11SKU_20230103T0744...</td>
      <td>2023-01-03T07:44:22.480Z</td>
      <td>2023-01-03T07:45:14.450Z</td>
      <td>Night</td>
      <td>NaN</td>
      <td>POLYGON ((-119.06582 34.21003, -119.06582 35.2...</td>
      <td>https://data.lpdaac.earthdatacloud.nasa.gov/lp...</td>
      <td>ECO_L2T_LSTE</td>
    </tr>
    <tr>
      <th>3</th>
      <td>G2586137000-LPCLOUD</td>
      <td>ECOv002_L2T_LSTE_25486_006_10SGD_20230103T0744...</td>
      <td>2023-01-03T07:44:22.480Z</td>
      <td>2023-01-03T07:45:14.450Z</td>
      <td>Night</td>
      <td>NaN</td>
      <td>POLYGON ((-119.59844 34.20719, -119.59844 35.2...</td>
      <td>https://data.lpdaac.earthdatacloud.nasa.gov/lp...</td>
      <td>ECO_L2T_LSTE</td>
    </tr>
    <tr>
      <th>4</th>
      <td>G2591892077-LPCLOUD</td>
      <td>ECOv002_L2T_LSTE_25547_005_11SKU_20230107T0607...</td>
      <td>2023-01-07T06:07:21.560Z</td>
      <td>2023-01-07T06:08:13.530Z</td>
      <td>Night</td>
      <td>NaN</td>
      <td>POLYGON ((-119.06582 34.21003, -119.06582 35.2...</td>
      <td>https://data.lpdaac.earthdatacloud.nasa.gov/lp...</td>
      <td>ECO_L2T_LSTE</td>
    </tr>
  </tbody>
</table>
</div>
</div>
</div>
<blockquote class="blockquote">
<p><strong>Note: If querying on-premises (not cloud) LP DAAC datasets, the <code>meta.concept-id</code> will not show as <code>xxxxxx-LPCLOUD</code>. For these datasets, the granule name can be retrieved from the <code>umm.DataGranule.Identifiers</code> column.</strong></p>
</blockquote>
<p>We can filter using the day/night flag as well, but this step will be unnecessary as we check to ensure all results from ECOSTRESS fall within an hour of resulting EMIT granules.</p>
<div class="sourceCode cell-code" id="cb27"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb27-1"><a href="#cb27-1" aria-hidden="true" tabindex="-1"></a><span class="co"># gdf = gdf[gdf['day_night'].str.contains('Day')]</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Our first step toward filtering the datasets will be to add a column with a <code>datetime</code>.</p>
<blockquote class="blockquote">
<p><strong>You may have noticed that the date format is similar for ECOSTRESS and EMIT, but the ECOSTRESS data also includes fractional seconds. If using an different version of <code>pandas</code>, you may need to drop the <code>format='ISO8601'</code>argument to the <code>to_datetime</code> function, as shown in the commented-out line.</strong></p>
</blockquote>
<div class="sourceCode cell-code" id="cb28"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb28-1"><a href="#cb28-1" aria-hidden="true" tabindex="-1"></a><span class="co"># gdf['datetime_obj'] = pd.to_datetime(gdf['start_datetime']) # different pandas version</span></span>
<span id="cb28-2"><a href="#cb28-2" aria-hidden="true" tabindex="-1"></a>gdf[<span class="st">'datetime_obj'</span>] <span class="op">=</span> pd.to_datetime(gdf[<span class="st">'start_datetime'</span>], <span class="bu">format</span><span class="op">=</span><span class="st">'ISO8601'</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>We can roughly visualize the quantity of results by month at our location using a histogram with 8 bins (Jan - Oct).</p>
<div class="cell" data-metadata="{}" data-tags="[]" data-execution_count="23">
<div class="sourceCode cell-code" id="cb29"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb29-1"><a href="#cb29-1" aria-hidden="true" tabindex="-1"></a>gdf.hist(column<span class="op">=</span><span class="st">'datetime_obj'</span>, by<span class="op">=</span><span class="st">'shortname'</span>, bins<span class="op">=</span><span class="dv">10</span>, color<span class="op">=</span><span class="st">'green'</span>, edgecolor<span class="op">=</span><span class="st">'black'</span>, linewidth<span class="op">=</span><span class="dv">1</span>, sharey<span class="op">=</span><span class="va">True</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="23">
<pre><code>array([&lt;Axes: title={'center': 'ECO_L2T_LSTE'}&gt;,
       &lt;Axes: title={'center': 'EMITL2ARFL'}&gt;], dtype=object)</code></pre>
</div>
<div class="cell-output cell-output-display">
<p><img src="01_Finding_Concurrent_Data_files/figure-html/cell-24-output-2.png" class="img-fluid"></p>
</div>
</div>
<p>Now we will separate the results into two dataframes, one for ECOTRESS and one for EMIT, and print the number of results for each so we can monitor how many granules we’re filtering.</p>
<div class="cell" data-metadata="{}" data-tags="[]" data-execution_count="24">
<div class="sourceCode cell-code" id="cb31"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb31-1"><a href="#cb31-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Suppress Setting with Copy Warning - not applicable in this use case</span></span>
<span id="cb31-2"><a href="#cb31-2" aria-hidden="true" tabindex="-1"></a>pd.options.mode.chained_assignment <span class="op">=</span> <span class="va">None</span>  <span class="co"># default='warn'</span></span>
<span id="cb31-3"><a href="#cb31-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-4"><a href="#cb31-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Split into two dataframes - ECO and EMIT</span></span>
<span id="cb31-5"><a href="#cb31-5" aria-hidden="true" tabindex="-1"></a>eco_gdf <span class="op">=</span> gdf[gdf[<span class="st">'granule'</span>].<span class="bu">str</span>.contains(<span class="st">'ECO'</span>)]</span>
<span id="cb31-6"><a href="#cb31-6" aria-hidden="true" tabindex="-1"></a>emit_gdf <span class="op">=</span> gdf[gdf[<span class="st">'granule'</span>].<span class="bu">str</span>.contains(<span class="st">'EMIT'</span>)]</span>
<span id="cb31-7"><a href="#cb31-7" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="ss">f' ECOSTRESS Granules: </span><span class="sc">{</span>eco_gdf<span class="sc">.</span>shape[<span class="dv">0</span>]<span class="sc">}</span><span class="ss"> </span><span class="ch">\n</span><span class="ss"> EMIT Granules: </span><span class="sc">{</span>emit_gdf<span class="sc">.</span>shape[<span class="dv">0</span>]<span class="sc">}</span><span class="ss">'</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> ECOSTRESS Granules: 288 
 EMIT Granules: 35</code></pre>
</div>
</div>
<div class="cell" data-metadata="{}" data-tags="[]" data-execution_count="25">
<div class="sourceCode cell-code" id="cb33"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb33-1"><a href="#cb33-1" aria-hidden="true" tabindex="-1"></a>emit_gdf.head()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="25">

<div>

<table class="dataframe table table-sm table-striped">
  <thead>
    <tr>
      <th></th>
      <th>concept_id</th>
      <th>granule</th>
      <th>start_datetime</th>
      <th>end_datetime</th>
      <th>day_night</th>
      <th>cloud_cover</th>
      <th>geometry</th>
      <th>browse</th>
      <th>shortname</th>
      <th>datetime_obj</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>31</th>
      <td>G2623634492-LPCLOUD</td>
      <td>EMIT_L2A_RFL_001_20230129T211308_2302914_003</td>
      <td>2023-01-29T21:13:08Z</td>
      <td>2023-01-29T21:13:20Z</td>
      <td>Day</td>
      <td>96.0</td>
      <td>POLYGON ((-120.29004 35.49324, -121.08087 34.8...</td>
      <td>https://data.lpdaac.earthdatacloud.nasa.gov/lp...</td>
      <td>EMITL2ARFL</td>
      <td>2023-01-29 21:13:08+00:00</td>
    </tr>
    <tr>
      <th>53</th>
      <td>G2631040813-LPCLOUD</td>
      <td>EMIT_L2A_RFL_001_20230219T202939_2305013_002</td>
      <td>2023-02-19T20:29:39Z</td>
      <td>2023-02-19T20:29:51Z</td>
      <td>Day</td>
      <td>47.0</td>
      <td>POLYGON ((-120.70791 35.54348, -121.19894 34.9...</td>
      <td>https://data.lpdaac.earthdatacloud.nasa.gov/lp...</td>
      <td>EMITL2ARFL</td>
      <td>2023-02-19 20:29:39+00:00</td>
    </tr>
    <tr>
      <th>56</th>
      <td>G2631045418-LPCLOUD</td>
      <td>EMIT_L2A_RFL_001_20230219T202951_2305013_003</td>
      <td>2023-02-19T20:29:51Z</td>
      <td>2023-02-19T20:30:14Z</td>
      <td>Day</td>
      <td>67.0</td>
      <td>POLYGON ((-120.04838 35.03646, -120.54523 34.4...</td>
      <td>https://data.lpdaac.earthdatacloud.nasa.gov/lp...</td>
      <td>EMITL2ARFL</td>
      <td>2023-02-19 20:29:51+00:00</td>
    </tr>
    <tr>
      <th>65</th>
      <td>G2631457332-LPCLOUD</td>
      <td>EMIT_L2A_RFL_001_20230223T185536_2305412_003</td>
      <td>2023-02-23T18:55:36Z</td>
      <td>2023-02-23T18:55:48Z</td>
      <td>Day</td>
      <td>98.0</td>
      <td>POLYGON ((-120.61175 35.58776, -121.10041 34.9...</td>
      <td>https://data.lpdaac.earthdatacloud.nasa.gov/lp...</td>
      <td>EMITL2ARFL</td>
      <td>2023-02-23 18:55:36+00:00</td>
    </tr>
    <tr>
      <th>66</th>
      <td>G2631458885-LPCLOUD</td>
      <td>EMIT_L2A_RFL_001_20230223T185548_2305412_004</td>
      <td>2023-02-23T18:55:48Z</td>
      <td>2023-02-23T18:56:00Z</td>
      <td>Day</td>
      <td>96.0</td>
      <td>POLYGON ((-119.95147 35.08163, -120.44685 34.4...</td>
      <td>https://data.lpdaac.earthdatacloud.nasa.gov/lp...</td>
      <td>EMITL2ARFL</td>
      <td>2023-02-23 18:55:48+00:00</td>
    </tr>
  </tbody>
</table>
</div>
</div>
</div>
<p>We still haven’t filtered the locations where EMIT and ECOSTRESS have data at the same spatial location and timeframe. The EMIT acquisition mask has been added to ECOSTRESS, so in most cases if EMIT is collecting data, so will ECOSTRESS, but there are edge cases where this is not true. To do this we’ll use two filters to catch the edge-cases and provide an example that can be used with other datasets.</p>
<p>First, since EMIT has a smaller swath width, we can use a unary union of the spatial coverage present in our geodataframe to filter out ECOSTRESS granules that do not overlap with it.</p>
<div class="cell" data-metadata="{}" data-tags="[]" data-execution_count="26">
<div class="sourceCode cell-code" id="cb34"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb34-1"><a href="#cb34-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Subset ECOSTRESS Granules in Geodataframe by intersection with EMIT granules</span></span>
<span id="cb34-2"><a href="#cb34-2" aria-hidden="true" tabindex="-1"></a><span class="co">## Create new column based on intersection with union of EMIT polygons.</span></span>
<span id="cb34-3"><a href="#cb34-3" aria-hidden="true" tabindex="-1"></a>eco_gdf[<span class="st">'intersects'</span>] <span class="op">=</span> eco_gdf.intersects(emit_gdf.unary_union)</span>
<span id="cb34-4"><a href="#cb34-4" aria-hidden="true" tabindex="-1"></a><span class="co">## Apply subsetting</span></span>
<span id="cb34-5"><a href="#cb34-5" aria-hidden="true" tabindex="-1"></a>eco_gdf <span class="op">=</span> eco_gdf[eco_gdf[<span class="st">'intersects'</span>] <span class="op">==</span> <span class="va">True</span>]</span>
<span id="cb34-6"><a href="#cb34-6" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="ss">f' ECOSTRESS Granules: </span><span class="sc">{</span>eco_gdf<span class="sc">.</span>shape[<span class="dv">0</span>]<span class="sc">}</span><span class="ss"> </span><span class="ch">\n</span><span class="ss"> EMIT Granules: </span><span class="sc">{</span>emit_gdf<span class="sc">.</span>shape[<span class="dv">0</span>]<span class="sc">}</span><span class="ss">'</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> ECOSTRESS Granules: 288 
 EMIT Granules: 35</code></pre>
</div>
</div>
<p>In this instance, our results aren’t narrowed because our region of interest is smaller than a single EMIT scene. If the spatial ROI was very large, this would be much more unlikely.</p>
<p>Additionally, we want to make sure that data in our results are collected at the same time. For EMIT and ECOSTRESS, the EMIT acquisition mask has been added to the ECOSTRESS mask, meaning that if there is an EMIT scene, there should also be an ECOSTRESS scene acquired at the same time. In practice, however, the timestamps on the scenes can vary slightly. In order to capture this slight variability, we need to use a range instead of a single timestamp to capture concurrent data. To do this, we’ll ensure all ECOSTRESS granule start times fall within 10 minutes of any of the EMIT granules in our results, and vice-versa.</p>
<p>Write a function to evaluate whether these <code>datetime</code> objects fall within 10 minutes of one another using the <code>timedelta</code> function.</p>
<div class="sourceCode cell-code" id="cb36"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb36-1"><a href="#cb36-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Function to Filter timestamps that do not fall within a time_delta of timestamps from the other acquisition time</span></span>
<span id="cb36-2"><a href="#cb36-2" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> concurrent_match(gdf_a:pd.DataFrame, gdf_b:pd.DataFrame, col_name:<span class="bu">str</span>, time_delta:timedelta):</span>
<span id="cb36-3"><a href="#cb36-3" aria-hidden="true" tabindex="-1"></a>    <span class="co">"""</span></span>
<span id="cb36-4"><a href="#cb36-4" aria-hidden="true" tabindex="-1"></a><span class="co">    Cross references dataframes containing a datetime object column and keeps rows in </span></span>
<span id="cb36-5"><a href="#cb36-5" aria-hidden="true" tabindex="-1"></a><span class="co">    each that fall within the provided timedelta of the other. Acceptable time_delta examples:</span></span>
<span id="cb36-6"><a href="#cb36-6" aria-hidden="true" tabindex="-1"></a><span class="co">    </span></span>
<span id="cb36-7"><a href="#cb36-7" aria-hidden="true" tabindex="-1"></a><span class="co">    months=1</span></span>
<span id="cb36-8"><a href="#cb36-8" aria-hidden="true" tabindex="-1"></a><span class="co">    days=1</span></span>
<span id="cb36-9"><a href="#cb36-9" aria-hidden="true" tabindex="-1"></a><span class="co">    hours=1</span></span>
<span id="cb36-10"><a href="#cb36-10" aria-hidden="true" tabindex="-1"></a><span class="co">    minutes=1</span></span>
<span id="cb36-11"><a href="#cb36-11" aria-hidden="true" tabindex="-1"></a><span class="co">    seconds=1 </span></span>
<span id="cb36-12"><a href="#cb36-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb36-13"><a href="#cb36-13" aria-hidden="true" tabindex="-1"></a><span class="co">    """</span></span>
<span id="cb36-14"><a href="#cb36-14" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Match Timestamps from Dataframe A with Time-range of entries in Dataframe B</span></span>
<span id="cb36-15"><a href="#cb36-15" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Create empty list</span></span>
<span id="cb36-16"><a href="#cb36-16" aria-hidden="true" tabindex="-1"></a>    a_list <span class="op">=</span> []</span>
<span id="cb36-17"><a href="#cb36-17" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Iterate results for product a based on index values</span></span>
<span id="cb36-18"><a href="#cb36-18" aria-hidden="true" tabindex="-1"></a>    <span class="cf">for</span> _n <span class="kw">in</span> gdf_b.index.to_list():</span>
<span id="cb36-19"><a href="#cb36-19" aria-hidden="true" tabindex="-1"></a>        <span class="co"># Find where product b is within the window of each product a result</span></span>
<span id="cb36-20"><a href="#cb36-20" aria-hidden="true" tabindex="-1"></a>        a_matches <span class="op">=</span> (gdf_a[col_name] <span class="op">&gt;</span> gdf_b[col_name][_n]<span class="op">-</span>time_delta) <span class="op">&amp;</span> (gdf_a[col_name] <span class="op">&lt;</span> gdf_b[col_name][_n]<span class="op">+</span>time_delta)</span>
<span id="cb36-21"><a href="#cb36-21" aria-hidden="true" tabindex="-1"></a>        <span class="co"># Append list with values</span></span>
<span id="cb36-22"><a href="#cb36-22" aria-hidden="true" tabindex="-1"></a>        a_list.append(a_matches)</span>
<span id="cb36-23"><a href="#cb36-23" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Match Timestamps from Dataframe B with Time-range of entries in Dataframe A</span></span>
<span id="cb36-24"><a href="#cb36-24" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Create empty list</span></span>
<span id="cb36-25"><a href="#cb36-25" aria-hidden="true" tabindex="-1"></a>    b_list <span class="op">=</span>[]</span>
<span id="cb36-26"><a href="#cb36-26" aria-hidden="true" tabindex="-1"></a>    <span class="cf">for</span> _m <span class="kw">in</span> gdf_a.index.to_list():</span>
<span id="cb36-27"><a href="#cb36-27" aria-hidden="true" tabindex="-1"></a>        <span class="co"># Find where product a is within the window of each product b result</span></span>
<span id="cb36-28"><a href="#cb36-28" aria-hidden="true" tabindex="-1"></a>        b_matches <span class="op">=</span> (gdf_b[col_name] <span class="op">&gt;</span> gdf_a[col_name][_m]<span class="op">-</span>time_delta) <span class="op">&amp;</span>  (gdf_b[col_name] <span class="op">&lt;</span> gdf_a[col_name][_m]<span class="op">+</span>time_delta)</span>
<span id="cb36-29"><a href="#cb36-29" aria-hidden="true" tabindex="-1"></a>        <span class="co"># Append list with values</span></span>
<span id="cb36-30"><a href="#cb36-30" aria-hidden="true" tabindex="-1"></a>        b_list.append(b_matches)</span>
<span id="cb36-31"><a href="#cb36-31" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Filter Original Dataframes by summing list of bools, 0 = outside of all time-ranges</span></span>
<span id="cb36-32"><a href="#cb36-32" aria-hidden="true" tabindex="-1"></a>    a_filtered <span class="op">=</span> gdf_a.loc[<span class="bu">sum</span>(a_list) <span class="op">&gt;</span> <span class="dv">0</span>]</span>
<span id="cb36-33"><a href="#cb36-33" aria-hidden="true" tabindex="-1"></a>    b_filtered <span class="op">=</span> gdf_b.loc[<span class="bu">sum</span>(b_list) <span class="op">&gt;</span> <span class="dv">0</span>]</span>
<span id="cb36-34"><a href="#cb36-34" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span>(a_filtered, b_filtered)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Now run our function.</p>
<div class="cell" data-metadata="{}" data-tags="[]" data-execution_count="28">
<div class="sourceCode cell-code" id="cb37"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb37-1"><a href="#cb37-1" aria-hidden="true" tabindex="-1"></a>eco_gdf, emit_gdf <span class="op">=</span> concurrent_match(eco_gdf,emit_gdf, col_name<span class="op">=</span><span class="st">'datetime_obj'</span>,time_delta<span class="op">=</span>timedelta(minutes<span class="op">=</span><span class="dv">10</span>))</span>
<span id="cb37-2"><a href="#cb37-2" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="ss">f' ECOSTRESS Granules: </span><span class="sc">{</span>eco_gdf<span class="sc">.</span>shape[<span class="dv">0</span>]<span class="sc">}</span><span class="ss"> </span><span class="ch">\n</span><span class="ss"> EMIT Granules: </span><span class="sc">{</span>emit_gdf<span class="sc">.</span>shape[<span class="dv">0</span>]<span class="sc">}</span><span class="ss">'</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> ECOSTRESS Granules: 32 
 EMIT Granules: 22</code></pre>
</div>
</div>
</section>
<section id="visualizing-intersecting-coverage" class="level2">
<h2 class="anchored" data-anchor-id="visualizing-intersecting-coverage">4. Visualizing Intersecting Coverage</h2>
<p>Now that we have geodataframes containing some concurrent data, we can visualize them on a map using <code>folium</code>. It’s often difficult to visualize a large time-series of scenes, so we’ve included an example in Appendix A1 on how to filter to a single day.</p>
<div class="cell" data-metadata="{}" data-tags="[]" data-execution_count="38">
<div class="sourceCode cell-code" id="cb39"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb39-1"><a href="#cb39-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Plot Using Folium</span></span>
<span id="cb39-2"><a href="#cb39-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb39-3"><a href="#cb39-3" aria-hidden="true" tabindex="-1"></a><span class="co"># Create Figure and Select Background Tiles</span></span>
<span id="cb39-4"><a href="#cb39-4" aria-hidden="true" tabindex="-1"></a>fig <span class="op">=</span> Figure(width<span class="op">=</span><span class="st">"750px"</span>, height<span class="op">=</span><span class="st">"375px"</span>)</span>
<span id="cb39-5"><a href="#cb39-5" aria-hidden="true" tabindex="-1"></a>map1 <span class="op">=</span> folium.Map(tiles<span class="op">=</span><span class="st">'https://mt1.google.com/vt/lyrs=y&amp;x=</span><span class="sc">{x}</span><span class="st">&amp;y=</span><span class="sc">{y}</span><span class="st">&amp;z=</span><span class="sc">{z}</span><span class="st">'</span>, attr<span class="op">=</span><span class="st">'Google'</span>)</span>
<span id="cb39-6"><a href="#cb39-6" aria-hidden="true" tabindex="-1"></a>fig.add_child(map1)</span>
<span id="cb39-7"><a href="#cb39-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb39-8"><a href="#cb39-8" aria-hidden="true" tabindex="-1"></a><span class="co"># Plot STAC ECOSTRESS Results - note we must drop the datetime_obj columns for this to work</span></span>
<span id="cb39-9"><a href="#cb39-9" aria-hidden="true" tabindex="-1"></a>eco_gdf.drop(columns<span class="op">=</span>[<span class="st">'datetime_obj'</span>]).explore(</span>
<span id="cb39-10"><a href="#cb39-10" aria-hidden="true" tabindex="-1"></a>    <span class="st">"granule"</span>,</span>
<span id="cb39-11"><a href="#cb39-11" aria-hidden="true" tabindex="-1"></a>    categorical<span class="op">=</span><span class="va">True</span>,</span>
<span id="cb39-12"><a href="#cb39-12" aria-hidden="true" tabindex="-1"></a>    tooltip<span class="op">=</span>[</span>
<span id="cb39-13"><a href="#cb39-13" aria-hidden="true" tabindex="-1"></a>        <span class="st">"granule"</span>,</span>
<span id="cb39-14"><a href="#cb39-14" aria-hidden="true" tabindex="-1"></a>        <span class="st">"start_datetime"</span>,</span>
<span id="cb39-15"><a href="#cb39-15" aria-hidden="true" tabindex="-1"></a>        <span class="st">"cloud_cover"</span>,</span>
<span id="cb39-16"><a href="#cb39-16" aria-hidden="true" tabindex="-1"></a>    ],</span>
<span id="cb39-17"><a href="#cb39-17" aria-hidden="true" tabindex="-1"></a>    popup<span class="op">=</span><span class="va">True</span>,</span>
<span id="cb39-18"><a href="#cb39-18" aria-hidden="true" tabindex="-1"></a>    style_kwds<span class="op">=</span><span class="bu">dict</span>(fillOpacity<span class="op">=</span><span class="fl">0.1</span>, width<span class="op">=</span><span class="dv">2</span>),</span>
<span id="cb39-19"><a href="#cb39-19" aria-hidden="true" tabindex="-1"></a>    name<span class="op">=</span><span class="st">"ECOSTRESS"</span>,</span>
<span id="cb39-20"><a href="#cb39-20" aria-hidden="true" tabindex="-1"></a>    m<span class="op">=</span>map1,</span>
<span id="cb39-21"><a href="#cb39-21" aria-hidden="true" tabindex="-1"></a>    legend<span class="op">=</span><span class="va">False</span></span>
<span id="cb39-22"><a href="#cb39-22" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb39-23"><a href="#cb39-23" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb39-24"><a href="#cb39-24" aria-hidden="true" tabindex="-1"></a><span class="co"># Plot STAC EMITL2ARFL Results - note we must drop the datetime_obj columns for this to work</span></span>
<span id="cb39-25"><a href="#cb39-25" aria-hidden="true" tabindex="-1"></a>emit_gdf.drop(columns<span class="op">=</span>[<span class="st">'datetime_obj'</span>]).explore(</span>
<span id="cb39-26"><a href="#cb39-26" aria-hidden="true" tabindex="-1"></a>    <span class="st">"granule"</span>,</span>
<span id="cb39-27"><a href="#cb39-27" aria-hidden="true" tabindex="-1"></a>    categorical<span class="op">=</span><span class="va">True</span>,</span>
<span id="cb39-28"><a href="#cb39-28" aria-hidden="true" tabindex="-1"></a>    tooltip<span class="op">=</span>[</span>
<span id="cb39-29"><a href="#cb39-29" aria-hidden="true" tabindex="-1"></a>        <span class="st">"granule"</span>,</span>
<span id="cb39-30"><a href="#cb39-30" aria-hidden="true" tabindex="-1"></a>        <span class="st">"start_datetime"</span>,</span>
<span id="cb39-31"><a href="#cb39-31" aria-hidden="true" tabindex="-1"></a>        <span class="st">"cloud_cover"</span>,</span>
<span id="cb39-32"><a href="#cb39-32" aria-hidden="true" tabindex="-1"></a>    ],</span>
<span id="cb39-33"><a href="#cb39-33" aria-hidden="true" tabindex="-1"></a>    popup<span class="op">=</span><span class="va">True</span>,</span>
<span id="cb39-34"><a href="#cb39-34" aria-hidden="true" tabindex="-1"></a>    style_kwds<span class="op">=</span><span class="bu">dict</span>(fillOpacity<span class="op">=</span><span class="fl">0.1</span>, width<span class="op">=</span><span class="dv">2</span>),</span>
<span id="cb39-35"><a href="#cb39-35" aria-hidden="true" tabindex="-1"></a>    name<span class="op">=</span><span class="st">"EMIT"</span>,</span>
<span id="cb39-36"><a href="#cb39-36" aria-hidden="true" tabindex="-1"></a>    m<span class="op">=</span>map1,</span>
<span id="cb39-37"><a href="#cb39-37" aria-hidden="true" tabindex="-1"></a>    legend<span class="op">=</span><span class="va">False</span></span>
<span id="cb39-38"><a href="#cb39-38" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb39-39"><a href="#cb39-39" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb39-40"><a href="#cb39-40" aria-hidden="true" tabindex="-1"></a><span class="co"># ECOSTRESS Browse Images - Comment out to remove</span></span>
<span id="cb39-41"><a href="#cb39-41" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> _n <span class="kw">in</span> eco_gdf.index.to_list():</span>
<span id="cb39-42"><a href="#cb39-42" aria-hidden="true" tabindex="-1"></a>    folium.raster_layers.ImageOverlay(</span>
<span id="cb39-43"><a href="#cb39-43" aria-hidden="true" tabindex="-1"></a>        image<span class="op">=</span>eco_gdf[<span class="st">'browse'</span>][_n],</span>
<span id="cb39-44"><a href="#cb39-44" aria-hidden="true" tabindex="-1"></a>        name<span class="op">=</span>eco_gdf[<span class="st">'granule'</span>][_n],</span>
<span id="cb39-45"><a href="#cb39-45" aria-hidden="true" tabindex="-1"></a>        bounds<span class="op">=</span>[[eco_gdf.bounds[<span class="st">'miny'</span>][_n], eco_gdf.bounds[<span class="st">'minx'</span>][_n]], [eco_gdf.bounds[<span class="st">'maxy'</span>][_n], eco_gdf.bounds[<span class="st">'maxx'</span>][_n]]],</span>
<span id="cb39-46"><a href="#cb39-46" aria-hidden="true" tabindex="-1"></a>        interactive<span class="op">=</span><span class="va">False</span>,</span>
<span id="cb39-47"><a href="#cb39-47" aria-hidden="true" tabindex="-1"></a>        cross_origin<span class="op">=</span><span class="va">False</span>,</span>
<span id="cb39-48"><a href="#cb39-48" aria-hidden="true" tabindex="-1"></a>        opacity<span class="op">=</span><span class="fl">0.75</span>,</span>
<span id="cb39-49"><a href="#cb39-49" aria-hidden="true" tabindex="-1"></a>        zindex<span class="op">=</span><span class="dv">1</span>,</span>
<span id="cb39-50"><a href="#cb39-50" aria-hidden="true" tabindex="-1"></a>        ).add_to(map1)</span>
<span id="cb39-51"><a href="#cb39-51" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb39-52"><a href="#cb39-52" aria-hidden="true" tabindex="-1"></a><span class="co"># Plot Region of Interest</span></span>
<span id="cb39-53"><a href="#cb39-53" aria-hidden="true" tabindex="-1"></a>polygon.explore(</span>
<span id="cb39-54"><a href="#cb39-54" aria-hidden="true" tabindex="-1"></a>    popup<span class="op">=</span><span class="va">False</span>,</span>
<span id="cb39-55"><a href="#cb39-55" aria-hidden="true" tabindex="-1"></a>    style_kwds<span class="op">=</span><span class="bu">dict</span>(fillOpacity<span class="op">=</span><span class="fl">0.1</span>, width<span class="op">=</span><span class="dv">2</span>),</span>
<span id="cb39-56"><a href="#cb39-56" aria-hidden="true" tabindex="-1"></a>    name<span class="op">=</span><span class="st">"Region of Interest"</span>,</span>
<span id="cb39-57"><a href="#cb39-57" aria-hidden="true" tabindex="-1"></a>    m<span class="op">=</span>map1</span>
<span id="cb39-58"><a href="#cb39-58" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb39-59"><a href="#cb39-59" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb39-60"><a href="#cb39-60" aria-hidden="true" tabindex="-1"></a>folium.GeoJson(roi_poly,</span>
<span id="cb39-61"><a href="#cb39-61" aria-hidden="true" tabindex="-1"></a>                name<span class="op">=</span><span class="st">'bounding_box'</span>,</span>
<span id="cb39-62"><a href="#cb39-62" aria-hidden="true" tabindex="-1"></a>                ).add_to(map1)</span>
<span id="cb39-63"><a href="#cb39-63" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb39-64"><a href="#cb39-64" aria-hidden="true" tabindex="-1"></a>map1.fit_bounds(bounds<span class="op">=</span>convert_bounds(gdf.unary_union.bounds))</span>
<span id="cb39-65"><a href="#cb39-65" aria-hidden="true" tabindex="-1"></a>map1.add_child(folium.LayerControl())</span>
<span id="cb39-66"><a href="#cb39-66" aria-hidden="true" tabindex="-1"></a>display(fig)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">

<iframe srcdoc="<!DOCTYPE html>
<html>
<head>
    
    <meta http-equiv=&quot;content-type&quot; content=&quot;text/html; charset=UTF-8&quot; />
    
        <script>
            L_NO_TOUCH = false;
            L_DISABLE_3D = false;
        </script>
    
    <style>html, body {width: 100%;height: 100%;margin: 0;padding: 0;}</style>
    <style>#map {position:absolute;top:0;bottom:0;right:0;left:0;}</style>
    <script src=&quot;https://cdn.jsdelivr.net/npm/leaflet@1.9.3/dist/leaflet.js&quot;></script>
    <script src=&quot;https://code.jquery.com/jquery-3.7.1.min.js&quot;></script>
    <script src=&quot;https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/js/bootstrap.bundle.min.js&quot;></script>
    <script src=&quot;https://cdnjs.cloudflare.com/ajax/libs/Leaflet.awesome-markers/2.0.2/leaflet.awesome-markers.js&quot;></script>
    <link rel=&quot;stylesheet&quot; href=&quot;https://cdn.jsdelivr.net/npm/leaflet@1.9.3/dist/leaflet.css&quot;/>
    <link rel=&quot;stylesheet&quot; href=&quot;https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/css/bootstrap.min.css&quot;/>
    <link rel=&quot;stylesheet&quot; href=&quot;https://netdna.bootstrapcdn.com/bootstrap/3.0.0/css/bootstrap.min.css&quot;/>
    <link rel=&quot;stylesheet&quot; href=&quot;https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.2.0/css/all.min.css&quot;/>
    <link rel=&quot;stylesheet&quot; href=&quot;https://cdnjs.cloudflare.com/ajax/libs/Leaflet.awesome-markers/2.0.2/leaflet.awesome-markers.css&quot;/>
    <link rel=&quot;stylesheet&quot; href=&quot;https://cdn.jsdelivr.net/gh/python-visualization/folium/folium/templates/leaflet.awesome.rotate.min.css&quot;/>
    
            <meta name=&quot;viewport&quot; content=&quot;width=device-width,
                initial-scale=1.0, maximum-scale=1.0, user-scalable=no&quot; />
            <style>
                #map_ad43c167016ca3e79cbd2b9da9746b79 {
                    position: relative;
                    width: 100.0%;
                    height: 100.0%;
                    left: 0.0%;
                    top: 0.0%;
                }
                .leaflet-container { font-size: 1rem; }
            </style>
        
    
                    <style>
                        .foliumtooltip {
                            
                        }
                       .foliumtooltip table{
                            margin: auto;
                        }
                        .foliumtooltip tr{
                            text-align: left;
                        }
                        .foliumtooltip th{
                            padding: 2px; padding-right: 8px;
                        }
                    </style>
            
    
                    <style>
                        .foliumpopup {
                            margin: auto;
                        }
                       .foliumpopup table{
                            margin: auto;
                        }
                        .foliumpopup tr{
                            text-align: left;
                        }
                        .foliumpopup th{
                            padding: 2px; padding-right: 8px;
                        }
                    </style>
            
    
                    <style>
                        .foliumtooltip {
                            
                        }
                       .foliumtooltip table{
                            margin: auto;
                        }
                        .foliumtooltip tr{
                            text-align: left;
                        }
                        .foliumtooltip th{
                            padding: 2px; padding-right: 8px;
                        }
                    </style>
            
    
                    <style>
                        .foliumpopup {
                            margin: auto;
                        }
                       .foliumpopup table{
                            margin: auto;
                        }
                        .foliumpopup tr{
                            text-align: left;
                        }
                        .foliumpopup th{
                            padding: 2px; padding-right: 8px;
                        }
                    </style>
            
    
                <style>
                    .leaflet-image-layer {
                        /* old android/safari*/
                        image-rendering: -webkit-optimize-contrast;
                        image-rendering: crisp-edges; /* safari */
                        image-rendering: pixelated; /* chrome */
                        image-rendering: -moz-crisp-edges; /* firefox */
                        image-rendering: -o-crisp-edges; /* opera */
                        -ms-interpolation-mode: nearest-neighbor; /* ie */
                    }
                </style>
            
    
                    <style>
                        .foliumtooltip {
                            
                        }
                       .foliumtooltip table{
                            margin: auto;
                        }
                        .foliumtooltip tr{
                            text-align: left;
                        }
                        .foliumtooltip th{
                            padding: 2px; padding-right: 8px;
                        }
                    </style>
            
</head>
<body>
    
    
            <div class=&quot;folium-map&quot; id=&quot;map_ad43c167016ca3e79cbd2b9da9746b79&quot; ></div>
        
</body>
<script>
    
    
            var map_ad43c167016ca3e79cbd2b9da9746b79 = L.map(
                &quot;map_ad43c167016ca3e79cbd2b9da9746b79&quot;,
                {
                    center: [0.0, 0.0],
                    crs: L.CRS.EPSG3857,
                    zoom: 1,
                    zoomControl: true,
                    preferCanvas: false,
                }
            );

            

        
    
            var tile_layer_228334b2834cc3ad43220a11dad84298 = L.tileLayer(
                &quot;https://mt1.google.com/vt/lyrs=y\u0026x={x}\u0026y={y}\u0026z={z}&quot;,
                {&quot;attribution&quot;: &quot;Google&quot;, &quot;detectRetina&quot;: false, &quot;maxNativeZoom&quot;: 18, &quot;maxZoom&quot;: 18, &quot;minZoom&quot;: 0, &quot;noWrap&quot;: false, &quot;opacity&quot;: 1, &quot;subdomains&quot;: &quot;abc&quot;, &quot;tms&quot;: false}
            );
        
    
            tile_layer_228334b2834cc3ad43220a11dad84298.addTo(map_ad43c167016ca3e79cbd2b9da9746b79);
        
    
        function geo_json_f08b61e5e14082a1b73fc3ddf5645bd2_styler(feature) {
            switch(feature.id) {
                case &quot;52&quot;: 
                    return {&quot;color&quot;: &quot;#1f77b4&quot;, &quot;fillColor&quot;: &quot;#1f77b4&quot;, &quot;fillOpacity&quot;: 0.1, &quot;weight&quot;: 2, &quot;width&quot;: 2};
                case &quot;54&quot;: 
                    return {&quot;color&quot;: &quot;#aec7e8&quot;, &quot;fillColor&quot;: &quot;#aec7e8&quot;, &quot;fillOpacity&quot;: 0.1, &quot;weight&quot;: 2, &quot;width&quot;: 2};
                case &quot;75&quot;: 
                    return {&quot;color&quot;: &quot;#ff7f0e&quot;, &quot;fillColor&quot;: &quot;#ff7f0e&quot;, &quot;fillOpacity&quot;: 0.1, &quot;weight&quot;: 2, &quot;width&quot;: 2};
                case &quot;76&quot;: 
                    return {&quot;color&quot;: &quot;#2ca02c&quot;, &quot;fillColor&quot;: &quot;#2ca02c&quot;, &quot;fillOpacity&quot;: 0.1, &quot;weight&quot;: 2, &quot;width&quot;: 2};
                case &quot;79&quot;: 
                    return {&quot;color&quot;: &quot;#98df8a&quot;, &quot;fillColor&quot;: &quot;#98df8a&quot;, &quot;fillOpacity&quot;: 0.1, &quot;weight&quot;: 2, &quot;width&quot;: 2};
                case &quot;119&quot;: 
                    return {&quot;color&quot;: &quot;#9467bd&quot;, &quot;fillColor&quot;: &quot;#9467bd&quot;, &quot;fillOpacity&quot;: 0.1, &quot;weight&quot;: 2, &quot;width&quot;: 2};
                case &quot;124&quot;: 
                    return {&quot;color&quot;: &quot;#8c564b&quot;, &quot;fillColor&quot;: &quot;#8c564b&quot;, &quot;fillOpacity&quot;: 0.1, &quot;weight&quot;: 2, &quot;width&quot;: 2};
                case &quot;153&quot;: 
                    return {&quot;color&quot;: &quot;#c49c94&quot;, &quot;fillColor&quot;: &quot;#c49c94&quot;, &quot;fillOpacity&quot;: 0.1, &quot;weight&quot;: 2, &quot;width&quot;: 2};
                case &quot;174&quot;: 
                    return {&quot;color&quot;: &quot;#e377c2&quot;, &quot;fillColor&quot;: &quot;#e377c2&quot;, &quot;fillOpacity&quot;: 0.1, &quot;weight&quot;: 2, &quot;width&quot;: 2};
                case &quot;180&quot;: 
                    return {&quot;color&quot;: &quot;#7f7f7f&quot;, &quot;fillColor&quot;: &quot;#7f7f7f&quot;, &quot;fillOpacity&quot;: 0.1, &quot;weight&quot;: 2, &quot;width&quot;: 2};
                case &quot;205&quot;: 
                    return {&quot;color&quot;: &quot;#c7c7c7&quot;, &quot;fillColor&quot;: &quot;#c7c7c7&quot;, &quot;fillOpacity&quot;: 0.1, &quot;weight&quot;: 2, &quot;width&quot;: 2};
                case &quot;293&quot;: 
                    return {&quot;color&quot;: &quot;#dbdb8d&quot;, &quot;fillColor&quot;: &quot;#dbdb8d&quot;, &quot;fillOpacity&quot;: 0.1, &quot;weight&quot;: 2, &quot;width&quot;: 2};
                case &quot;307&quot;: 
                    return {&quot;color&quot;: &quot;#17becf&quot;, &quot;fillColor&quot;: &quot;#17becf&quot;, &quot;fillOpacity&quot;: 0.1, &quot;weight&quot;: 2, &quot;width&quot;: 2};
                case &quot;316&quot;: 
                    return {&quot;color&quot;: &quot;#9edae5&quot;, &quot;fillColor&quot;: &quot;#9edae5&quot;, &quot;fillOpacity&quot;: 0.1, &quot;weight&quot;: 2, &quot;width&quot;: 2};
                default:
                    return {&quot;color&quot;: &quot;#ff9896&quot;, &quot;fillColor&quot;: &quot;#ff9896&quot;, &quot;fillOpacity&quot;: 0.1, &quot;weight&quot;: 2, &quot;width&quot;: 2};
            }
        }
        function geo_json_f08b61e5e14082a1b73fc3ddf5645bd2_highlighter(feature) {
            switch(feature.id) {
                default:
                    return {&quot;fillOpacity&quot;: 0.75};
            }
        }
        function geo_json_f08b61e5e14082a1b73fc3ddf5645bd2_pointToLayer(feature, latlng) {
            var opts = {&quot;bubblingMouseEvents&quot;: true, &quot;color&quot;: &quot;#3388ff&quot;, &quot;dashArray&quot;: null, &quot;dashOffset&quot;: null, &quot;fill&quot;: true, &quot;fillColor&quot;: &quot;#3388ff&quot;, &quot;fillOpacity&quot;: 0.2, &quot;fillRule&quot;: &quot;evenodd&quot;, &quot;lineCap&quot;: &quot;round&quot;, &quot;lineJoin&quot;: &quot;round&quot;, &quot;opacity&quot;: 1.0, &quot;radius&quot;: 2, &quot;stroke&quot;: true, &quot;weight&quot;: 3};
            
            let style = geo_json_f08b61e5e14082a1b73fc3ddf5645bd2_styler(feature)
            Object.assign(opts, style)
            
            return new L.CircleMarker(latlng, opts)
        }

        function geo_json_f08b61e5e14082a1b73fc3ddf5645bd2_onEachFeature(feature, layer) {
            layer.on({
                mouseout: function(e) {
                    if(typeof e.target.setStyle === &quot;function&quot;){
                            geo_json_f08b61e5e14082a1b73fc3ddf5645bd2.resetStyle(e.target);
                    }
                },
                mouseover: function(e) {
                    if(typeof e.target.setStyle === &quot;function&quot;){
                        const highlightStyle = geo_json_f08b61e5e14082a1b73fc3ddf5645bd2_highlighter(e.target.feature)
                        e.target.setStyle(highlightStyle);
                    }
                },
            });
        };
        var geo_json_f08b61e5e14082a1b73fc3ddf5645bd2 = L.geoJson(null, {
                onEachFeature: geo_json_f08b61e5e14082a1b73fc3ddf5645bd2_onEachFeature,
            
                style: geo_json_f08b61e5e14082a1b73fc3ddf5645bd2_styler,
                pointToLayer: geo_json_f08b61e5e14082a1b73fc3ddf5645bd2_pointToLayer,
        });

        function geo_json_f08b61e5e14082a1b73fc3ddf5645bd2_add (data) {
            geo_json_f08b61e5e14082a1b73fc3ddf5645bd2
                .addData(data);
        }
            geo_json_f08b61e5e14082a1b73fc3ddf5645bd2_add({&quot;bbox&quot;: [-120.82892726886365, 34.207188, -119.598442, 35.223133], &quot;features&quot;: [{&quot;bbox&quot;: [-120.828926, 34.207188, -119.598442, 35.223133], &quot;geometry&quot;: {&quot;coordinates&quot;: [[[-119.598442, 34.207188], [-119.598442, 35.223133], [-120.828926, 35.223133], [-120.828926, 34.207188], [-119.598442, 34.207188]]], &quot;type&quot;: &quot;Polygon&quot;}, &quot;id&quot;: &quot;52&quot;, &quot;properties&quot;: {&quot;__folium_color&quot;: &quot;#1f77b4&quot;, &quot;browse&quot;: &quot;https://data.lpdaac.earthdatacloud.nasa.gov/lp-prod-public/ECO_L2T_LSTE.002/ECOv002_L2T_LSTE_26223_011_10SGD_20230219T202851_0710_01/ECOv002_L2T_LSTE_26223_011_10SGD_20230219T202851_0710_01.png&quot;, &quot;cloud_cover&quot;: null, &quot;concept_id&quot;: &quot;G2627756987-LPCLOUD&quot;, &quot;day_night&quot;: &quot;Day&quot;, &quot;end_datetime&quot;: &quot;2023-02-19T20:29:43.280Z&quot;, &quot;granule&quot;: &quot;ECOv002_L2T_LSTE_26223_011_10SGD_20230219T202851_0710_01&quot;, &quot;intersects&quot;: true, &quot;shortname&quot;: &quot;ECO_L2T_LSTE&quot;, &quot;start_datetime&quot;: &quot;2023-02-19T20:28:51.310Z&quot;}, &quot;type&quot;: &quot;Feature&quot;}, {&quot;bbox&quot;: [-120.828926, 34.207188, -119.598442, 35.223133], &quot;geometry&quot;: {&quot;coordinates&quot;: [[[-119.598442, 34.207188], [-119.598442, 35.223133], [-120.828926, 35.223133], [-120.828926, 34.207188], [-119.598442, 34.207188]]], &quot;type&quot;: &quot;Polygon&quot;}, &quot;id&quot;: &quot;54&quot;, &quot;properties&quot;: {&quot;__folium_color&quot;: &quot;#aec7e8&quot;, &quot;browse&quot;: &quot;https://data.lpdaac.earthdatacloud.nasa.gov/lp-prod-public/ECO_L2T_LSTE.002/ECOv002_L2T_LSTE_26223_012_10SGD_20230219T202943_0710_01/ECOv002_L2T_LSTE_26223_012_10SGD_20230219T202943_0710_01.png&quot;, &quot;cloud_cover&quot;: null, &quot;concept_id&quot;: &quot;G2627758024-LPCLOUD&quot;, &quot;day_night&quot;: &quot;Day&quot;, &quot;end_datetime&quot;: &quot;2023-02-19T20:30:35.250Z&quot;, &quot;granule&quot;: &quot;ECOv002_L2T_LSTE_26223_012_10SGD_20230219T202943_0710_01&quot;, &quot;intersects&quot;: true, &quot;shortname&quot;: &quot;ECO_L2T_LSTE&quot;, &quot;start_datetime&quot;: &quot;2023-02-19T20:29:43.280Z&quot;}, &quot;type&quot;: &quot;Feature&quot;}, {&quot;bbox&quot;: [-120.828926, 34.207188, -119.598442, 35.223133], &quot;geometry&quot;: {&quot;coordinates&quot;: [[[-119.598442, 34.207188], [-119.598442, 35.223133], [-120.828926, 35.223133], [-120.828926, 34.207188], [-119.598442, 34.207188]]], &quot;type&quot;: &quot;Polygon&quot;}, &quot;id&quot;: &quot;75&quot;, &quot;properties&quot;: {&quot;__folium_color&quot;: &quot;#ff7f0e&quot;, &quot;browse&quot;: &quot;https://data.lpdaac.earthdatacloud.nasa.gov/lp-prod-public/ECO_L2T_LSTE.002/ECOv002_L2T_LSTE_26345_013_10SGD_20230227T172029_0710_01/ECOv002_L2T_LSTE_26345_013_10SGD_20230227T172029_0710_01.png&quot;, &quot;cloud_cover&quot;: null, &quot;concept_id&quot;: &quot;G2630582431-LPCLOUD&quot;, &quot;day_night&quot;: &quot;Day&quot;, &quot;end_datetime&quot;: &quot;2023-02-27T17:21:21.070Z&quot;, &quot;granule&quot;: &quot;ECOv002_L2T_LSTE_26345_013_10SGD_20230227T172029_0710_01&quot;, &quot;intersects&quot;: true, &quot;shortname&quot;: &quot;ECO_L2T_LSTE&quot;, &quot;start_datetime&quot;: &quot;2023-02-27T17:20:29.100Z&quot;}, &quot;type&quot;: &quot;Feature&quot;}, {&quot;bbox&quot;: [-120.82892726886365, 34.20718855068355, -119.59844380403435, 35.223132916637724], &quot;geometry&quot;: {&quot;coordinates&quot;: [[[-119.59844380403435, 34.20718855068355], [-119.59844380403435, 35.223132916637724], [-120.82892726886365, 35.223132916637724], [-120.82892726886365, 34.20718855068355], [-119.59844380403435, 34.20718855068355]]], &quot;type&quot;: &quot;Polygon&quot;}, &quot;id&quot;: &quot;76&quot;, &quot;properties&quot;: {&quot;__folium_color&quot;: &quot;#2ca02c&quot;, &quot;browse&quot;: &quot;https://data.lpdaac.earthdatacloud.nasa.gov/lp-prod-public/ECO_L2T_LSTE.002/ECOv002_L2T_LSTE_26345_013_10SGD_20230227T172029_0711_02/ECOv002_L2T_LSTE_26345_013_10SGD_20230227T172029_0711_02.png&quot;, &quot;cloud_cover&quot;: null, &quot;concept_id&quot;: &quot;G3015778622-LPCLOUD&quot;, &quot;day_night&quot;: &quot;Day&quot;, &quot;end_datetime&quot;: &quot;2023-02-27T17:21:21.074Z&quot;, &quot;granule&quot;: &quot;ECOv002_L2T_LSTE_26345_013_10SGD_20230227T172029_0711_02&quot;, &quot;intersects&quot;: true, &quot;shortname&quot;: &quot;ECO_L2T_LSTE&quot;, &quot;start_datetime&quot;: &quot;2023-02-27T17:20:29.104Z&quot;}, &quot;type&quot;: &quot;Feature&quot;}, {&quot;bbox&quot;: [-120.828926, 34.207188, -119.598442, 35.223133], &quot;geometry&quot;: {&quot;coordinates&quot;: [[[-119.598442, 34.207188], [-119.598442, 35.223133], [-120.828926, 35.223133], [-120.828926, 34.207188], [-119.598442, 34.207188]]], &quot;type&quot;: &quot;Polygon&quot;}, &quot;id&quot;: &quot;79&quot;, &quot;properties&quot;: {&quot;__folium_color&quot;: &quot;#98df8a&quot;, &quot;browse&quot;: &quot;https://data.lpdaac.earthdatacloud.nasa.gov/lp-prod-public/ECO_L2T_LSTE.002/ECOv002_L2T_LSTE_26345_014_10SGD_20230227T172121_0710_01/ECOv002_L2T_LSTE_26345_014_10SGD_20230227T172121_0710_01.png&quot;, &quot;cloud_cover&quot;: null, &quot;concept_id&quot;: &quot;G2630583457-LPCLOUD&quot;, &quot;day_night&quot;: &quot;Day&quot;, &quot;end_datetime&quot;: &quot;2023-02-27T17:22:13.040Z&quot;, &quot;granule&quot;: &quot;ECOv002_L2T_LSTE_26345_014_10SGD_20230227T172121_0710_01&quot;, &quot;intersects&quot;: true, &quot;shortname&quot;: &quot;ECO_L2T_LSTE&quot;, &quot;start_datetime&quot;: &quot;2023-02-27T17:21:21.070Z&quot;}, &quot;type&quot;: &quot;Feature&quot;}, {&quot;bbox&quot;: [-120.82892726886365, 34.20718855068355, -119.59844380403435, 35.223132916637724], &quot;geometry&quot;: {&quot;coordinates&quot;: [[[-119.59844380403435, 34.20718855068355], [-119.59844380403435, 35.223132916637724], [-120.82892726886365, 35.223132916637724], [-120.82892726886365, 34.20718855068355], [-119.59844380403435, 34.20718855068355]]], &quot;type&quot;: &quot;Polygon&quot;}, &quot;id&quot;: &quot;81&quot;, &quot;properties&quot;: {&quot;__folium_color&quot;: &quot;#ff9896&quot;, &quot;browse&quot;: &quot;https://data.lpdaac.earthdatacloud.nasa.gov/lp-prod-public/ECO_L2T_LSTE.002/ECOv002_L2T_LSTE_26345_014_10SGD_20230227T172121_0711_02/ECOv002_L2T_LSTE_26345_014_10SGD_20230227T172121_0711_02.png&quot;, &quot;cloud_cover&quot;: null, &quot;concept_id&quot;: &quot;G3015772990-LPCLOUD&quot;, &quot;day_night&quot;: &quot;Day&quot;, &quot;end_datetime&quot;: &quot;2023-02-27T17:22:13.044Z&quot;, &quot;granule&quot;: &quot;ECOv002_L2T_LSTE_26345_014_10SGD_20230227T172121_0711_02&quot;, &quot;intersects&quot;: true, &quot;shortname&quot;: &quot;ECO_L2T_LSTE&quot;, &quot;start_datetime&quot;: &quot;2023-02-27T17:21:21.074Z&quot;}, &quot;type&quot;: &quot;Feature&quot;}, {&quot;bbox&quot;: [-120.828926, 34.207188, -119.598442, 35.223133], &quot;geometry&quot;: {&quot;coordinates&quot;: [[[-119.598442, 34.207188], [-119.598442, 35.223133], [-120.828926, 35.223133], [-120.828926, 34.207188], [-119.598442, 34.207188]]], &quot;type&quot;: &quot;Polygon&quot;}, &quot;id&quot;: &quot;119&quot;, &quot;properties&quot;: {&quot;__folium_color&quot;: &quot;#9467bd&quot;, &quot;browse&quot;: &quot;https://data.lpdaac.earthdatacloud.nasa.gov/lp-prod-public/ECO_L2T_LSTE.002/ECOv002_L2T_LSTE_26860_001_10SGD_20230401T203733_0710_01/ECOv002_L2T_LSTE_26860_001_10SGD_20230401T203733_0710_01.png&quot;, &quot;cloud_cover&quot;: null, &quot;concept_id&quot;: &quot;G2650963815-LPCLOUD&quot;, &quot;day_night&quot;: &quot;Day&quot;, &quot;end_datetime&quot;: &quot;2023-04-01T20:38:25.000Z&quot;, &quot;granule&quot;: &quot;ECOv002_L2T_LSTE_26860_001_10SGD_20230401T203733_0710_01&quot;, &quot;intersects&quot;: true, &quot;shortname&quot;: &quot;ECO_L2T_LSTE&quot;, &quot;start_datetime&quot;: &quot;2023-04-01T20:37:33.030Z&quot;}, &quot;type&quot;: &quot;Feature&quot;}, {&quot;bbox&quot;: [-120.828926, 34.207188, -119.598442, 35.223133], &quot;geometry&quot;: {&quot;coordinates&quot;: [[[-119.598442, 34.207188], [-119.598442, 35.223133], [-120.828926, 35.223133], [-120.828926, 34.207188], [-119.598442, 34.207188]]], &quot;type&quot;: &quot;Polygon&quot;}, &quot;id&quot;: &quot;124&quot;, &quot;properties&quot;: {&quot;__folium_color&quot;: &quot;#8c564b&quot;, &quot;browse&quot;: &quot;https://data.lpdaac.earthdatacloud.nasa.gov/lp-prod-public/ECO_L2T_LSTE.002/ECOv002_L2T_LSTE_26921_001_10SGD_20230405T190258_0710_01/ECOv002_L2T_LSTE_26921_001_10SGD_20230405T190258_0710_01.png&quot;, &quot;cloud_cover&quot;: null, &quot;concept_id&quot;: &quot;G2655983115-LPCLOUD&quot;, &quot;day_night&quot;: &quot;Day&quot;, &quot;end_datetime&quot;: &quot;2023-04-05T19:03:50.920Z&quot;, &quot;granule&quot;: &quot;ECOv002_L2T_LSTE_26921_001_10SGD_20230405T190258_0710_01&quot;, &quot;intersects&quot;: true, &quot;shortname&quot;: &quot;ECO_L2T_LSTE&quot;, &quot;start_datetime&quot;: &quot;2023-04-05T19:02:58.950Z&quot;}, &quot;type&quot;: &quot;Feature&quot;}, {&quot;bbox&quot;: [-120.828926, 34.207188, -119.598442, 35.223133], &quot;geometry&quot;: {&quot;coordinates&quot;: [[[-119.598442, 34.207188], [-119.598442, 35.223133], [-120.828926, 35.223133], [-120.828926, 34.207188], [-119.598442, 34.207188]]], &quot;type&quot;: &quot;Polygon&quot;}, &quot;id&quot;: &quot;153&quot;, &quot;properties&quot;: {&quot;__folium_color&quot;: &quot;#c49c94&quot;, &quot;browse&quot;: &quot;https://data.lpdaac.earthdatacloud.nasa.gov/lp-prod-public/ECO_L2T_LSTE.002/ECOv002_L2T_LSTE_27185_010_10SGD_20230422T195836_0710_01/ECOv002_L2T_LSTE_27185_010_10SGD_20230422T195836_0710_01.png&quot;, &quot;cloud_cover&quot;: null, &quot;concept_id&quot;: &quot;G2710071138-LPCLOUD&quot;, &quot;day_night&quot;: &quot;Day&quot;, &quot;end_datetime&quot;: &quot;2023-04-22T19:59:28.710Z&quot;, &quot;granule&quot;: &quot;ECOv002_L2T_LSTE_27185_010_10SGD_20230422T195836_0710_01&quot;, &quot;intersects&quot;: true, &quot;shortname&quot;: &quot;ECO_L2T_LSTE&quot;, &quot;start_datetime&quot;: &quot;2023-04-22T19:58:36.740Z&quot;}, &quot;type&quot;: &quot;Feature&quot;}, {&quot;bbox&quot;: [-120.828926, 34.207188, -119.598442, 35.223133], &quot;geometry&quot;: {&quot;coordinates&quot;: [[[-119.598442, 34.207188], [-119.598442, 35.223133], [-120.828926, 35.223133], [-120.828926, 34.207188], [-119.598442, 34.207188]]], &quot;type&quot;: &quot;Polygon&quot;}, &quot;id&quot;: &quot;174&quot;, &quot;properties&quot;: {&quot;__folium_color&quot;: &quot;#e377c2&quot;, &quot;browse&quot;: &quot;https://data.lpdaac.earthdatacloud.nasa.gov/lp-prod-public/ECO_L2T_LSTE.002/ECOv002_L2T_LSTE_27745_005_10SGD_20230528T220401_0710_01/ECOv002_L2T_LSTE_27745_005_10SGD_20230528T220401_0710_01.png&quot;, &quot;cloud_cover&quot;: null, &quot;concept_id&quot;: &quot;G2715826603-LPCLOUD&quot;, &quot;day_night&quot;: &quot;Day&quot;, &quot;end_datetime&quot;: &quot;2023-05-28T22:04:53.660Z&quot;, &quot;granule&quot;: &quot;ECOv002_L2T_LSTE_27745_005_10SGD_20230528T220401_0710_01&quot;, &quot;intersects&quot;: true, &quot;shortname&quot;: &quot;ECO_L2T_LSTE&quot;, &quot;start_datetime&quot;: &quot;2023-05-28T22:04:01.690Z&quot;}, &quot;type&quot;: &quot;Feature&quot;}, {&quot;bbox&quot;: [-120.828926, 34.207188, -119.598442, 35.223133], &quot;geometry&quot;: {&quot;coordinates&quot;: [[[-119.598442, 34.207188], [-119.598442, 35.223133], [-120.828926, 35.223133], [-120.828926, 34.207188], [-119.598442, 34.207188]]], &quot;type&quot;: &quot;Polygon&quot;}, &quot;id&quot;: &quot;180&quot;, &quot;properties&quot;: {&quot;__folium_color&quot;: &quot;#7f7f7f&quot;, &quot;browse&quot;: &quot;https://data.lpdaac.earthdatacloud.nasa.gov/lp-prod-public/ECO_L2T_LSTE.002/ECOv002_L2T_LSTE_27806_005_10SGD_20230601T202619_0710_01/ECOv002_L2T_LSTE_27806_005_10SGD_20230601T202619_0710_01.png&quot;, &quot;cloud_cover&quot;: null, &quot;concept_id&quot;: &quot;G2715906073-LPCLOUD&quot;, &quot;day_night&quot;: &quot;Day&quot;, &quot;end_datetime&quot;: &quot;2023-06-01T20:27:11.740Z&quot;, &quot;granule&quot;: &quot;ECOv002_L2T_LSTE_27806_005_10SGD_20230601T202619_0710_01&quot;, &quot;intersects&quot;: true, &quot;shortname&quot;: &quot;ECO_L2T_LSTE&quot;, &quot;start_datetime&quot;: &quot;2023-06-01T20:26:19.770Z&quot;}, &quot;type&quot;: &quot;Feature&quot;}, {&quot;bbox&quot;: [-120.82892726886365, 34.20718855068355, -119.59844380403435, 35.223132916637724], &quot;geometry&quot;: {&quot;coordinates&quot;: [[[-119.59844380403435, 34.20718855068355], [-119.59844380403435, 35.223132916637724], [-120.82892726886365, 35.223132916637724], [-120.82892726886365, 34.20718855068355], [-119.59844380403435, 34.20718855068355]]], &quot;type&quot;: &quot;Polygon&quot;}, &quot;id&quot;: &quot;205&quot;, &quot;properties&quot;: {&quot;__folium_color&quot;: &quot;#c7c7c7&quot;, &quot;browse&quot;: &quot;https://data.lpdaac.earthdatacloud.nasa.gov/lp-prod-public/ECO_L2T_LSTE.002/ECOv002_L2T_LSTE_28238_012_10SGD_20230629T170416_0710_01/ECOv002_L2T_LSTE_28238_012_10SGD_20230629T170416_0710_01.png&quot;, &quot;cloud_cover&quot;: null, &quot;concept_id&quot;: &quot;G2729123248-LPCLOUD&quot;, &quot;day_night&quot;: &quot;Day&quot;, &quot;end_datetime&quot;: &quot;2023-06-29T17:05:08.313Z&quot;, &quot;granule&quot;: &quot;ECOv002_L2T_LSTE_28238_012_10SGD_20230629T170416_0710_01&quot;, &quot;intersects&quot;: true, &quot;shortname&quot;: &quot;ECO_L2T_LSTE&quot;, &quot;start_datetime&quot;: &quot;2023-06-29T17:04:16.344Z&quot;}, &quot;type&quot;: &quot;Feature&quot;}, {&quot;bbox&quot;: [-120.82892726886365, 34.20718855068355, -119.59844380403435, 35.223132916637724], &quot;geometry&quot;: {&quot;coordinates&quot;: [[[-119.59844380403435, 34.20718855068355], [-119.59844380403435, 35.223132916637724], [-120.82892726886365, 35.223132916637724], [-120.82892726886365, 34.20718855068355], [-119.59844380403435, 34.20718855068355]]], &quot;type&quot;: &quot;Polygon&quot;}, &quot;id&quot;: &quot;293&quot;, &quot;properties&quot;: {&quot;__folium_color&quot;: &quot;#dbdb8d&quot;, &quot;browse&quot;: &quot;https://data.lpdaac.earthdatacloud.nasa.gov/lp-prod-public/ECO_L2T_LSTE.002/ECOv002_L2T_LSTE_29576_005_10SGD_20230923T232104_0710_01/ECOv002_L2T_LSTE_29576_005_10SGD_20230923T232104_0710_01.png&quot;, &quot;cloud_cover&quot;: null, &quot;concept_id&quot;: &quot;G2772539755-LPCLOUD&quot;, &quot;day_night&quot;: &quot;Day&quot;, &quot;end_datetime&quot;: &quot;2023-09-23T23:21:56.408Z&quot;, &quot;granule&quot;: &quot;ECOv002_L2T_LSTE_29576_005_10SGD_20230923T232104_0710_01&quot;, &quot;intersects&quot;: true, &quot;shortname&quot;: &quot;ECO_L2T_LSTE&quot;, &quot;start_datetime&quot;: &quot;2023-09-23T23:21:04.439Z&quot;}, &quot;type&quot;: &quot;Feature&quot;}, {&quot;bbox&quot;: [-120.82892726886365, 34.20718855068355, -119.59844380403435, 35.223132916637724], &quot;geometry&quot;: {&quot;coordinates&quot;: [[[-119.59844380403435, 34.20718855068355], [-119.59844380403435, 35.223132916637724], [-120.82892726886365, 35.223132916637724], [-120.82892726886365, 34.20718855068355], [-119.59844380403435, 34.20718855068355]]], &quot;type&quot;: &quot;Polygon&quot;}, &quot;id&quot;: &quot;307&quot;, &quot;properties&quot;: {&quot;__folium_color&quot;: &quot;#17becf&quot;, &quot;browse&quot;: &quot;https://data.lpdaac.earthdatacloud.nasa.gov/lp-prod-public/ECO_L2T_LSTE.002/ECOv002_L2T_LSTE_29901_007_10SGD_20231014T223936_0711_01/ECOv002_L2T_LSTE_29901_007_10SGD_20231014T223936_0711_01.png&quot;, &quot;cloud_cover&quot;: null, &quot;concept_id&quot;: &quot;G2792244801-LPCLOUD&quot;, &quot;day_night&quot;: &quot;Day&quot;, &quot;end_datetime&quot;: &quot;2023-10-14T22:40:28.865Z&quot;, &quot;granule&quot;: &quot;ECOv002_L2T_LSTE_29901_007_10SGD_20231014T223936_0711_01&quot;, &quot;intersects&quot;: true, &quot;shortname&quot;: &quot;ECO_L2T_LSTE&quot;, &quot;start_datetime&quot;: &quot;2023-10-14T22:39:36.895Z&quot;}, &quot;type&quot;: &quot;Feature&quot;}, {&quot;bbox&quot;: [-120.82892726886365, 34.20718855068355, -119.59844380403435, 35.223132916637724], &quot;geometry&quot;: {&quot;coordinates&quot;: [[[-119.59844380403435, 34.20718855068355], [-119.59844380403435, 35.223132916637724], [-120.82892726886365, 35.223132916637724], [-120.82892726886365, 34.20718855068355], [-119.59844380403435, 34.20718855068355]]], &quot;type&quot;: &quot;Polygon&quot;}, &quot;id&quot;: &quot;316&quot;, &quot;properties&quot;: {&quot;__folium_color&quot;: &quot;#9edae5&quot;, &quot;browse&quot;: &quot;https://data.lpdaac.earthdatacloud.nasa.gov/lp-prod-public/ECO_L2T_LSTE.002/ECOv002_L2T_LSTE_29962_012_10SGD_20231018T210208_0711_01/ECOv002_L2T_LSTE_29962_012_10SGD_20231018T210208_0711_01.png&quot;, &quot;cloud_cover&quot;: null, &quot;concept_id&quot;: &quot;G2790664680-LPCLOUD&quot;, &quot;day_night&quot;: &quot;Day&quot;, &quot;end_datetime&quot;: &quot;2023-10-18T21:03:00.111Z&quot;, &quot;granule&quot;: &quot;ECOv002_L2T_LSTE_29962_012_10SGD_20231018T210208_0711_01&quot;, &quot;intersects&quot;: true, &quot;shortname&quot;: &quot;ECO_L2T_LSTE&quot;, &quot;start_datetime&quot;: &quot;2023-10-18T21:02:08.141Z&quot;}, &quot;type&quot;: &quot;Feature&quot;}], &quot;type&quot;: &quot;FeatureCollection&quot;});

        
    
    geo_json_f08b61e5e14082a1b73fc3ddf5645bd2.bindTooltip(
    function(layer){
    let div = L.DomUtil.create('div');
    
    let handleObject = feature=>typeof(feature)=='object' ? JSON.stringify(feature) : feature;
    let fields = [&quot;granule&quot;, &quot;start_datetime&quot;, &quot;cloud_cover&quot;];
    let aliases = [&quot;granule&quot;, &quot;start_datetime&quot;, &quot;cloud_cover&quot;];
    let table = '<table>' +
        String(
        fields.map(
        (v,i)=>
        `<tr>
            <th>${aliases[i]}</th>
            
            <td>${handleObject(layer.feature.properties[v])}</td>
        </tr>`).join(''))
    +'</table>';
    div.innerHTML=table;
    
    return div
    }
    ,{&quot;className&quot;: &quot;foliumtooltip&quot;, &quot;sticky&quot;: true});
                     
    
    geo_json_f08b61e5e14082a1b73fc3ddf5645bd2.bindPopup(
    function(layer){
    let div = L.DomUtil.create('div');
    
    let handleObject = feature=>typeof(feature)=='object' ? JSON.stringify(feature) : feature;
    let fields = [&quot;concept_id&quot;, &quot;granule&quot;, &quot;start_datetime&quot;, &quot;end_datetime&quot;, &quot;day_night&quot;, &quot;cloud_cover&quot;, &quot;browse&quot;, &quot;shortname&quot;, &quot;intersects&quot;];
    let aliases = [&quot;concept_id&quot;, &quot;granule&quot;, &quot;start_datetime&quot;, &quot;end_datetime&quot;, &quot;day_night&quot;, &quot;cloud_cover&quot;, &quot;browse&quot;, &quot;shortname&quot;, &quot;intersects&quot;];
    let table = '<table>' +
        String(
        fields.map(
        (v,i)=>
        `<tr>
            <th>${aliases[i].toLocaleString()}</th>
            
            <td>${handleObject(layer.feature.properties[v]).toLocaleString()}</td>
        </tr>`).join(''))
    +'</table>';
    div.innerHTML=table;
    
    return div
    }
    ,{&quot;className&quot;: &quot;foliumpopup&quot;});
                     
    
            geo_json_f08b61e5e14082a1b73fc3ddf5645bd2.addTo(map_ad43c167016ca3e79cbd2b9da9746b79);
        
    
        function geo_json_f6eeab443a76b9c7230c8239eaca257b_styler(feature) {
            switch(feature.id) {
                case &quot;53&quot;: 
                    return {&quot;color&quot;: &quot;#1f77b4&quot;, &quot;fillColor&quot;: &quot;#1f77b4&quot;, &quot;fillOpacity&quot;: 0.1, &quot;weight&quot;: 2, &quot;width&quot;: 2};
                case &quot;56&quot;: 
                    return {&quot;color&quot;: &quot;#aec7e8&quot;, &quot;fillColor&quot;: &quot;#aec7e8&quot;, &quot;fillOpacity&quot;: 0.1, &quot;weight&quot;: 2, &quot;width&quot;: 2};
                case &quot;121&quot;: 
                    return {&quot;color&quot;: &quot;#2ca02c&quot;, &quot;fillColor&quot;: &quot;#2ca02c&quot;, &quot;fillOpacity&quot;: 0.1, &quot;weight&quot;: 2, &quot;width&quot;: 2};
                case &quot;122&quot;: 
                    return {&quot;color&quot;: &quot;#98df8a&quot;, &quot;fillColor&quot;: &quot;#98df8a&quot;, &quot;fillOpacity&quot;: 0.1, &quot;weight&quot;: 2, &quot;width&quot;: 2};
                case &quot;125&quot;: 
                    return {&quot;color&quot;: &quot;#d62728&quot;, &quot;fillColor&quot;: &quot;#d62728&quot;, &quot;fillOpacity&quot;: 0.1, &quot;weight&quot;: 2, &quot;width&quot;: 2};
                case &quot;154&quot;: 
                    return {&quot;color&quot;: &quot;#9467bd&quot;, &quot;fillColor&quot;: &quot;#9467bd&quot;, &quot;fillOpacity&quot;: 0.1, &quot;weight&quot;: 2, &quot;width&quot;: 2};
                case &quot;177&quot;: 
                    return {&quot;color&quot;: &quot;#c5b0d5&quot;, &quot;fillColor&quot;: &quot;#c5b0d5&quot;, &quot;fillOpacity&quot;: 0.1, &quot;weight&quot;: 2, &quot;width&quot;: 2};
                case &quot;179&quot;: 
                    return {&quot;color&quot;: &quot;#8c564b&quot;, &quot;fillColor&quot;: &quot;#8c564b&quot;, &quot;fillOpacity&quot;: 0.1, &quot;weight&quot;: 2, &quot;width&quot;: 2};
                case &quot;207&quot;: 
                    return {&quot;color&quot;: &quot;#e377c2&quot;, &quot;fillColor&quot;: &quot;#e377c2&quot;, &quot;fillOpacity&quot;: 0.1, &quot;weight&quot;: 2, &quot;width&quot;: 2};
                case &quot;292&quot;: 
                    return {&quot;color&quot;: &quot;#f7b6d2&quot;, &quot;fillColor&quot;: &quot;#f7b6d2&quot;, &quot;fillOpacity&quot;: 0.1, &quot;weight&quot;: 2, &quot;width&quot;: 2};
                case &quot;295&quot;: 
                    return {&quot;color&quot;: &quot;#7f7f7f&quot;, &quot;fillColor&quot;: &quot;#7f7f7f&quot;, &quot;fillOpacity&quot;: 0.1, &quot;weight&quot;: 2, &quot;width&quot;: 2};
                case &quot;309&quot;: 
                    return {&quot;color&quot;: &quot;#bcbd22&quot;, &quot;fillColor&quot;: &quot;#bcbd22&quot;, &quot;fillOpacity&quot;: 0.1, &quot;weight&quot;: 2, &quot;width&quot;: 2};
                case &quot;310&quot;: 
                    return {&quot;color&quot;: &quot;#dbdb8d&quot;, &quot;fillColor&quot;: &quot;#dbdb8d&quot;, &quot;fillOpacity&quot;: 0.1, &quot;weight&quot;: 2, &quot;width&quot;: 2};
                case &quot;315&quot;: 
                    return {&quot;color&quot;: &quot;#17becf&quot;, &quot;fillColor&quot;: &quot;#17becf&quot;, &quot;fillOpacity&quot;: 0.1, &quot;weight&quot;: 2, &quot;width&quot;: 2};
                case &quot;318&quot;: 
                    return {&quot;color&quot;: &quot;#9edae5&quot;, &quot;fillColor&quot;: &quot;#9edae5&quot;, &quot;fillOpacity&quot;: 0.1, &quot;weight&quot;: 2, &quot;width&quot;: 2};
                default:
                    return {&quot;color&quot;: &quot;#ff7f0e&quot;, &quot;fillColor&quot;: &quot;#ff7f0e&quot;, &quot;fillOpacity&quot;: 0.1, &quot;weight&quot;: 2, &quot;width&quot;: 2};
            }
        }
        function geo_json_f6eeab443a76b9c7230c8239eaca257b_highlighter(feature) {
            switch(feature.id) {
                default:
                    return {&quot;fillOpacity&quot;: 0.75};
            }
        }
        function geo_json_f6eeab443a76b9c7230c8239eaca257b_pointToLayer(feature, latlng) {
            var opts = {&quot;bubblingMouseEvents&quot;: true, &quot;color&quot;: &quot;#3388ff&quot;, &quot;dashArray&quot;: null, &quot;dashOffset&quot;: null, &quot;fill&quot;: true, &quot;fillColor&quot;: &quot;#3388ff&quot;, &quot;fillOpacity&quot;: 0.2, &quot;fillRule&quot;: &quot;evenodd&quot;, &quot;lineCap&quot;: &quot;round&quot;, &quot;lineJoin&quot;: &quot;round&quot;, &quot;opacity&quot;: 1.0, &quot;radius&quot;: 2, &quot;stroke&quot;: true, &quot;weight&quot;: 3};
            
            let style = geo_json_f6eeab443a76b9c7230c8239eaca257b_styler(feature)
            Object.assign(opts, style)
            
            return new L.CircleMarker(latlng, opts)
        }

        function geo_json_f6eeab443a76b9c7230c8239eaca257b_onEachFeature(feature, layer) {
            layer.on({
                mouseout: function(e) {
                    if(typeof e.target.setStyle === &quot;function&quot;){
                            geo_json_f6eeab443a76b9c7230c8239eaca257b.resetStyle(e.target);
                    }
                },
                mouseover: function(e) {
                    if(typeof e.target.setStyle === &quot;function&quot;){
                        const highlightStyle = geo_json_f6eeab443a76b9c7230c8239eaca257b_highlighter(e.target.feature)
                        e.target.setStyle(highlightStyle);
                    }
                },
            });
        };
        var geo_json_f6eeab443a76b9c7230c8239eaca257b = L.geoJson(null, {
                onEachFeature: geo_json_f6eeab443a76b9c7230c8239eaca257b_onEachFeature,
            
                style: geo_json_f6eeab443a76b9c7230c8239eaca257b_styler,
                pointToLayer: geo_json_f6eeab443a76b9c7230c8239eaca257b_pointToLayer,
        });

        function geo_json_f6eeab443a76b9c7230c8239eaca257b_add (data) {
            geo_json_f6eeab443a76b9c7230c8239eaca257b
                .addData(data);
        }
            geo_json_f6eeab443a76b9c7230c8239eaca257b_add({&quot;bbox&quot;: [-121.32658386230469, 33.211692810058594, -118.7467269897461, 36.0649299621582], &quot;features&quot;: [{&quot;bbox&quot;: [-121.19893646240234, 34.362003326416016, -120.00106048583984, 35.54348373413086], &quot;geometry&quot;: {&quot;coordinates&quot;: [[[-120.7079086303711, 35.54348373413086], [-121.19893646240234, 34.90925979614258], [-120.4920883178711, 34.362003326416016], [-120.00106048583984, 34.9962272644043], [-120.7079086303711, 35.54348373413086]]], &quot;type&quot;: &quot;Polygon&quot;}, &quot;id&quot;: &quot;53&quot;, &quot;properties&quot;: {&quot;__folium_color&quot;: &quot;#1f77b4&quot;, &quot;browse&quot;: &quot;https://data.lpdaac.earthdatacloud.nasa.gov/lp-prod-public/EMITL2ARFL.001/EMIT_L2A_RFL_001_20230219T202939_2305013_002/EMIT_L2A_RFL_001_20230219T202939_2305013_002.png&quot;, &quot;cloud_cover&quot;: 47.0, &quot;concept_id&quot;: &quot;G2631040813-LPCLOUD&quot;, &quot;day_night&quot;: &quot;Day&quot;, &quot;end_datetime&quot;: &quot;2023-02-19T20:29:51Z&quot;, &quot;granule&quot;: &quot;EMIT_L2A_RFL_001_20230219T202939_2305013_002&quot;, &quot;shortname&quot;: &quot;EMITL2ARFL&quot;, &quot;start_datetime&quot;: &quot;2023-02-19T20:29:39Z&quot;}, &quot;type&quot;: &quot;Feature&quot;}, {&quot;bbox&quot;: [-120.54523468017578, 33.37880325317383, -118.7467269897461, 35.03645706176758], &quot;geometry&quot;: {&quot;coordinates&quot;: [[[-120.04837799072266, 35.03645706176758], [-120.54523468017578, 34.40815353393555], [-119.24358367919922, 33.37880325317383], [-118.7467269897461, 34.00710678100586], [-120.04837799072266, 35.03645706176758]]], &quot;type&quot;: &quot;Polygon&quot;}, &quot;id&quot;: &quot;56&quot;, &quot;properties&quot;: {&quot;__folium_color&quot;: &quot;#aec7e8&quot;, &quot;browse&quot;: &quot;https://data.lpdaac.earthdatacloud.nasa.gov/lp-prod-public/EMITL2ARFL.001/EMIT_L2A_RFL_001_20230219T202951_2305013_003/EMIT_L2A_RFL_001_20230219T202951_2305013_003.png&quot;, &quot;cloud_cover&quot;: 67.0, &quot;concept_id&quot;: &quot;G2631045418-LPCLOUD&quot;, &quot;day_night&quot;: &quot;Day&quot;, &quot;end_datetime&quot;: &quot;2023-02-19T20:30:14Z&quot;, &quot;granule&quot;: &quot;EMIT_L2A_RFL_001_20230219T202951_2305013_003&quot;, &quot;shortname&quot;: &quot;EMITL2ARFL&quot;, &quot;start_datetime&quot;: &quot;2023-02-19T20:29:51Z&quot;}, &quot;type&quot;: &quot;Feature&quot;}, {&quot;bbox&quot;: [-121.2174072265625, 34.65137481689453, -120.01828002929688, 35.831687927246094], &quot;geometry&quot;: {&quot;coordinates&quot;: [[[-120.73262023925781, 35.831687927246094], [-121.2174072265625, 35.196998596191406], [-120.50306701660156, 34.65137481689453], [-120.01828002929688, 35.28606414794922], [-120.73262023925781, 35.831687927246094]]], &quot;type&quot;: &quot;Polygon&quot;}, &quot;id&quot;: &quot;77&quot;, &quot;properties&quot;: {&quot;__folium_color&quot;: &quot;#ff7f0e&quot;, &quot;browse&quot;: &quot;https://data.lpdaac.earthdatacloud.nasa.gov/lp-prod-public/EMITL2ARFL.001/EMIT_L2A_RFL_001_20230227T172116_2305811_004/EMIT_L2A_RFL_001_20230227T172116_2305811_004.png&quot;, &quot;cloud_cover&quot;: 99.0, &quot;concept_id&quot;: &quot;G2631818088-LPCLOUD&quot;, &quot;day_night&quot;: &quot;Day&quot;, &quot;end_datetime&quot;: &quot;2023-02-27T17:21:28Z&quot;, &quot;granule&quot;: &quot;EMIT_L2A_RFL_001_20230227T172116_2305811_004&quot;, &quot;shortname&quot;: &quot;EMITL2ARFL&quot;, &quot;start_datetime&quot;: &quot;2023-02-27T17:21:16Z&quot;}, &quot;type&quot;: &quot;Feature&quot;}, {&quot;bbox&quot;: [-120.99247741699219, 33.660736083984375, -119.71609497070312, 34.906585693359375], &quot;geometry&quot;: {&quot;coordinates&quot;: [[[-120.21542358398438, 34.906585693359375], [-120.99247741699219, 34.28937530517578], [-120.49314880371094, 33.660736083984375], [-119.71609497070312, 34.27794647216797], [-120.21542358398438, 34.906585693359375]]], &quot;type&quot;: &quot;Polygon&quot;}, &quot;id&quot;: &quot;121&quot;, &quot;properties&quot;: {&quot;__folium_color&quot;: &quot;#2ca02c&quot;, &quot;browse&quot;: &quot;https://data.lpdaac.earthdatacloud.nasa.gov/lp-prod-public/EMITL2ARFL.001/EMIT_L2A_RFL_001_20230401T203751_2309114_002/EMIT_L2A_RFL_001_20230401T203751_2309114_002.png&quot;, &quot;cloud_cover&quot;: 80.0, &quot;concept_id&quot;: &quot;G2648965598-LPCLOUD&quot;, &quot;day_night&quot;: &quot;Day&quot;, &quot;end_datetime&quot;: &quot;2023-04-01T20:38:03Z&quot;, &quot;granule&quot;: &quot;EMIT_L2A_RFL_001_20230401T203751_2309114_002&quot;, &quot;shortname&quot;: &quot;EMITL2ARFL&quot;, &quot;start_datetime&quot;: &quot;2023-04-01T20:37:51Z&quot;}, &quot;type&quot;: &quot;Feature&quot;}, {&quot;bbox&quot;: [-120.34871673583984, 34.166805267333984, -119.0654067993164, 35.41507339477539], &quot;geometry&quot;: {&quot;coordinates&quot;: [[[-119.55792999267578, 35.41507339477539], [-120.34871673583984, 34.799312591552734], [-119.85619354248047, 34.166805267333984], [-119.0654067993164, 34.78256607055664], [-119.55792999267578, 35.41507339477539]]], &quot;type&quot;: &quot;Polygon&quot;}, &quot;id&quot;: &quot;122&quot;, &quot;properties&quot;: {&quot;__folium_color&quot;: &quot;#98df8a&quot;, &quot;browse&quot;: &quot;https://data.lpdaac.earthdatacloud.nasa.gov/lp-prod-public/EMITL2ARFL.001/EMIT_L2A_RFL_001_20230401T203803_2309114_003/EMIT_L2A_RFL_001_20230401T203803_2309114_003.png&quot;, &quot;cloud_cover&quot;: 18.0, &quot;concept_id&quot;: &quot;G2648966116-LPCLOUD&quot;, &quot;day_night&quot;: &quot;Day&quot;, &quot;end_datetime&quot;: &quot;2023-04-01T20:38:15Z&quot;, &quot;granule&quot;: &quot;EMIT_L2A_RFL_001_20230401T203803_2309114_003&quot;, &quot;shortname&quot;: &quot;EMITL2ARFL&quot;, &quot;start_datetime&quot;: &quot;2023-04-01T20:38:03Z&quot;}, &quot;type&quot;: &quot;Feature&quot;}, {&quot;bbox&quot;: [-120.65480041503906, 33.66123580932617, -119.37867736816406, 34.90690994262695], &quot;geometry&quot;: {&quot;coordinates&quot;: [[[-119.87803649902344, 34.90690994262695], [-120.65480041503906, 34.290470123291016], [-120.15544128417969, 33.66123580932617], [-119.37867736816406, 34.27767562866211], [-119.87803649902344, 34.90690994262695]]], &quot;type&quot;: &quot;Polygon&quot;}, &quot;id&quot;: &quot;125&quot;, &quot;properties&quot;: {&quot;__folium_color&quot;: &quot;#d62728&quot;, &quot;browse&quot;: &quot;https://data.lpdaac.earthdatacloud.nasa.gov/lp-prod-public/EMITL2ARFL.001/EMIT_L2A_RFL_001_20230405T190311_2309513_002/EMIT_L2A_RFL_001_20230405T190311_2309513_002.png&quot;, &quot;cloud_cover&quot;: 71.0, &quot;concept_id&quot;: &quot;G2667368816-LPCLOUD&quot;, &quot;day_night&quot;: &quot;Day&quot;, &quot;end_datetime&quot;: &quot;2023-04-05T19:03:23Z&quot;, &quot;granule&quot;: &quot;EMIT_L2A_RFL_001_20230405T190311_2309513_002&quot;, &quot;shortname&quot;: &quot;EMITL2ARFL&quot;, &quot;start_datetime&quot;: &quot;2023-04-05T19:03:11Z&quot;}, &quot;type&quot;: &quot;Feature&quot;}, {&quot;bbox&quot;: [-120.99520111083984, 33.94091033935547, -119.80156707763672, 35.12071228027344], &quot;geometry&quot;: {&quot;coordinates&quot;: [[[-120.4982681274414, 35.12071228027344], [-120.99520111083984, 34.488731384277344], [-120.29850006103516, 33.94091033935547], [-119.80156707763672, 34.57289123535156], [-120.4982681274414, 35.12071228027344]]], &quot;type&quot;: &quot;Polygon&quot;}, &quot;id&quot;: &quot;154&quot;, &quot;properties&quot;: {&quot;__folium_color&quot;: &quot;#9467bd&quot;, &quot;browse&quot;: &quot;https://data.lpdaac.earthdatacloud.nasa.gov/lp-prod-public/EMITL2ARFL.001/EMIT_L2A_RFL_001_20230422T195924_2311213_002/EMIT_L2A_RFL_001_20230422T195924_2311213_002.png&quot;, &quot;cloud_cover&quot;: 40.0, &quot;concept_id&quot;: &quot;G2667503312-LPCLOUD&quot;, &quot;day_night&quot;: &quot;Day&quot;, &quot;end_datetime&quot;: &quot;2023-04-22T19:59:36Z&quot;, &quot;granule&quot;: &quot;EMIT_L2A_RFL_001_20230422T195924_2311213_002&quot;, &quot;shortname&quot;: &quot;EMITL2ARFL&quot;, &quot;start_datetime&quot;: &quot;2023-04-22T19:59:24Z&quot;}, &quot;type&quot;: &quot;Feature&quot;}, {&quot;bbox&quot;: [-120.75292205810547, 34.20085144042969, -119.47516632080078, 35.441497802734375], &quot;geometry&quot;: {&quot;coordinates&quot;: [[[-119.96105194091797, 35.441497802734375], [-120.75292205810547, 34.82750701904297], [-120.26703643798828, 34.20085144042969], [-119.47516632080078, 34.814842224121094], [-119.96105194091797, 35.441497802734375]]], &quot;type&quot;: &quot;Polygon&quot;}, &quot;id&quot;: &quot;177&quot;, &quot;properties&quot;: {&quot;__folium_color&quot;: &quot;#c5b0d5&quot;, &quot;browse&quot;: &quot;https://data.lpdaac.earthdatacloud.nasa.gov/lp-prod-public/EMITL2ARFL.001/EMIT_L2A_RFL_001_20230528T220420_2314815_004/EMIT_L2A_RFL_001_20230528T220420_2314815_004.png&quot;, &quot;cloud_cover&quot;: 52.0, &quot;concept_id&quot;: &quot;G2699997381-LPCLOUD&quot;, &quot;day_night&quot;: &quot;Day&quot;, &quot;end_datetime&quot;: &quot;2023-05-28T22:04:32Z&quot;, &quot;granule&quot;: &quot;EMIT_L2A_RFL_001_20230528T220420_2314815_004&quot;, &quot;shortname&quot;: &quot;EMITL2ARFL&quot;, &quot;start_datetime&quot;: &quot;2023-05-28T22:04:20Z&quot;}, &quot;type&quot;: &quot;Feature&quot;}, {&quot;bbox&quot;: [-120.82316589355469, 33.28789520263672, -119.58209228515625, 34.51665496826172], &quot;geometry&quot;: {&quot;coordinates&quot;: [[[-120.29042053222656, 34.51665496826172], [-120.82316589355469, 33.912635803222656], [-120.11483764648438, 33.28789520263672], [-119.58209228515625, 33.89191436767578], [-120.29042053222656, 34.51665496826172]]], &quot;type&quot;: &quot;Polygon&quot;}, &quot;id&quot;: &quot;179&quot;, &quot;properties&quot;: {&quot;__folium_color&quot;: &quot;#8c564b&quot;, &quot;browse&quot;: &quot;https://data.lpdaac.earthdatacloud.nasa.gov/lp-prod-public/EMITL2ARFL.001/EMIT_L2A_RFL_001_20230601T202611_2315214_002/EMIT_L2A_RFL_001_20230601T202611_2315214_002.png&quot;, &quot;cloud_cover&quot;: 15.0, &quot;concept_id&quot;: &quot;G2720810376-LPCLOUD&quot;, &quot;day_night&quot;: &quot;Day&quot;, &quot;end_datetime&quot;: &quot;2023-06-01T20:26:23Z&quot;, &quot;granule&quot;: &quot;EMIT_L2A_RFL_001_20230601T202611_2315214_002&quot;, &quot;shortname&quot;: &quot;EMITL2ARFL&quot;, &quot;start_datetime&quot;: &quot;2023-06-01T20:26:11Z&quot;}, &quot;type&quot;: &quot;Feature&quot;}, {&quot;bbox&quot;: [-120.83880615234375, 34.10605239868164, -119.65158081054688, 35.27558517456055], &quot;geometry&quot;: {&quot;coordinates&quot;: [[[-120.35333251953125, 35.27558517456055], [-120.83880615234375, 34.655216217041016], [-120.13705444335938, 34.10605239868164], [-119.65158081054688, 34.72642135620117], [-120.35333251953125, 35.27558517456055]]], &quot;type&quot;: &quot;Polygon&quot;}, &quot;id&quot;: &quot;207&quot;, &quot;properties&quot;: {&quot;__folium_color&quot;: &quot;#e377c2&quot;, &quot;browse&quot;: &quot;https://data.lpdaac.earthdatacloud.nasa.gov/lp-prod-public/EMITL2ARFL.001/EMIT_L2A_RFL_001_20230629T170449_2318011_002/EMIT_L2A_RFL_001_20230629T170449_2318011_002.png&quot;, &quot;cloud_cover&quot;: 48.0, &quot;concept_id&quot;: &quot;G2735424106-LPCLOUD&quot;, &quot;day_night&quot;: &quot;Day&quot;, &quot;end_datetime&quot;: &quot;2023-06-29T17:05:01Z&quot;, &quot;granule&quot;: &quot;EMIT_L2A_RFL_001_20230629T170449_2318011_002&quot;, &quot;shortname&quot;: &quot;EMITL2ARFL&quot;, &quot;start_datetime&quot;: &quot;2023-06-29T17:04:49Z&quot;}, &quot;type&quot;: &quot;Feature&quot;}, {&quot;bbox&quot;: [-121.32658386230469, 34.04823303222656, -120.03990173339844, 35.29765319824219], &quot;geometry&quot;: {&quot;coordinates&quot;: [[[-120.529296875, 35.29765319824219], [-121.32658386230469, 34.681610107421875], [-120.83718872070312, 34.04823303222656], [-120.03990173339844, 34.664276123046875], [-120.529296875, 35.29765319824219]]], &quot;type&quot;: &quot;Polygon&quot;}, &quot;id&quot;: &quot;292&quot;, &quot;properties&quot;: {&quot;__folium_color&quot;: &quot;#f7b6d2&quot;, &quot;browse&quot;: &quot;https://data.lpdaac.earthdatacloud.nasa.gov/lp-prod-public/EMITL2ARFL.001/EMIT_L2A_RFL_001_20230923T232101_2326615_002/EMIT_L2A_RFL_001_20230923T232101_2326615_002.png&quot;, &quot;cloud_cover&quot;: 73.0, &quot;concept_id&quot;: &quot;G2772438951-LPCLOUD&quot;, &quot;day_night&quot;: &quot;Day&quot;, &quot;end_datetime&quot;: &quot;2023-09-23T23:21:13Z&quot;, &quot;granule&quot;: &quot;EMIT_L2A_RFL_001_20230923T232101_2326615_002&quot;, &quot;shortname&quot;: &quot;EMITL2ARFL&quot;, &quot;start_datetime&quot;: &quot;2023-09-23T23:21:01Z&quot;}, &quot;type&quot;: &quot;Feature&quot;}, {&quot;bbox&quot;: [-120.67430114746094, 34.55021286010742, -119.03335571289062, 36.0649299621582], &quot;geometry&quot;: {&quot;coordinates&quot;: [[[-119.51744079589844, 36.0649299621582], [-120.67430114746094, 35.19106674194336], [-120.19021606445312, 34.55021286010742], [-119.03335571289062, 35.424076080322266], [-119.51744079589844, 36.0649299621582]]], &quot;type&quot;: &quot;Polygon&quot;}, &quot;id&quot;: &quot;295&quot;, &quot;properties&quot;: {&quot;__folium_color&quot;: &quot;#7f7f7f&quot;, &quot;browse&quot;: &quot;https://data.lpdaac.earthdatacloud.nasa.gov/lp-prod-public/EMITL2ARFL.001/EMIT_L2A_RFL_001_20230923T232113_2326615_003/EMIT_L2A_RFL_001_20230923T232113_2326615_003.png&quot;, &quot;cloud_cover&quot;: 10.0, &quot;concept_id&quot;: &quot;G2772444304-LPCLOUD&quot;, &quot;day_night&quot;: &quot;Day&quot;, &quot;end_datetime&quot;: &quot;2023-09-23T23:21:31Z&quot;, &quot;granule&quot;: &quot;EMIT_L2A_RFL_001_20230923T232113_2326615_003&quot;, &quot;shortname&quot;: &quot;EMITL2ARFL&quot;, &quot;start_datetime&quot;: &quot;2023-09-23T23:21:13Z&quot;}, &quot;type&quot;: &quot;Feature&quot;}, {&quot;bbox&quot;: [-121.28294372558594, 33.98479461669922, -120.09658813476562, 35.15521240234375], &quot;geometry&quot;: {&quot;coordinates&quot;: [[[-120.79351806640625, 35.15521240234375], [-121.28294372558594, 34.53301239013672], [-120.58601379394531, 33.98479461669922], [-120.09658813476562, 34.60699462890625], [-120.79351806640625, 35.15521240234375]]], &quot;type&quot;: &quot;Polygon&quot;}, &quot;id&quot;: &quot;309&quot;, &quot;properties&quot;: {&quot;__folium_color&quot;: &quot;#bcbd22&quot;, &quot;browse&quot;: &quot;https://data.lpdaac.earthdatacloud.nasa.gov/lp-prod-public/EMITL2ARFL.001/EMIT_L2A_RFL_001_20231014T224006_2328715_002/EMIT_L2A_RFL_001_20231014T224006_2328715_002.png&quot;, &quot;cloud_cover&quot;: 66.0, &quot;concept_id&quot;: &quot;G2786272677-LPCLOUD&quot;, &quot;day_night&quot;: &quot;Day&quot;, &quot;end_datetime&quot;: &quot;2023-10-14T22:40:18Z&quot;, &quot;granule&quot;: &quot;EMIT_L2A_RFL_001_20231014T224006_2328715_002&quot;, &quot;shortname&quot;: &quot;EMITL2ARFL&quot;, &quot;start_datetime&quot;: &quot;2023-10-14T22:40:06Z&quot;}, &quot;type&quot;: &quot;Feature&quot;}, {&quot;bbox&quot;: [-120.63442993164062, 33.211692810058594, -119.12010192871094, 34.64470672607422], &quot;geometry&quot;: {&quot;coordinates&quot;: [[[-120.14164733886719, 34.64470672607422], [-120.63442993164062, 34.02814483642578], [-119.61288452148438, 33.211692810058594], [-119.12010192871094, 33.82825469970703], [-120.14164733886719, 34.64470672607422]]], &quot;type&quot;: &quot;Polygon&quot;}, &quot;id&quot;: &quot;310&quot;, &quot;properties&quot;: {&quot;__folium_color&quot;: &quot;#dbdb8d&quot;, &quot;browse&quot;: &quot;https://data.lpdaac.earthdatacloud.nasa.gov/lp-prod-public/EMITL2ARFL.001/EMIT_L2A_RFL_001_20231014T224018_2328715_003/EMIT_L2A_RFL_001_20231014T224018_2328715_003.png&quot;, &quot;cloud_cover&quot;: 93.0, &quot;concept_id&quot;: &quot;G2786302498-LPCLOUD&quot;, &quot;day_night&quot;: &quot;Day&quot;, &quot;end_datetime&quot;: &quot;2023-10-14T22:40:36Z&quot;, &quot;granule&quot;: &quot;EMIT_L2A_RFL_001_20231014T224018_2328715_003&quot;, &quot;shortname&quot;: &quot;EMITL2ARFL&quot;, &quot;start_datetime&quot;: &quot;2023-10-14T22:40:18Z&quot;}, &quot;type&quot;: &quot;Feature&quot;}, {&quot;bbox&quot;: [-121.20394134521484, 34.72146224975586, -120.00861358642578, 35.896907806396484], &quot;geometry&quot;: {&quot;coordinates&quot;: [[[-120.72254180908203, 35.896907806396484], [-121.20394134521484, 35.2675666809082], [-120.4900131225586, 34.72146224975586], [-120.00861358642578, 35.35080337524414], [-120.72254180908203, 35.896907806396484]]], &quot;type&quot;: &quot;Polygon&quot;}, &quot;id&quot;: &quot;315&quot;, &quot;properties&quot;: {&quot;__folium_color&quot;: &quot;#17becf&quot;, &quot;browse&quot;: &quot;https://data.lpdaac.earthdatacloud.nasa.gov/lp-prod-public/EMITL2ARFL.001/EMIT_L2A_RFL_001_20231018T210205_2329114_005/EMIT_L2A_RFL_001_20231018T210205_2329114_005.png&quot;, &quot;cloud_cover&quot;: 11.0, &quot;concept_id&quot;: &quot;G2786557891-LPCLOUD&quot;, &quot;day_night&quot;: &quot;Day&quot;, &quot;end_datetime&quot;: &quot;2023-10-18T21:02:17Z&quot;, &quot;granule&quot;: &quot;EMIT_L2A_RFL_001_20231018T210205_2329114_005&quot;, &quot;shortname&quot;: &quot;EMITL2ARFL&quot;, &quot;start_datetime&quot;: &quot;2023-10-18T21:02:05Z&quot;}, &quot;type&quot;: &quot;Feature&quot;}, {&quot;bbox&quot;: [-120.54254150390625, 34.2210693359375, -119.35418701171875, 35.391700744628906], &quot;geometry&quot;: {&quot;coordinates&quot;: [[[-120.05732727050781, 35.391700744628906], [-120.54254150390625, 34.768699645996094], [-119.83940124511719, 34.2210693359375], [-119.35418701171875, 34.84407043457031], [-120.05732727050781, 35.391700744628906]]], &quot;type&quot;: &quot;Polygon&quot;}, &quot;id&quot;: &quot;318&quot;, &quot;properties&quot;: {&quot;__folium_color&quot;: &quot;#9edae5&quot;, &quot;browse&quot;: &quot;https://data.lpdaac.earthdatacloud.nasa.gov/lp-prod-public/EMITL2ARFL.001/EMIT_L2A_RFL_001_20231018T210217_2329114_006/EMIT_L2A_RFL_001_20231018T210217_2329114_006.png&quot;, &quot;cloud_cover&quot;: 9.0, &quot;concept_id&quot;: &quot;G2786556493-LPCLOUD&quot;, &quot;day_night&quot;: &quot;Day&quot;, &quot;end_datetime&quot;: &quot;2023-10-18T21:02:29Z&quot;, &quot;granule&quot;: &quot;EMIT_L2A_RFL_001_20231018T210217_2329114_006&quot;, &quot;shortname&quot;: &quot;EMITL2ARFL&quot;, &quot;start_datetime&quot;: &quot;2023-10-18T21:02:17Z&quot;}, &quot;type&quot;: &quot;Feature&quot;}], &quot;type&quot;: &quot;FeatureCollection&quot;});

        
    
    geo_json_f6eeab443a76b9c7230c8239eaca257b.bindTooltip(
    function(layer){
    let div = L.DomUtil.create('div');
    
    let handleObject = feature=>typeof(feature)=='object' ? JSON.stringify(feature) : feature;
    let fields = [&quot;granule&quot;, &quot;start_datetime&quot;, &quot;cloud_cover&quot;];
    let aliases = [&quot;granule&quot;, &quot;start_datetime&quot;, &quot;cloud_cover&quot;];
    let table = '<table>' +
        String(
        fields.map(
        (v,i)=>
        `<tr>
            <th>${aliases[i]}</th>
            
            <td>${handleObject(layer.feature.properties[v])}</td>
        </tr>`).join(''))
    +'</table>';
    div.innerHTML=table;
    
    return div
    }
    ,{&quot;className&quot;: &quot;foliumtooltip&quot;, &quot;sticky&quot;: true});
                     
    
    geo_json_f6eeab443a76b9c7230c8239eaca257b.bindPopup(
    function(layer){
    let div = L.DomUtil.create('div');
    
    let handleObject = feature=>typeof(feature)=='object' ? JSON.stringify(feature) : feature;
    let fields = [&quot;concept_id&quot;, &quot;granule&quot;, &quot;start_datetime&quot;, &quot;end_datetime&quot;, &quot;day_night&quot;, &quot;cloud_cover&quot;, &quot;browse&quot;, &quot;shortname&quot;];
    let aliases = [&quot;concept_id&quot;, &quot;granule&quot;, &quot;start_datetime&quot;, &quot;end_datetime&quot;, &quot;day_night&quot;, &quot;cloud_cover&quot;, &quot;browse&quot;, &quot;shortname&quot;];
    let table = '<table>' +
        String(
        fields.map(
        (v,i)=>
        `<tr>
            <th>${aliases[i].toLocaleString()}</th>
            
            <td>${handleObject(layer.feature.properties[v]).toLocaleString()}</td>
        </tr>`).join(''))
    +'</table>';
    div.innerHTML=table;
    
    return div
    }
    ,{&quot;className&quot;: &quot;foliumpopup&quot;});
                     
    
            geo_json_f6eeab443a76b9c7230c8239eaca257b.addTo(map_ad43c167016ca3e79cbd2b9da9746b79);
        
    
            var image_overlay_0564c125b0ea4cb51ef447f32adc198f = L.imageOverlay(
                &quot;https://data.lpdaac.earthdatacloud.nasa.gov/lp-prod-public/ECO_L2T_LSTE.002/ECOv002_L2T_LSTE_26223_011_10SGD_20230219T202851_0710_01/ECOv002_L2T_LSTE_26223_011_10SGD_20230219T202851_0710_01.png&quot;,
                [[34.207188, -120.828926], [35.223133, -119.598442]],
                {&quot;crossOrigin&quot;: false, &quot;interactive&quot;: false, &quot;opacity&quot;: 0.75, &quot;zindex&quot;: 1}
            );
        
    
            image_overlay_0564c125b0ea4cb51ef447f32adc198f.addTo(map_ad43c167016ca3e79cbd2b9da9746b79);
        
    
            var image_overlay_437e904af7932894319e4a93d6f72e7a = L.imageOverlay(
                &quot;https://data.lpdaac.earthdatacloud.nasa.gov/lp-prod-public/ECO_L2T_LSTE.002/ECOv002_L2T_LSTE_26223_012_10SGD_20230219T202943_0710_01/ECOv002_L2T_LSTE_26223_012_10SGD_20230219T202943_0710_01.png&quot;,
                [[34.207188, -120.828926], [35.223133, -119.598442]],
                {&quot;crossOrigin&quot;: false, &quot;interactive&quot;: false, &quot;opacity&quot;: 0.75, &quot;zindex&quot;: 1}
            );
        
    
            image_overlay_437e904af7932894319e4a93d6f72e7a.addTo(map_ad43c167016ca3e79cbd2b9da9746b79);
        
    
            var image_overlay_bc880451b00588fd3fd7e2f0967febce = L.imageOverlay(
                &quot;https://data.lpdaac.earthdatacloud.nasa.gov/lp-prod-public/ECO_L2T_LSTE.002/ECOv002_L2T_LSTE_26345_013_10SGD_20230227T172029_0710_01/ECOv002_L2T_LSTE_26345_013_10SGD_20230227T172029_0710_01.png&quot;,
                [[34.207188, -120.828926], [35.223133, -119.598442]],
                {&quot;crossOrigin&quot;: false, &quot;interactive&quot;: false, &quot;opacity&quot;: 0.75, &quot;zindex&quot;: 1}
            );
        
    
            image_overlay_bc880451b00588fd3fd7e2f0967febce.addTo(map_ad43c167016ca3e79cbd2b9da9746b79);
        
    
            var image_overlay_c8f7f1700f585396f6a3eadc098a0b32 = L.imageOverlay(
                &quot;https://data.lpdaac.earthdatacloud.nasa.gov/lp-prod-public/ECO_L2T_LSTE.002/ECOv002_L2T_LSTE_26345_013_10SGD_20230227T172029_0711_02/ECOv002_L2T_LSTE_26345_013_10SGD_20230227T172029_0711_02.png&quot;,
                [[34.20718855068355, -120.82892726886365], [35.223132916637724, -119.59844380403435]],
                {&quot;crossOrigin&quot;: false, &quot;interactive&quot;: false, &quot;opacity&quot;: 0.75, &quot;zindex&quot;: 1}
            );
        
    
            image_overlay_c8f7f1700f585396f6a3eadc098a0b32.addTo(map_ad43c167016ca3e79cbd2b9da9746b79);
        
    
            var image_overlay_ea7f097887613c3571415dc1c16ed14c = L.imageOverlay(
                &quot;https://data.lpdaac.earthdatacloud.nasa.gov/lp-prod-public/ECO_L2T_LSTE.002/ECOv002_L2T_LSTE_26345_014_10SGD_20230227T172121_0710_01/ECOv002_L2T_LSTE_26345_014_10SGD_20230227T172121_0710_01.png&quot;,
                [[34.207188, -120.828926], [35.223133, -119.598442]],
                {&quot;crossOrigin&quot;: false, &quot;interactive&quot;: false, &quot;opacity&quot;: 0.75, &quot;zindex&quot;: 1}
            );
        
    
            image_overlay_ea7f097887613c3571415dc1c16ed14c.addTo(map_ad43c167016ca3e79cbd2b9da9746b79);
        
    
            var image_overlay_f8ca58d3e22e0af0ec2d8014a5ceeacc = L.imageOverlay(
                &quot;https://data.lpdaac.earthdatacloud.nasa.gov/lp-prod-public/ECO_L2T_LSTE.002/ECOv002_L2T_LSTE_26345_014_10SGD_20230227T172121_0711_02/ECOv002_L2T_LSTE_26345_014_10SGD_20230227T172121_0711_02.png&quot;,
                [[34.20718855068355, -120.82892726886365], [35.223132916637724, -119.59844380403435]],
                {&quot;crossOrigin&quot;: false, &quot;interactive&quot;: false, &quot;opacity&quot;: 0.75, &quot;zindex&quot;: 1}
            );
        
    
            image_overlay_f8ca58d3e22e0af0ec2d8014a5ceeacc.addTo(map_ad43c167016ca3e79cbd2b9da9746b79);
        
    
            var image_overlay_a279de32c2e098f751e663c0d288aa9f = L.imageOverlay(
                &quot;https://data.lpdaac.earthdatacloud.nasa.gov/lp-prod-public/ECO_L2T_LSTE.002/ECOv002_L2T_LSTE_26860_001_10SGD_20230401T203733_0710_01/ECOv002_L2T_LSTE_26860_001_10SGD_20230401T203733_0710_01.png&quot;,
                [[34.207188, -120.828926], [35.223133, -119.598442]],
                {&quot;crossOrigin&quot;: false, &quot;interactive&quot;: false, &quot;opacity&quot;: 0.75, &quot;zindex&quot;: 1}
            );
        
    
            image_overlay_a279de32c2e098f751e663c0d288aa9f.addTo(map_ad43c167016ca3e79cbd2b9da9746b79);
        
    
            var image_overlay_476074502133f5fba568c31cba53641f = L.imageOverlay(
                &quot;https://data.lpdaac.earthdatacloud.nasa.gov/lp-prod-public/ECO_L2T_LSTE.002/ECOv002_L2T_LSTE_26921_001_10SGD_20230405T190258_0710_01/ECOv002_L2T_LSTE_26921_001_10SGD_20230405T190258_0710_01.png&quot;,
                [[34.207188, -120.828926], [35.223133, -119.598442]],
                {&quot;crossOrigin&quot;: false, &quot;interactive&quot;: false, &quot;opacity&quot;: 0.75, &quot;zindex&quot;: 1}
            );
        
    
            image_overlay_476074502133f5fba568c31cba53641f.addTo(map_ad43c167016ca3e79cbd2b9da9746b79);
        
    
            var image_overlay_38f6ec7ccca281db7fd02e8934db1115 = L.imageOverlay(
                &quot;https://data.lpdaac.earthdatacloud.nasa.gov/lp-prod-public/ECO_L2T_LSTE.002/ECOv002_L2T_LSTE_27185_010_10SGD_20230422T195836_0710_01/ECOv002_L2T_LSTE_27185_010_10SGD_20230422T195836_0710_01.png&quot;,
                [[34.207188, -120.828926], [35.223133, -119.598442]],
                {&quot;crossOrigin&quot;: false, &quot;interactive&quot;: false, &quot;opacity&quot;: 0.75, &quot;zindex&quot;: 1}
            );
        
    
            image_overlay_38f6ec7ccca281db7fd02e8934db1115.addTo(map_ad43c167016ca3e79cbd2b9da9746b79);
        
    
            var image_overlay_2e12160744e777184218f74d09ee81e3 = L.imageOverlay(
                &quot;https://data.lpdaac.earthdatacloud.nasa.gov/lp-prod-public/ECO_L2T_LSTE.002/ECOv002_L2T_LSTE_27745_005_10SGD_20230528T220401_0710_01/ECOv002_L2T_LSTE_27745_005_10SGD_20230528T220401_0710_01.png&quot;,
                [[34.207188, -120.828926], [35.223133, -119.598442]],
                {&quot;crossOrigin&quot;: false, &quot;interactive&quot;: false, &quot;opacity&quot;: 0.75, &quot;zindex&quot;: 1}
            );
        
    
            image_overlay_2e12160744e777184218f74d09ee81e3.addTo(map_ad43c167016ca3e79cbd2b9da9746b79);
        
    
            var image_overlay_984cbf87e8dcfeb68d8a0b82dc522b35 = L.imageOverlay(
                &quot;https://data.lpdaac.earthdatacloud.nasa.gov/lp-prod-public/ECO_L2T_LSTE.002/ECOv002_L2T_LSTE_27806_005_10SGD_20230601T202619_0710_01/ECOv002_L2T_LSTE_27806_005_10SGD_20230601T202619_0710_01.png&quot;,
                [[34.207188, -120.828926], [35.223133, -119.598442]],
                {&quot;crossOrigin&quot;: false, &quot;interactive&quot;: false, &quot;opacity&quot;: 0.75, &quot;zindex&quot;: 1}
            );
        
    
            image_overlay_984cbf87e8dcfeb68d8a0b82dc522b35.addTo(map_ad43c167016ca3e79cbd2b9da9746b79);
        
    
            var image_overlay_b1d3d47aa5e823995c9e2918349fe3cc = L.imageOverlay(
                &quot;https://data.lpdaac.earthdatacloud.nasa.gov/lp-prod-public/ECO_L2T_LSTE.002/ECOv002_L2T_LSTE_28238_012_10SGD_20230629T170416_0710_01/ECOv002_L2T_LSTE_28238_012_10SGD_20230629T170416_0710_01.png&quot;,
                [[34.20718855068355, -120.82892726886365], [35.223132916637724, -119.59844380403435]],
                {&quot;crossOrigin&quot;: false, &quot;interactive&quot;: false, &quot;opacity&quot;: 0.75, &quot;zindex&quot;: 1}
            );
        
    
            image_overlay_b1d3d47aa5e823995c9e2918349fe3cc.addTo(map_ad43c167016ca3e79cbd2b9da9746b79);
        
    
            var image_overlay_aa2a3524ff66457a753e2eacf78925e8 = L.imageOverlay(
                &quot;https://data.lpdaac.earthdatacloud.nasa.gov/lp-prod-public/ECO_L2T_LSTE.002/ECOv002_L2T_LSTE_29576_005_10SGD_20230923T232104_0710_01/ECOv002_L2T_LSTE_29576_005_10SGD_20230923T232104_0710_01.png&quot;,
                [[34.20718855068355, -120.82892726886365], [35.223132916637724, -119.59844380403435]],
                {&quot;crossOrigin&quot;: false, &quot;interactive&quot;: false, &quot;opacity&quot;: 0.75, &quot;zindex&quot;: 1}
            );
        
    
            image_overlay_aa2a3524ff66457a753e2eacf78925e8.addTo(map_ad43c167016ca3e79cbd2b9da9746b79);
        
    
            var image_overlay_0ccb92cc961d19bbefc61b9924db90dc = L.imageOverlay(
                &quot;https://data.lpdaac.earthdatacloud.nasa.gov/lp-prod-public/ECO_L2T_LSTE.002/ECOv002_L2T_LSTE_29901_007_10SGD_20231014T223936_0711_01/ECOv002_L2T_LSTE_29901_007_10SGD_20231014T223936_0711_01.png&quot;,
                [[34.20718855068355, -120.82892726886365], [35.223132916637724, -119.59844380403435]],
                {&quot;crossOrigin&quot;: false, &quot;interactive&quot;: false, &quot;opacity&quot;: 0.75, &quot;zindex&quot;: 1}
            );
        
    
            image_overlay_0ccb92cc961d19bbefc61b9924db90dc.addTo(map_ad43c167016ca3e79cbd2b9da9746b79);
        
    
            var image_overlay_fbd78af21813c33d073c48d5891c7a86 = L.imageOverlay(
                &quot;https://data.lpdaac.earthdatacloud.nasa.gov/lp-prod-public/ECO_L2T_LSTE.002/ECOv002_L2T_LSTE_29962_012_10SGD_20231018T210208_0711_01/ECOv002_L2T_LSTE_29962_012_10SGD_20231018T210208_0711_01.png&quot;,
                [[34.20718855068355, -120.82892726886365], [35.223132916637724, -119.59844380403435]],
                {&quot;crossOrigin&quot;: false, &quot;interactive&quot;: false, &quot;opacity&quot;: 0.75, &quot;zindex&quot;: 1}
            );
        
    
            image_overlay_fbd78af21813c33d073c48d5891c7a86.addTo(map_ad43c167016ca3e79cbd2b9da9746b79);
        
    
        function geo_json_cc8376e28021cfb99737af3c4427e29a_styler(feature) {
            switch(feature.id) {
                default:
                    return {&quot;fillOpacity&quot;: 0.1, &quot;weight&quot;: 2, &quot;width&quot;: 2};
            }
        }
        function geo_json_cc8376e28021cfb99737af3c4427e29a_highlighter(feature) {
            switch(feature.id) {
                default:
                    return {&quot;fillOpacity&quot;: 0.75};
            }
        }
        function geo_json_cc8376e28021cfb99737af3c4427e29a_pointToLayer(feature, latlng) {
            var opts = {&quot;bubblingMouseEvents&quot;: true, &quot;color&quot;: &quot;#3388ff&quot;, &quot;dashArray&quot;: null, &quot;dashOffset&quot;: null, &quot;fill&quot;: true, &quot;fillColor&quot;: &quot;#3388ff&quot;, &quot;fillOpacity&quot;: 0.2, &quot;fillRule&quot;: &quot;evenodd&quot;, &quot;lineCap&quot;: &quot;round&quot;, &quot;lineJoin&quot;: &quot;round&quot;, &quot;opacity&quot;: 1.0, &quot;radius&quot;: 2, &quot;stroke&quot;: true, &quot;weight&quot;: 3};
            
            let style = geo_json_cc8376e28021cfb99737af3c4427e29a_styler(feature)
            Object.assign(opts, style)
            
            return new L.CircleMarker(latlng, opts)
        }

        function geo_json_cc8376e28021cfb99737af3c4427e29a_onEachFeature(feature, layer) {
            layer.on({
                mouseout: function(e) {
                    if(typeof e.target.setStyle === &quot;function&quot;){
                            geo_json_cc8376e28021cfb99737af3c4427e29a.resetStyle(e.target);
                    }
                },
                mouseover: function(e) {
                    if(typeof e.target.setStyle === &quot;function&quot;){
                        const highlightStyle = geo_json_cc8376e28021cfb99737af3c4427e29a_highlighter(e.target.feature)
                        e.target.setStyle(highlightStyle);
                    }
                },
            });
        };
        var geo_json_cc8376e28021cfb99737af3c4427e29a = L.geoJson(null, {
                onEachFeature: geo_json_cc8376e28021cfb99737af3c4427e29a_onEachFeature,
            
                style: geo_json_cc8376e28021cfb99737af3c4427e29a_styler,
                pointToLayer: geo_json_cc8376e28021cfb99737af3c4427e29a_pointToLayer,
        });

        function geo_json_cc8376e28021cfb99737af3c4427e29a_add (data) {
            geo_json_cc8376e28021cfb99737af3c4427e29a
                .addData(data);
        }
            geo_json_cc8376e28021cfb99737af3c4427e29a_add({&quot;bbox&quot;: [-120.499289029747, 34.4422979925537, -120.01175444547289, 34.743985733609556], &quot;features&quot;: [{&quot;bbox&quot;: [-120.07168830185367, 34.67874372675126, -120.01175444547289, 34.743985733609556], &quot;geometry&quot;: {&quot;coordinates&quot;: [[[-120.04041123986089, 34.74342268352134], [-120.04121889204112, 34.743735066665835], [-120.04233680955474, 34.743985733609556], [-120.04347866996883, 34.742743832848156], [-120.04466572607036, 34.7424755469407], [-120.0448866879965, 34.74191265779671], [-120.04532294168776, 34.74159883138454], [-120.04804960173333, 34.741930978842824], [-120.04882554857339, 34.74223480319798], [-120.04949820119256, 34.74213674742191], [-120.04993617368781, 34.74236084527639], [-120.05063226768779, 34.74246510413567], [-120.05084529371707, 34.74296515425221], [-120.05181991617927, 34.742292688494636], [-120.05248533194795, 34.74258310344906], [-120.05311871770458, 34.742205091313274], [-120.0537722979379, 34.7422376073561], [-120.05409711012827, 34.74194830623631], [-120.0543713797112, 34.74209128417946], [-120.05479918084599, 34.74210391650734], [-120.05579592922335, 34.741837342896304], [-120.05694257691489, 34.74214544480658], [-120.05741042037987, 34.74181489507682], [-120.05767271320745, 34.74132546754863], [-120.05754227015422, 34.740740878009824], [-120.05876345149959, 34.74069180836263], [-120.05917953489605, 34.74018712575532], [-120.0587615854979, 34.739770015724844], [-120.06043616892654, 34.73832197492165], [-120.06128451686234, 34.73743320382969], [-120.0633872937648, 34.73640466515508], [-120.0639059857869, 34.7363786768863], [-120.06403134870462, 34.73519616510308], [-120.06454804185732, 34.734541873380046], [-120.06744848879882, 34.733043732603065], [-120.070616303288, 34.72952389483826], [-120.07043959994115, 34.72724173490022], [-120.0711658556598, 34.72294007365655], [-120.07168830185367, 34.71997034050748], [-120.06802222094016, 34.71707138144172], [-120.0643838637534, 34.71556891113268], [-120.06181919501256, 34.71432727384942], [-120.06086869366344, 34.7146474924856], [-120.0601201043257, 34.7146055700268], [-120.05915143262852, 34.712156508207215], [-120.05914365552792, 34.71213594341261], [-120.0579297886696, 34.709929219916546], [-120.05770835562292, 34.70940385347888], [-120.05751031403676, 34.708753407845755], [-120.05739358464504, 34.707625117415304], [-120.05644763385853, 34.70594280996333], [-120.05643958520336, 34.70592877328525], [-120.05560802087543, 34.7041919156709], [-120.05554467210189, 34.70251089221562], [-120.05550630815135, 34.701492772768894], [-120.055461488798, 34.7005885983348], [-120.0554596736261, 34.7005550655234], [-120.0554039826769, 34.69948129063735], [-120.05538831873399, 34.698385230495944], [-120.05526178291916, 34.69616125098816], [-120.05517157722116, 34.694136196842145], [-120.05507940302671, 34.69206681413075], [-120.05507556891348, 34.691797549336464], [-120.05506238375865, 34.69087158829482], [-120.05516147749043, 34.69025048197192], [-120.05537367433509, 34.688920416937414], [-120.05477895715674, 34.687500193851115], [-120.05421030242205, 34.68614216540855], [-120.05437973139783, 34.683147158844996], [-120.05446824425277, 34.681582630902554], [-120.05427316208798, 34.68056492337604], [-120.05409520266919, 34.67963650372387], [-120.05409236336455, 34.67898649251284], [-120.05086593954367, 34.67894506251114], [-120.04735720219035, 34.67889985551723], [-120.0454382179078, 34.67887508968519], [-120.04296564515735, 34.67884313196442], [-120.03885718195134, 34.67878992264703], [-120.03882024814752, 34.67878944343524], [-120.038822553688, 34.67878278821947], [-120.03864999677779, 34.67878153792925], [-120.03857836007664, 34.67878101897387], [-120.0375931324717, 34.6787738631857], [-120.03344480724418, 34.67877083712449], [-120.0285350182976, 34.67874372675126], [-120.02766842116552, 34.67966056614673], [-120.02688127769018, 34.681520761856035], [-120.02565480881036, 34.686067202877275], [-120.02557636256647, 34.68749492328606], [-120.02540359502339, 34.69063897254925], [-120.02698181220869, 34.691998736361825], [-120.02707411605091, 34.704552662731395], [-120.02711070780717, 34.71876004647024], [-120.02728384103979, 34.719704576193706], [-120.02488659066623, 34.72151568825152], [-120.01860679260076, 34.72166938674092], [-120.01819018507503, 34.721863965265676], [-120.01794880316505, 34.72197670352912], [-120.0181373446802, 34.723016839560394], [-120.0181601976407, 34.72314289819512], [-120.01268426806213, 34.72738510493605], [-120.01248884292058, 34.72753649045302], [-120.01243858361981, 34.72813618399153], [-120.01175444547289, 34.729442988434734], [-120.01960069899336, 34.735545259144054], [-120.02895215128893, 34.742804281371775], [-120.02912625895728, 34.742742063707205], [-120.02981138599067, 34.7427657274346], [-120.03090839289258, 34.74269810021536], [-120.03202999082784, 34.74302707415178], [-120.03311348576628, 34.74237415359347], [-120.03333602264894, 34.74317636970352], [-120.03380537304476, 34.74313736951284], [-120.03475265629952, 34.743324641364374], [-120.03595506984117, 34.74345547658775], [-120.03733930865612, 34.742861728096315], [-120.04041123986089, 34.74342268352134]]], &quot;type&quot;: &quot;Polygon&quot;}, &quot;id&quot;: &quot;0&quot;, &quot;properties&quot;: {&quot;Acreage&quot;: 5874.21, &quot;Name&quot;: &quot;Sedgwick Reserve&quot;}, &quot;type&quot;: &quot;Feature&quot;}, {&quot;bbox&quot;: [-120.499289029747, 34.4422979925537, -120.357702146634, 34.574184013493], &quot;geometry&quot;: {&quot;coordinates&quot;: [[[-120.473673757175, 34.5698725745769], [-120.474268898347, 34.5700040405158], [-120.474600420056, 34.5701232448023], [-120.474945113745, 34.5701935127921], [-120.475165291462, 34.5701956555251], [-120.475829839562, 34.5703522163797], [-120.476126837274, 34.570484771851], [-120.476367652784, 34.5705644460913], [-120.476767257077, 34.5707922837598], [-120.476956580558, 34.570862527191], [-120.47733898406, 34.5709833977747], [-120.477599964183, 34.5710588660795], [-120.47817850394, 34.5712261617217], [-120.481738523721, 34.5722400097051], [-120.486565296247, 34.5739613611966], [-120.487336678587, 34.5741731203603], [-120.487458438702, 34.574184013493], [-120.487792444198, 34.5688007459224], [-120.488221077539, 34.5644728137622], [-120.488428943236, 34.5614911377697], [-120.489191659322, 34.5505070706799], [-120.489267306881, 34.5494175061616], [-120.48991932846, 34.5400250245606], [-120.49155701063, 34.5153077705207], [-120.490914956929, 34.5153470831478], [-120.490858485216, 34.515352131213], [-120.490409558688, 34.5153020000506], [-120.490331954646, 34.514724729607], [-120.490604744291, 34.5144394345523], [-120.491028935108, 34.5144253018181], [-120.49161675957, 34.514405716414], [-120.491877588824, 34.5117997226576], [-120.492389392466, 34.5116813855763], [-120.492404682661, 34.5114140472664], [-120.492268448668, 34.5107907923188], [-120.493188821525, 34.5110243541547], [-120.493970350972, 34.5109179461089], [-120.495068521249, 34.5108643502897], [-120.495038659034, 34.5115200674382], [-120.495039163031, 34.5120929218963], [-120.495984242865, 34.5125697378642], [-120.498181346587, 34.5130307621533], [-120.498123390052, 34.5123369936108], [-120.498095764042, 34.5120062836795], [-120.497985803758, 34.5106899533691], [-120.498090845087, 34.5106889410481], [-120.498303942318, 34.5105477020061], [-120.498625059495, 34.5103348662614], [-120.498762182787, 34.5102439802922], [-120.498871329196, 34.510171638186], [-120.498894553595, 34.5100221260595], [-120.498923852075, 34.509873347969], [-120.498959195165, 34.5097254716365], [-120.499000538146, 34.5095786657504], [-120.499059573485, 34.509374940859], [-120.499147206376, 34.5090423929844], [-120.499202559112, 34.508820276959], [-120.499239734895, 34.5085488741828], [-120.499250794996, 34.5083486531177], [-120.499254083819, 34.5081482414938], [-120.499249597285, 34.507947844773], [-120.499237340047, 34.5077476710807], [-120.499217325463, 34.5075479267013], [-120.499189573417, 34.507348816988], [-120.499154112519, 34.5071505481559], [-120.499289029747, 34.5071287386186], [-120.499233464986, 34.5069405231472], [-120.499221872857, 34.5069012600297], [-120.499063837923, 34.5064646326826], [-120.498932996477, 34.5061570457899], [-120.498818408853, 34.5058720119715], [-120.498623315983, 34.5054732140658], [-120.498181088135, 34.5047088104681], [-120.498023587755, 34.5044365643444], [-120.497580505627, 34.503737414272], [-120.496127891706, 34.501135679845], [-120.496240754909, 34.5009613084681], [-120.498011374504, 34.5005639046725], [-120.496306010257, 34.4955043966029], [-120.495431360006, 34.4947586359758], [-120.49356932046, 34.4945977079514], [-120.490977259782, 34.4920943138676], [-120.490423013336, 34.4903539674059], [-120.490172553336, 34.4895674891384], [-120.489164684652, 34.4881510121425], [-120.488200969833, 34.4870440781173], [-120.4853270001, 34.4847528928572], [-120.482819733794, 34.4836013402195], [-120.481681765562, 34.4824480217754], [-120.480701626145, 34.481628318715], [-120.478441632665, 34.4797381663922], [-120.47555283623, 34.4736303146603], [-120.474105463343, 34.4681500043105], [-120.473110842247, 34.4582269564998], [-120.473291886157, 34.4579641923204], [-120.473033475491, 34.4576316197362], [-120.472465884553, 34.454125694944], [-120.471356238116, 34.4532217783727], [-120.471167899797, 34.4530029200902], [-120.471109787149, 34.4528695275691], [-120.471051009323, 34.4527137192015], [-120.470927808689, 34.4523696044615], [-120.470671353503, 34.4520348496189], [-120.470471318945, 34.4516461693752], [-120.470385940596, 34.4508530206709], [-120.470123969058, 34.4504283806063], [-120.470758833753, 34.4500416825379], [-120.471181960124, 34.4497839510985], [-120.471229059664, 34.4495184686253], [-120.471391697591, 34.449055697612], [-120.471832931443, 34.4488269769211], [-120.471729365609, 34.4486278295873], [-120.471769946125, 34.4482690466694], [-120.471601486969, 34.4482642285405], [-120.471060999993, 34.4485040526842], [-120.470621018159, 34.4483090603018], [-120.470211336098, 34.4489511927851], [-120.470026476405, 34.4492427757797], [-120.469515037907, 34.4494160416012], [-120.469387911847, 34.4496920110722], [-120.468461511874, 34.4498741956832], [-120.46792536886, 34.4492790586956], [-120.467628986712, 34.4489500597483], [-120.466905240826, 34.4492565098178], [-120.465943966248, 34.4496195672036], [-120.464655193256, 34.4493073949995], [-120.463223894796, 34.4489163034687], [-120.462337772009, 34.448543633795], [-120.462042398192, 34.4482141712519], [-120.461744849481, 34.4478822790921], [-120.460304664703, 34.4478302116895], [-120.459417799422, 34.4474569508048], [-120.458732212012, 34.4468598517634], [-120.458633656842, 34.4466090206738], [-120.458568737608, 34.4465524767442], [-120.458539199729, 34.446368614307], [-120.458348529198, 34.4458833332416], [-120.458437544011, 34.4457358718019], [-120.458793232881, 34.4451463663297], [-120.458580378696, 34.4446115419742], [-120.457432245138, 34.4448826048084], [-120.456587131457, 34.4444478258254], [-120.456509992418, 34.4436265031584], [-120.456251349387, 34.4433206638602], [-120.454226425466, 34.4430624112946], [-120.452653913344, 34.4422979925537], [-120.451946239776, 34.4428771121843], [-120.452723807357, 34.4439614575846], [-120.452662645674, 34.4446677630137], [-120.45299172018, 34.4452437279766], [-120.452378457834, 34.4463626224092], [-120.451337168761, 34.4473187915795], [-120.450815849917, 34.4475094506155], [-120.449452910472, 34.4480707744484], [-120.447853024737, 34.4485992714863], [-120.44651085367, 34.4489421125084], [-120.446197814568, 34.4490987913058], [-120.445933656964, 34.4493747732761], [-120.445690728059, 34.4497555826001], [-120.445664821648, 34.4501094624365], [-120.445527423023, 34.4503753710323], [-120.445067684528, 34.4507906225475], [-120.444091370672, 34.4512313167406], [-120.442577243774, 34.451592613765], [-120.441686382297, 34.4516926907227], [-120.441166637934, 34.4517131747041], [-120.439587673205, 34.4515143770564], [-120.438752019035, 34.4514910820401], [-120.438144977525, 34.4514230890755], [-120.437709009405, 34.4514118015094], [-120.437216386959, 34.4515319659313], [-120.435667778514, 34.4515430183671], [-120.433915709264, 34.4512173076069], [-120.433511977675, 34.4512159591047], [-120.432471559705, 34.4510758598459], [-120.431694041238, 34.4509711547898], [-120.430274981666, 34.4506354702667], [-120.429709877218, 34.4505698414206], [-120.427587364016, 34.4503233179728], [-120.426876996484, 34.4501715463065], [-120.426573549182, 34.4501067116115], [-120.426252977703, 34.4500382182339], [-120.426069043101, 34.4499828397236], [-120.425305471374, 34.4498825737903], [-120.424686149467, 34.4498427536747], [-120.424093665868, 34.449750436401], [-120.42369541987, 34.4497960027391], [-120.422983491614, 34.4497472263523], [-120.422578813789, 34.4498377637825], [-120.422318659693, 34.4498616485717], [-120.42166000293, 34.449948737694], [-120.421170073867, 34.4500761754989], [-120.420347271565, 34.4504210764452], [-120.419873540428, 34.4507205520857], [-120.419606490998, 34.4509742238109], [-120.419461252804, 34.4512224611556], [-120.41938000696, 34.451458347596], [-120.419247384212, 34.4517429451309], [-120.419092122298, 34.4520046495873], [-120.418732145913, 34.4523178169448], [-120.418551892974, 34.4526816394167], [-120.418130582665, 34.4530465606527], [-120.417327488518, 34.453337695674], [-120.417002568518, 34.4533290902482], [-120.416815715888, 34.4534425426647], [-120.416424365124, 34.4535355947168], [-120.416421240814, 34.4535684660067], [-120.416386822882, 34.4539302025903], [-120.415253324658, 34.4658423090285], [-120.415203159248, 34.4663696083867], [-120.414631607579, 34.4723787160223], [-120.414212857113, 34.4767808450416], [-120.413944433307, 34.479602343388], [-120.413572918172, 34.4835074657814], [-120.412758369169, 34.4920677898374], [-120.412631823749, 34.4933975958215], [-120.407916577951, 34.4935100590974], [-120.402751700365, 34.4936316954858], [-120.401901835879, 34.4936516876257], [-120.397238699848, 34.493748887132], [-120.39273691307, 34.4938674321066], [-120.392352081229, 34.4938750793525], [-120.384896714585, 34.4940327862872], [-120.379993579422, 34.4941362584553], [-120.377839650906, 34.4941844453204], [-120.375991353319, 34.4952713912298], [-120.367965449605, 34.4999906114074], [-120.36774377502, 34.5001209379492], [-120.367258680304, 34.5001285638213], [-120.359126424738, 34.5002522419618], [-120.357702146634, 34.5032125420973], [-120.361217526605, 34.5032709808622], [-120.362496951952, 34.5049436060675], [-120.363440873389, 34.5054831944267], [-120.364018740336, 34.5077227097778], [-120.36332904295, 34.5097295561369], [-120.365031422912, 34.512252712451], [-120.364823694436, 34.5132242917346], [-120.365451937221, 34.5139480412655], [-120.365912887008, 34.5150702730013], [-120.366075878921, 34.5151302783262], [-120.367480358202, 34.5152657277682], [-120.372391160666, 34.5151371671737], [-120.374779134133, 34.5169819151248], [-120.375285265406, 34.5190637237547], [-120.375991611003, 34.5200795699009], [-120.376052771394, 34.5201675308613], [-120.375991612848, 34.520312157324], [-120.375825956212, 34.5207038871999], [-120.375371804881, 34.521710699293], [-120.376007023441, 34.5220722562213], [-120.376074413575, 34.5220940649509], [-120.379466799792, 34.5231916669648], [-120.381006658897, 34.5232676428505], [-120.38092307914, 34.5223796673316], [-120.381034098714, 34.5224374368346], [-120.381499443479, 34.5224710672393], [-120.382046494517, 34.5225665382582], [-120.382515496285, 34.5227091531803], [-120.383152184578, 34.5231667974061], [-120.383582357008, 34.5229531980577], [-120.383939000798, 34.5230580496765], [-120.384237198508, 34.5236258124823], [-120.38483672678, 34.523690302715], [-120.385028538973, 34.5237824405921], [-120.385133055655, 34.5243014906451], [-120.385260356192, 34.5246971293101], [-120.385664797403, 34.5247741292164], [-120.385915594467, 34.5250083704182], [-120.386574598676, 34.5256794109736], [-120.387111529327, 34.5257416314091], [-120.38773024861, 34.5260540412035], [-120.388022004063, 34.5262971539976], [-120.388676419447, 34.5264054084611], [-120.389529073335, 34.5265464525374], [-120.390504185866, 34.526640802745], [-120.391009207089, 34.5268431739642], [-120.391005721786, 34.5267264247092], [-120.391437325341, 34.5266492011179], [-120.391967696094, 34.5267829930735], [-120.393598177772, 34.5279179871388], [-120.394278999323, 34.5281045152003], [-120.395653188293, 34.5280785241694], [-120.396858599886, 34.5283576586532], [-120.397527577687, 34.5283971605779], [-120.398163868095, 34.5282842450376], [-120.398358239519, 34.5275018086042], [-120.399457794637, 34.5296274952515], [-120.402517701634, 34.5306632925699], [-120.404956161772, 34.531969355796], [-120.40789835488, 34.5352810789159], [-120.410703648928, 34.5371664852474], [-120.409762714298, 34.5407936959614], [-120.407431728691, 34.5416454409844], [-120.407227166948, 34.5419090188626], [-120.406306210521, 34.543079851039], [-120.406944456954, 34.5441272876299], [-120.407522149604, 34.5456565779677], [-120.406954902755, 34.5465708190505], [-120.408105884287, 34.5471715234752], [-120.412261839527, 34.5465707765058], [-120.413848941698, 34.5465817557597], [-120.416997571025, 34.5466034809769], [-120.420464462939, 34.5466273070577], [-120.423568318481, 34.5453059371054], [-120.425671437831, 34.5457077935336], [-120.429380659739, 34.5470565617633], [-120.430824990401, 34.5478858249855], [-120.432308362638, 34.5487374678597], [-120.430068074025, 34.5557487591411], [-120.430279946032, 34.5590111176329], [-120.432859692109, 34.5591264238944], [-120.434094197464, 34.5597121193747], [-120.43569484508, 34.559997118885], [-120.438418856458, 34.5594295723898], [-120.439090381371, 34.5593398374361], [-120.440824185975, 34.5596621084705], [-120.441772170159, 34.5599314010404], [-120.44634239648, 34.5617714738772], [-120.449838762706, 34.5627923451978], [-120.450674169161, 34.5631521959599], [-120.451140845572, 34.5635020140722], [-120.452148375883, 34.564463817018], [-120.455352153541, 34.5644374351165], [-120.456989566593, 34.5644071417117], [-120.458123596772, 34.5653783565248], [-120.459283206652, 34.565609708385], [-120.459998574452, 34.5669259718166], [-120.460969801901, 34.5675287882282], [-120.461670716271, 34.5676146889461], [-120.46336962219, 34.568922931321], [-120.465191204463, 34.570325572233], [-120.465566315188, 34.5702263782914], [-120.466455319658, 34.5699912928409], [-120.467503319101, 34.5699493585098], [-120.46821518151, 34.5699452256349], [-120.469612717659, 34.5698961713165], [-120.470564669519, 34.5698064646454], [-120.470932506464, 34.569834087755], [-120.471305184293, 34.5698172428706], [-120.47175025689, 34.569738163534], [-120.472009329261, 34.5697256920336], [-120.472274479659, 34.569749151624], [-120.473033797364, 34.5699056034398], [-120.473321205161, 34.5698689443084], [-120.473673757175, 34.5698725745769]]], &quot;type&quot;: &quot;Polygon&quot;}, &quot;id&quot;: &quot;1&quot;, &quot;properties&quot;: {&quot;Acreage&quot;: 24458.6153971, &quot;Name&quot;: &quot;Dangermond Preserve&quot;}, &quot;type&quot;: &quot;Feature&quot;}], &quot;type&quot;: &quot;FeatureCollection&quot;});

        
    
    geo_json_cc8376e28021cfb99737af3c4427e29a.bindTooltip(
    function(layer){
    let div = L.DomUtil.create('div');
    
    let handleObject = feature=>typeof(feature)=='object' ? JSON.stringify(feature) : feature;
    let fields = [&quot;Name&quot;, &quot;Acreage&quot;];
    let aliases = [&quot;Name&quot;, &quot;Acreage&quot;];
    let table = '<table>' +
        String(
        fields.map(
        (v,i)=>
        `<tr>
            <th>${aliases[i]}</th>
            
            <td>${handleObject(layer.feature.properties[v])}</td>
        </tr>`).join(''))
    +'</table>';
    div.innerHTML=table;
    
    return div
    }
    ,{&quot;className&quot;: &quot;foliumtooltip&quot;, &quot;sticky&quot;: true});
                     
    
            geo_json_cc8376e28021cfb99737af3c4427e29a.addTo(map_ad43c167016ca3e79cbd2b9da9746b79);
        
    

        function geo_json_019f388e4b165b98596b6caeffddda82_onEachFeature(feature, layer) {
            layer.on({
            });
        };
        var geo_json_019f388e4b165b98596b6caeffddda82 = L.geoJson(null, {
                onEachFeature: geo_json_019f388e4b165b98596b6caeffddda82_onEachFeature,
            
        });

        function geo_json_019f388e4b165b98596b6caeffddda82_add (data) {
            geo_json_019f388e4b165b98596b6caeffddda82
                .addData(data);
        }
            geo_json_019f388e4b165b98596b6caeffddda82_add({&quot;coordinates&quot;: [[[-120.499289029747, 34.4422979925537], [-120.01175444547289, 34.4422979925537], [-120.01175444547289, 34.743985733609556], [-120.499289029747, 34.743985733609556], [-120.499289029747, 34.4422979925537]]], &quot;type&quot;: &quot;Polygon&quot;});

        
    
            geo_json_019f388e4b165b98596b6caeffddda82.addTo(map_ad43c167016ca3e79cbd2b9da9746b79);
        
    
            map_ad43c167016ca3e79cbd2b9da9746b79.fitBounds(
                [[33.211692810058594, -121.59928894042969], [36.0649299621582, -118.7467269897461]],
                {}
            );
        
    
            var layer_control_fe893840abb5478b3d447d54f21b8dd0_layers = {
                base_layers : {
                    &quot;https://mt1.google.com/vt/lyrs=y\u0026x={x}\u0026y={y}\u0026z={z}&quot; : tile_layer_228334b2834cc3ad43220a11dad84298,
                },
                overlays :  {
                    &quot;ECOSTRESS&quot; : geo_json_f08b61e5e14082a1b73fc3ddf5645bd2,
                    &quot;EMIT&quot; : geo_json_f6eeab443a76b9c7230c8239eaca257b,
                    &quot;ECOv002_L2T_LSTE_26223_011_10SGD_20230219T202851_0710_01&quot; : image_overlay_0564c125b0ea4cb51ef447f32adc198f,
                    &quot;ECOv002_L2T_LSTE_26223_012_10SGD_20230219T202943_0710_01&quot; : image_overlay_437e904af7932894319e4a93d6f72e7a,
                    &quot;ECOv002_L2T_LSTE_26345_013_10SGD_20230227T172029_0710_01&quot; : image_overlay_bc880451b00588fd3fd7e2f0967febce,
                    &quot;ECOv002_L2T_LSTE_26345_013_10SGD_20230227T172029_0711_02&quot; : image_overlay_c8f7f1700f585396f6a3eadc098a0b32,
                    &quot;ECOv002_L2T_LSTE_26345_014_10SGD_20230227T172121_0710_01&quot; : image_overlay_ea7f097887613c3571415dc1c16ed14c,
                    &quot;ECOv002_L2T_LSTE_26345_014_10SGD_20230227T172121_0711_02&quot; : image_overlay_f8ca58d3e22e0af0ec2d8014a5ceeacc,
                    &quot;ECOv002_L2T_LSTE_26860_001_10SGD_20230401T203733_0710_01&quot; : image_overlay_a279de32c2e098f751e663c0d288aa9f,
                    &quot;ECOv002_L2T_LSTE_26921_001_10SGD_20230405T190258_0710_01&quot; : image_overlay_476074502133f5fba568c31cba53641f,
                    &quot;ECOv002_L2T_LSTE_27185_010_10SGD_20230422T195836_0710_01&quot; : image_overlay_38f6ec7ccca281db7fd02e8934db1115,
                    &quot;ECOv002_L2T_LSTE_27745_005_10SGD_20230528T220401_0710_01&quot; : image_overlay_2e12160744e777184218f74d09ee81e3,
                    &quot;ECOv002_L2T_LSTE_27806_005_10SGD_20230601T202619_0710_01&quot; : image_overlay_984cbf87e8dcfeb68d8a0b82dc522b35,
                    &quot;ECOv002_L2T_LSTE_28238_012_10SGD_20230629T170416_0710_01&quot; : image_overlay_b1d3d47aa5e823995c9e2918349fe3cc,
                    &quot;ECOv002_L2T_LSTE_29576_005_10SGD_20230923T232104_0710_01&quot; : image_overlay_aa2a3524ff66457a753e2eacf78925e8,
                    &quot;ECOv002_L2T_LSTE_29901_007_10SGD_20231014T223936_0711_01&quot; : image_overlay_0ccb92cc961d19bbefc61b9924db90dc,
                    &quot;ECOv002_L2T_LSTE_29962_012_10SGD_20231018T210208_0711_01&quot; : image_overlay_fbd78af21813c33d073c48d5891c7a86,
                    &quot;Region of Interest&quot; : geo_json_cc8376e28021cfb99737af3c4427e29a,
                    &quot;bounding_box&quot; : geo_json_019f388e4b165b98596b6caeffddda82,
                },
            };
            let layer_control_fe893840abb5478b3d447d54f21b8dd0 = L.control.layers(
                layer_control_fe893840abb5478b3d447d54f21b8dd0_layers.base_layers,
                layer_control_fe893840abb5478b3d447d54f21b8dd0_layers.overlays,
                {&quot;autoZIndex&quot;: true, &quot;collapsed&quot;: true, &quot;position&quot;: &quot;topright&quot;}
            ).addTo(map_ad43c167016ca3e79cbd2b9da9746b79);

        
</script>
</html>" width="750px" height="375px" style="border:none !important;" "allowfullscreen"="" "webkitallowfullscreen"="" "mozallowfullscreen"=""></iframe>
</div>
</div>
<p>In the figure above, you can zoom in and out, and add or remove layers using the layer control in the top right. Notice that since we’re using the tiled ECOSTRESS product, we have 2 overlapping tiles at our ROI. You can visualize the tiles by adding or removing the layers.</p>
<p>From this figure, we can see there are two ECOSTRESS tiles: 10SGD and 10SKU, which both intersect with our area. Since both fall within tile 10SGD, we can keep results using 10SGD as a filter.</p>
<p><strong>There is a lot going on in the above visualization. After doing some additional filtering below, we can re-run the above cell to visualize our filtered scenes.</strong></p>
<div class="sourceCode cell-code" id="cb40"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb40-1"><a href="#cb40-1" aria-hidden="true" tabindex="-1"></a>eco_gdf <span class="op">=</span> eco_gdf[eco_gdf[<span class="st">'granule'</span>].<span class="bu">str</span>.contains(<span class="st">"10SGD"</span>)]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell" data-metadata="{}" data-tags="[]" data-execution_count="31">
<div class="sourceCode cell-code" id="cb41"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb41-1"><a href="#cb41-1" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="ss">f' ECOSTRESS Granules: </span><span class="sc">{</span>eco_gdf<span class="sc">.</span>shape[<span class="dv">0</span>]<span class="sc">}</span><span class="ss"> </span><span class="ch">\n</span><span class="ss"> EMIT Granules: </span><span class="sc">{</span>emit_gdf<span class="sc">.</span>shape[<span class="dv">0</span>]<span class="sc">}</span><span class="ss">'</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> ECOSTRESS Granules: 17 
 EMIT Granules: 22</code></pre>
</div>
</div>
<section id="previewing-emit-browse-imagery" class="level3">
<h3 class="anchored" data-anchor-id="previewing-emit-browse-imagery">4.2 Previewing EMIT Browse Imagery</h3>
<p>The EMIT browse imagery is not orthorectified, so it can’t be visualized on a plot like the ECOSTRESS browse imagery. To get an idea what scenes look like we can plot them in a grid using matplotlib.</p>
<blockquote class="blockquote">
<p>Note: The black space is indicative of onboard cloud masking that occurs before data is downlinked from the ISS.</p>
</blockquote>
<div class="cell" data-metadata="{}" data-tags="[]" data-execution_count="32">
<div class="sourceCode cell-code" id="cb43"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb43-1"><a href="#cb43-1" aria-hidden="true" tabindex="-1"></a>cols <span class="op">=</span> <span class="dv">3</span></span>
<span id="cb43-2"><a href="#cb43-2" aria-hidden="true" tabindex="-1"></a>rows <span class="op">=</span> math.ceil(<span class="bu">len</span>(emit_gdf)<span class="op">/</span>cols)</span>
<span id="cb43-3"><a href="#cb43-3" aria-hidden="true" tabindex="-1"></a>fig, ax <span class="op">=</span> plt.subplots(rows, cols, figsize<span class="op">=</span>(<span class="dv">20</span>,<span class="dv">20</span>))</span>
<span id="cb43-4"><a href="#cb43-4" aria-hidden="true" tabindex="-1"></a>ax <span class="op">=</span> ax.flatten()</span>
<span id="cb43-5"><a href="#cb43-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb43-6"><a href="#cb43-6" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> _n, index <span class="kw">in</span> <span class="bu">enumerate</span>(emit_gdf.index.to_list()):</span>
<span id="cb43-7"><a href="#cb43-7" aria-hidden="true" tabindex="-1"></a>    img <span class="op">=</span> io.imread(emit_gdf[<span class="st">'browse'</span>][index])</span>
<span id="cb43-8"><a href="#cb43-8" aria-hidden="true" tabindex="-1"></a>    ax[_n].imshow(img)</span>
<span id="cb43-9"><a href="#cb43-9" aria-hidden="true" tabindex="-1"></a>    ax[_n].set_title(<span class="ss">f"Index: </span><span class="sc">{</span>index<span class="sc">}</span><span class="ss"> - </span><span class="sc">{</span>emit_gdf[<span class="st">'granule'</span>][index]<span class="sc">}</span><span class="ss">"</span>)</span>
<span id="cb43-10"><a href="#cb43-10" aria-hidden="true" tabindex="-1"></a>    ax[_n].axis(<span class="st">'off'</span>)</span>
<span id="cb43-11"><a href="#cb43-11" aria-hidden="true" tabindex="-1"></a>plt.tight_layout()</span>
<span id="cb43-12"><a href="#cb43-12" aria-hidden="true" tabindex="-1"></a>plt.show()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<p><img src="01_Finding_Concurrent_Data_files/figure-html/cell-33-output-1.png" class="img-fluid"></p>
</div>
</div>
</section>
<section id="further-filtering" class="level3">
<h3 class="anchored" data-anchor-id="further-filtering">4.3 Further Filtering</h3>
<p>We can see that some of these granules likely won’t work because of the large amount of cloud cover, we can use a list of these to filter them out. Make a list of indexes to filter out. <strong>Note that these indices can change since they are dependent on the order scenes are returned from CMR. Please doublecheck them before running this cell.</strong></p>
<div class="sourceCode cell-code" id="cb44"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb44-1"><a href="#cb44-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Bad granule list</span></span>
<span id="cb44-2"><a href="#cb44-2" aria-hidden="true" tabindex="-1"></a>bad_granules <span class="op">=</span> [<span class="dv">31</span>,<span class="dv">82</span>,<span class="dv">115</span>,<span class="dv">116</span>,<span class="dv">176</span>,<span class="dv">182</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Filter out the bad granules.</p>
<div class="sourceCode cell-code" id="cb45"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb45-1"><a href="#cb45-1" aria-hidden="true" tabindex="-1"></a>emit_gdf <span class="op">=</span> emit_gdf[<span class="op">~</span>emit_gdf.index.isin(bad_granules)]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Now that we’ve narrowed our EMIT results we can again filter the ECOSTRESS granules based on their concurrency with our filtered EMIT granules.</p>
<div class="cell" data-metadata="{}" data-tags="[]" data-execution_count="35">
<div class="sourceCode cell-code" id="cb46"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb46-1"><a href="#cb46-1" aria-hidden="true" tabindex="-1"></a>eco_gdf, emit_gdf <span class="op">=</span> concurrent_match(eco_gdf,emit_gdf, col_name<span class="op">=</span><span class="st">'datetime_obj'</span>,time_delta<span class="op">=</span>timedelta(hours<span class="op">=</span><span class="dv">1</span>))</span>
<span id="cb46-2"><a href="#cb46-2" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="ss">f' ECOSTRESS Granules: </span><span class="sc">{</span>eco_gdf<span class="sc">.</span>shape[<span class="dv">0</span>]<span class="sc">}</span><span class="ss"> </span><span class="ch">\n</span><span class="ss"> EMIT Granules: </span><span class="sc">{</span>emit_gdf<span class="sc">.</span>shape[<span class="dv">0</span>]<span class="sc">}</span><span class="ss">'</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> ECOSTRESS Granules: 15 
 EMIT Granules: 16</code></pre>
</div>
</div>
<div class="cell" data-metadata="{}" data-execution_count="36">
<div class="sourceCode cell-code" id="cb48"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb48-1"><a href="#cb48-1" aria-hidden="true" tabindex="-1"></a>eco_gdf</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="36">

<div>

<table class="dataframe table table-sm table-striped">
  <thead>
    <tr>
      <th></th>
      <th>concept_id</th>
      <th>granule</th>
      <th>start_datetime</th>
      <th>end_datetime</th>
      <th>day_night</th>
      <th>cloud_cover</th>
      <th>geometry</th>
      <th>browse</th>
      <th>shortname</th>
      <th>datetime_obj</th>
      <th>intersects</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>52</th>
      <td>G2627756987-LPCLOUD</td>
      <td>ECOv002_L2T_LSTE_26223_011_10SGD_20230219T2028...</td>
      <td>2023-02-19T20:28:51.310Z</td>
      <td>2023-02-19T20:29:43.280Z</td>
      <td>Day</td>
      <td>NaN</td>
      <td>POLYGON ((-119.59844 34.20719, -119.59844 35.2...</td>
      <td>https://data.lpdaac.earthdatacloud.nasa.gov/lp...</td>
      <td>ECO_L2T_LSTE</td>
      <td>2023-02-19 20:28:51.310000+00:00</td>
      <td>True</td>
    </tr>
    <tr>
      <th>54</th>
      <td>G2627758024-LPCLOUD</td>
      <td>ECOv002_L2T_LSTE_26223_012_10SGD_20230219T2029...</td>
      <td>2023-02-19T20:29:43.280Z</td>
      <td>2023-02-19T20:30:35.250Z</td>
      <td>Day</td>
      <td>NaN</td>
      <td>POLYGON ((-119.59844 34.20719, -119.59844 35.2...</td>
      <td>https://data.lpdaac.earthdatacloud.nasa.gov/lp...</td>
      <td>ECO_L2T_LSTE</td>
      <td>2023-02-19 20:29:43.280000+00:00</td>
      <td>True</td>
    </tr>
    <tr>
      <th>75</th>
      <td>G2630582431-LPCLOUD</td>
      <td>ECOv002_L2T_LSTE_26345_013_10SGD_20230227T1720...</td>
      <td>2023-02-27T17:20:29.100Z</td>
      <td>2023-02-27T17:21:21.070Z</td>
      <td>Day</td>
      <td>NaN</td>
      <td>POLYGON ((-119.59844 34.20719, -119.59844 35.2...</td>
      <td>https://data.lpdaac.earthdatacloud.nasa.gov/lp...</td>
      <td>ECO_L2T_LSTE</td>
      <td>2023-02-27 17:20:29.100000+00:00</td>
      <td>True</td>
    </tr>
    <tr>
      <th>76</th>
      <td>G3015778622-LPCLOUD</td>
      <td>ECOv002_L2T_LSTE_26345_013_10SGD_20230227T1720...</td>
      <td>2023-02-27T17:20:29.104Z</td>
      <td>2023-02-27T17:21:21.074Z</td>
      <td>Day</td>
      <td>NaN</td>
      <td>POLYGON ((-119.59844 34.20719, -119.59844 35.2...</td>
      <td>https://data.lpdaac.earthdatacloud.nasa.gov/lp...</td>
      <td>ECO_L2T_LSTE</td>
      <td>2023-02-27 17:20:29.104000+00:00</td>
      <td>True</td>
    </tr>
    <tr>
      <th>79</th>
      <td>G2630583457-LPCLOUD</td>
      <td>ECOv002_L2T_LSTE_26345_014_10SGD_20230227T1721...</td>
      <td>2023-02-27T17:21:21.070Z</td>
      <td>2023-02-27T17:22:13.040Z</td>
      <td>Day</td>
      <td>NaN</td>
      <td>POLYGON ((-119.59844 34.20719, -119.59844 35.2...</td>
      <td>https://data.lpdaac.earthdatacloud.nasa.gov/lp...</td>
      <td>ECO_L2T_LSTE</td>
      <td>2023-02-27 17:21:21.070000+00:00</td>
      <td>True</td>
    </tr>
    <tr>
      <th>81</th>
      <td>G3015772990-LPCLOUD</td>
      <td>ECOv002_L2T_LSTE_26345_014_10SGD_20230227T1721...</td>
      <td>2023-02-27T17:21:21.074Z</td>
      <td>2023-02-27T17:22:13.044Z</td>
      <td>Day</td>
      <td>NaN</td>
      <td>POLYGON ((-119.59844 34.20719, -119.59844 35.2...</td>
      <td>https://data.lpdaac.earthdatacloud.nasa.gov/lp...</td>
      <td>ECO_L2T_LSTE</td>
      <td>2023-02-27 17:21:21.074000+00:00</td>
      <td>True</td>
    </tr>
    <tr>
      <th>119</th>
      <td>G2650963815-LPCLOUD</td>
      <td>ECOv002_L2T_LSTE_26860_001_10SGD_20230401T2037...</td>
      <td>2023-04-01T20:37:33.030Z</td>
      <td>2023-04-01T20:38:25.000Z</td>
      <td>Day</td>
      <td>NaN</td>
      <td>POLYGON ((-119.59844 34.20719, -119.59844 35.2...</td>
      <td>https://data.lpdaac.earthdatacloud.nasa.gov/lp...</td>
      <td>ECO_L2T_LSTE</td>
      <td>2023-04-01 20:37:33.030000+00:00</td>
      <td>True</td>
    </tr>
    <tr>
      <th>124</th>
      <td>G2655983115-LPCLOUD</td>
      <td>ECOv002_L2T_LSTE_26921_001_10SGD_20230405T1902...</td>
      <td>2023-04-05T19:02:58.950Z</td>
      <td>2023-04-05T19:03:50.920Z</td>
      <td>Day</td>
      <td>NaN</td>
      <td>POLYGON ((-119.59844 34.20719, -119.59844 35.2...</td>
      <td>https://data.lpdaac.earthdatacloud.nasa.gov/lp...</td>
      <td>ECO_L2T_LSTE</td>
      <td>2023-04-05 19:02:58.950000+00:00</td>
      <td>True</td>
    </tr>
    <tr>
      <th>153</th>
      <td>G2710071138-LPCLOUD</td>
      <td>ECOv002_L2T_LSTE_27185_010_10SGD_20230422T1958...</td>
      <td>2023-04-22T19:58:36.740Z</td>
      <td>2023-04-22T19:59:28.710Z</td>
      <td>Day</td>
      <td>NaN</td>
      <td>POLYGON ((-119.59844 34.20719, -119.59844 35.2...</td>
      <td>https://data.lpdaac.earthdatacloud.nasa.gov/lp...</td>
      <td>ECO_L2T_LSTE</td>
      <td>2023-04-22 19:58:36.740000+00:00</td>
      <td>True</td>
    </tr>
    <tr>
      <th>174</th>
      <td>G2715826603-LPCLOUD</td>
      <td>ECOv002_L2T_LSTE_27745_005_10SGD_20230528T2204...</td>
      <td>2023-05-28T22:04:01.690Z</td>
      <td>2023-05-28T22:04:53.660Z</td>
      <td>Day</td>
      <td>NaN</td>
      <td>POLYGON ((-119.59844 34.20719, -119.59844 35.2...</td>
      <td>https://data.lpdaac.earthdatacloud.nasa.gov/lp...</td>
      <td>ECO_L2T_LSTE</td>
      <td>2023-05-28 22:04:01.690000+00:00</td>
      <td>True</td>
    </tr>
    <tr>
      <th>180</th>
      <td>G2715906073-LPCLOUD</td>
      <td>ECOv002_L2T_LSTE_27806_005_10SGD_20230601T2026...</td>
      <td>2023-06-01T20:26:19.770Z</td>
      <td>2023-06-01T20:27:11.740Z</td>
      <td>Day</td>
      <td>NaN</td>
      <td>POLYGON ((-119.59844 34.20719, -119.59844 35.2...</td>
      <td>https://data.lpdaac.earthdatacloud.nasa.gov/lp...</td>
      <td>ECO_L2T_LSTE</td>
      <td>2023-06-01 20:26:19.770000+00:00</td>
      <td>True</td>
    </tr>
    <tr>
      <th>205</th>
      <td>G2729123248-LPCLOUD</td>
      <td>ECOv002_L2T_LSTE_28238_012_10SGD_20230629T1704...</td>
      <td>2023-06-29T17:04:16.344Z</td>
      <td>2023-06-29T17:05:08.313Z</td>
      <td>Day</td>
      <td>NaN</td>
      <td>POLYGON ((-119.59844 34.20719, -119.59844 35.2...</td>
      <td>https://data.lpdaac.earthdatacloud.nasa.gov/lp...</td>
      <td>ECO_L2T_LSTE</td>
      <td>2023-06-29 17:04:16.344000+00:00</td>
      <td>True</td>
    </tr>
    <tr>
      <th>293</th>
      <td>G2772539755-LPCLOUD</td>
      <td>ECOv002_L2T_LSTE_29576_005_10SGD_20230923T2321...</td>
      <td>2023-09-23T23:21:04.439Z</td>
      <td>2023-09-23T23:21:56.408Z</td>
      <td>Day</td>
      <td>NaN</td>
      <td>POLYGON ((-119.59844 34.20719, -119.59844 35.2...</td>
      <td>https://data.lpdaac.earthdatacloud.nasa.gov/lp...</td>
      <td>ECO_L2T_LSTE</td>
      <td>2023-09-23 23:21:04.439000+00:00</td>
      <td>True</td>
    </tr>
    <tr>
      <th>307</th>
      <td>G2792244801-LPCLOUD</td>
      <td>ECOv002_L2T_LSTE_29901_007_10SGD_20231014T2239...</td>
      <td>2023-10-14T22:39:36.895Z</td>
      <td>2023-10-14T22:40:28.865Z</td>
      <td>Day</td>
      <td>NaN</td>
      <td>POLYGON ((-119.59844 34.20719, -119.59844 35.2...</td>
      <td>https://data.lpdaac.earthdatacloud.nasa.gov/lp...</td>
      <td>ECO_L2T_LSTE</td>
      <td>2023-10-14 22:39:36.895000+00:00</td>
      <td>True</td>
    </tr>
    <tr>
      <th>316</th>
      <td>G2790664680-LPCLOUD</td>
      <td>ECOv002_L2T_LSTE_29962_012_10SGD_20231018T2102...</td>
      <td>2023-10-18T21:02:08.141Z</td>
      <td>2023-10-18T21:03:00.111Z</td>
      <td>Day</td>
      <td>NaN</td>
      <td>POLYGON ((-119.59844 34.20719, -119.59844 35.2...</td>
      <td>https://data.lpdaac.earthdatacloud.nasa.gov/lp...</td>
      <td>ECO_L2T_LSTE</td>
      <td>2023-10-18 21:02:08.141000+00:00</td>
      <td>True</td>
    </tr>
  </tbody>
</table>
</div>
</div>
</div>
<div class="cell" data-metadata="{}" data-execution_count="37">
<div class="sourceCode cell-code" id="cb49"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb49-1"><a href="#cb49-1" aria-hidden="true" tabindex="-1"></a>emit_gdf</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="37">

<div>

<table class="dataframe table table-sm table-striped">
  <thead>
    <tr>
      <th></th>
      <th>concept_id</th>
      <th>granule</th>
      <th>start_datetime</th>
      <th>end_datetime</th>
      <th>day_night</th>
      <th>cloud_cover</th>
      <th>geometry</th>
      <th>browse</th>
      <th>shortname</th>
      <th>datetime_obj</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>53</th>
      <td>G2631040813-LPCLOUD</td>
      <td>EMIT_L2A_RFL_001_20230219T202939_2305013_002</td>
      <td>2023-02-19T20:29:39Z</td>
      <td>2023-02-19T20:29:51Z</td>
      <td>Day</td>
      <td>47.0</td>
      <td>POLYGON ((-120.70791 35.54348, -121.19894 34.9...</td>
      <td>https://data.lpdaac.earthdatacloud.nasa.gov/lp...</td>
      <td>EMITL2ARFL</td>
      <td>2023-02-19 20:29:39+00:00</td>
    </tr>
    <tr>
      <th>56</th>
      <td>G2631045418-LPCLOUD</td>
      <td>EMIT_L2A_RFL_001_20230219T202951_2305013_003</td>
      <td>2023-02-19T20:29:51Z</td>
      <td>2023-02-19T20:30:14Z</td>
      <td>Day</td>
      <td>67.0</td>
      <td>POLYGON ((-120.04838 35.03646, -120.54523 34.4...</td>
      <td>https://data.lpdaac.earthdatacloud.nasa.gov/lp...</td>
      <td>EMITL2ARFL</td>
      <td>2023-02-19 20:29:51+00:00</td>
    </tr>
    <tr>
      <th>77</th>
      <td>G2631818088-LPCLOUD</td>
      <td>EMIT_L2A_RFL_001_20230227T172116_2305811_004</td>
      <td>2023-02-27T17:21:16Z</td>
      <td>2023-02-27T17:21:28Z</td>
      <td>Day</td>
      <td>99.0</td>
      <td>POLYGON ((-120.73262 35.83169, -121.21741 35.1...</td>
      <td>https://data.lpdaac.earthdatacloud.nasa.gov/lp...</td>
      <td>EMITL2ARFL</td>
      <td>2023-02-27 17:21:16+00:00</td>
    </tr>
    <tr>
      <th>121</th>
      <td>G2648965598-LPCLOUD</td>
      <td>EMIT_L2A_RFL_001_20230401T203751_2309114_002</td>
      <td>2023-04-01T20:37:51Z</td>
      <td>2023-04-01T20:38:03Z</td>
      <td>Day</td>
      <td>80.0</td>
      <td>POLYGON ((-120.21542 34.90659, -120.99248 34.2...</td>
      <td>https://data.lpdaac.earthdatacloud.nasa.gov/lp...</td>
      <td>EMITL2ARFL</td>
      <td>2023-04-01 20:37:51+00:00</td>
    </tr>
    <tr>
      <th>122</th>
      <td>G2648966116-LPCLOUD</td>
      <td>EMIT_L2A_RFL_001_20230401T203803_2309114_003</td>
      <td>2023-04-01T20:38:03Z</td>
      <td>2023-04-01T20:38:15Z</td>
      <td>Day</td>
      <td>18.0</td>
      <td>POLYGON ((-119.55793 35.41507, -120.34872 34.7...</td>
      <td>https://data.lpdaac.earthdatacloud.nasa.gov/lp...</td>
      <td>EMITL2ARFL</td>
      <td>2023-04-01 20:38:03+00:00</td>
    </tr>
    <tr>
      <th>125</th>
      <td>G2667368816-LPCLOUD</td>
      <td>EMIT_L2A_RFL_001_20230405T190311_2309513_002</td>
      <td>2023-04-05T19:03:11Z</td>
      <td>2023-04-05T19:03:23Z</td>
      <td>Day</td>
      <td>71.0</td>
      <td>POLYGON ((-119.87804 34.90691, -120.65480 34.2...</td>
      <td>https://data.lpdaac.earthdatacloud.nasa.gov/lp...</td>
      <td>EMITL2ARFL</td>
      <td>2023-04-05 19:03:11+00:00</td>
    </tr>
    <tr>
      <th>154</th>
      <td>G2667503312-LPCLOUD</td>
      <td>EMIT_L2A_RFL_001_20230422T195924_2311213_002</td>
      <td>2023-04-22T19:59:24Z</td>
      <td>2023-04-22T19:59:36Z</td>
      <td>Day</td>
      <td>40.0</td>
      <td>POLYGON ((-120.49827 35.12071, -120.99520 34.4...</td>
      <td>https://data.lpdaac.earthdatacloud.nasa.gov/lp...</td>
      <td>EMITL2ARFL</td>
      <td>2023-04-22 19:59:24+00:00</td>
    </tr>
    <tr>
      <th>177</th>
      <td>G2699997381-LPCLOUD</td>
      <td>EMIT_L2A_RFL_001_20230528T220420_2314815_004</td>
      <td>2023-05-28T22:04:20Z</td>
      <td>2023-05-28T22:04:32Z</td>
      <td>Day</td>
      <td>52.0</td>
      <td>POLYGON ((-119.96105 35.44150, -120.75292 34.8...</td>
      <td>https://data.lpdaac.earthdatacloud.nasa.gov/lp...</td>
      <td>EMITL2ARFL</td>
      <td>2023-05-28 22:04:20+00:00</td>
    </tr>
    <tr>
      <th>179</th>
      <td>G2720810376-LPCLOUD</td>
      <td>EMIT_L2A_RFL_001_20230601T202611_2315214_002</td>
      <td>2023-06-01T20:26:11Z</td>
      <td>2023-06-01T20:26:23Z</td>
      <td>Day</td>
      <td>15.0</td>
      <td>POLYGON ((-120.29042 34.51665, -120.82317 33.9...</td>
      <td>https://data.lpdaac.earthdatacloud.nasa.gov/lp...</td>
      <td>EMITL2ARFL</td>
      <td>2023-06-01 20:26:11+00:00</td>
    </tr>
    <tr>
      <th>207</th>
      <td>G2735424106-LPCLOUD</td>
      <td>EMIT_L2A_RFL_001_20230629T170449_2318011_002</td>
      <td>2023-06-29T17:04:49Z</td>
      <td>2023-06-29T17:05:01Z</td>
      <td>Day</td>
      <td>48.0</td>
      <td>POLYGON ((-120.35333 35.27559, -120.83881 34.6...</td>
      <td>https://data.lpdaac.earthdatacloud.nasa.gov/lp...</td>
      <td>EMITL2ARFL</td>
      <td>2023-06-29 17:04:49+00:00</td>
    </tr>
    <tr>
      <th>292</th>
      <td>G2772438951-LPCLOUD</td>
      <td>EMIT_L2A_RFL_001_20230923T232101_2326615_002</td>
      <td>2023-09-23T23:21:01Z</td>
      <td>2023-09-23T23:21:13Z</td>
      <td>Day</td>
      <td>73.0</td>
      <td>POLYGON ((-120.52930 35.29765, -121.32658 34.6...</td>
      <td>https://data.lpdaac.earthdatacloud.nasa.gov/lp...</td>
      <td>EMITL2ARFL</td>
      <td>2023-09-23 23:21:01+00:00</td>
    </tr>
    <tr>
      <th>295</th>
      <td>G2772444304-LPCLOUD</td>
      <td>EMIT_L2A_RFL_001_20230923T232113_2326615_003</td>
      <td>2023-09-23T23:21:13Z</td>
      <td>2023-09-23T23:21:31Z</td>
      <td>Day</td>
      <td>10.0</td>
      <td>POLYGON ((-119.51744 36.06493, -120.67430 35.1...</td>
      <td>https://data.lpdaac.earthdatacloud.nasa.gov/lp...</td>
      <td>EMITL2ARFL</td>
      <td>2023-09-23 23:21:13+00:00</td>
    </tr>
    <tr>
      <th>309</th>
      <td>G2786272677-LPCLOUD</td>
      <td>EMIT_L2A_RFL_001_20231014T224006_2328715_002</td>
      <td>2023-10-14T22:40:06Z</td>
      <td>2023-10-14T22:40:18Z</td>
      <td>Day</td>
      <td>66.0</td>
      <td>POLYGON ((-120.79352 35.15521, -121.28294 34.5...</td>
      <td>https://data.lpdaac.earthdatacloud.nasa.gov/lp...</td>
      <td>EMITL2ARFL</td>
      <td>2023-10-14 22:40:06+00:00</td>
    </tr>
    <tr>
      <th>310</th>
      <td>G2786302498-LPCLOUD</td>
      <td>EMIT_L2A_RFL_001_20231014T224018_2328715_003</td>
      <td>2023-10-14T22:40:18Z</td>
      <td>2023-10-14T22:40:36Z</td>
      <td>Day</td>
      <td>93.0</td>
      <td>POLYGON ((-120.14165 34.64471, -120.63443 34.0...</td>
      <td>https://data.lpdaac.earthdatacloud.nasa.gov/lp...</td>
      <td>EMITL2ARFL</td>
      <td>2023-10-14 22:40:18+00:00</td>
    </tr>
    <tr>
      <th>315</th>
      <td>G2786557891-LPCLOUD</td>
      <td>EMIT_L2A_RFL_001_20231018T210205_2329114_005</td>
      <td>2023-10-18T21:02:05Z</td>
      <td>2023-10-18T21:02:17Z</td>
      <td>Day</td>
      <td>11.0</td>
      <td>POLYGON ((-120.72254 35.89691, -121.20394 35.2...</td>
      <td>https://data.lpdaac.earthdatacloud.nasa.gov/lp...</td>
      <td>EMITL2ARFL</td>
      <td>2023-10-18 21:02:05+00:00</td>
    </tr>
    <tr>
      <th>318</th>
      <td>G2786556493-LPCLOUD</td>
      <td>EMIT_L2A_RFL_001_20231018T210217_2329114_006</td>
      <td>2023-10-18T21:02:17Z</td>
      <td>2023-10-18T21:02:29Z</td>
      <td>Day</td>
      <td>9.0</td>
      <td>POLYGON ((-120.05733 35.39170, -120.54254 34.7...</td>
      <td>https://data.lpdaac.earthdatacloud.nasa.gov/lp...</td>
      <td>EMITL2ARFL</td>
      <td>2023-10-18 21:02:17+00:00</td>
    </tr>
  </tbody>
</table>
</div>
</div>
</div>
<p><strong>We can now go back to our <code>folium</code> plot above and re-run the cell to update it based on our filtering.</strong></p>
</section>
</section>
<section id="generating-a-list-of-urls" class="level2">
<h2 class="anchored" data-anchor-id="generating-a-list-of-urls">5. Generating a list of URLs</h2>
<p>With our filtered geodataframe we can go back to our <code>earthaccess</code> search results and filter them.</p>
<p>Create a list of the geodataframe indices to use in filtering our search results.</p>
<div class="sourceCode cell-code" id="cb50"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb50-1"><a href="#cb50-1" aria-hidden="true" tabindex="-1"></a>keep_granules <span class="op">=</span> eco_gdf.index.to_list()<span class="op">+</span>emit_gdf.index.to_list()</span>
<span id="cb50-2"><a href="#cb50-2" aria-hidden="true" tabindex="-1"></a>keep_granules.sort()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Filter the results list.</p>
<div class="sourceCode cell-code" id="cb51"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb51-1"><a href="#cb51-1" aria-hidden="true" tabindex="-1"></a>filtered_results <span class="op">=</span> [result <span class="cf">for</span> i, result <span class="kw">in</span> <span class="bu">enumerate</span>(results) <span class="cf">if</span> i <span class="kw">in</span> keep_granules]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>After filtering our granules, also want to filter which assets we want from each granule. An asset is an individual file associated with a granule.</p>
<p>Granules often have several assets associated with them, for example, <code>ECO_L2T_LSTE</code> has several assets: - Water Mask (water) - Cloud Mask (cloud) - Quality (QC) - Land Surface Temperature (LST) - Land Surface Temperature Error (LST_err) - Wide Band Emissivity (EmisWB) - Height (height)</p>
<p>Create a list of results urls from our <code>filtered_results</code> list and print the first 5 results.</p>
<div class="sourceCode cell-code" id="cb52"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb52-1"><a href="#cb52-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Retrieve URLS for Assets</span></span>
<span id="cb52-2"><a href="#cb52-2" aria-hidden="true" tabindex="-1"></a>results_urls <span class="op">=</span> [granule.data_links() <span class="cf">for</span> granule <span class="kw">in</span> filtered_results]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell" data-metadata="{}" data-tags="[]" data-execution_count="42">
<div class="sourceCode cell-code" id="cb53"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb53-1"><a href="#cb53-1" aria-hidden="true" tabindex="-1"></a>results_urls[:<span class="dv">5</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="42">
<pre><code>[['https://data.lpdaac.earthdatacloud.nasa.gov/lp-prod-protected/ECO_L2T_LSTE.002/ECOv002_L2T_LSTE_26223_011_10SGD_20230219T202851_0710_01/ECOv002_L2T_LSTE_26223_011_10SGD_20230219T202851_0710_01_water.tif',
  'https://data.lpdaac.earthdatacloud.nasa.gov/lp-prod-protected/ECO_L2T_LSTE.002/ECOv002_L2T_LSTE_26223_011_10SGD_20230219T202851_0710_01/ECOv002_L2T_LSTE_26223_011_10SGD_20230219T202851_0710_01_cloud.tif',
  'https://data.lpdaac.earthdatacloud.nasa.gov/lp-prod-protected/ECO_L2T_LSTE.002/ECOv002_L2T_LSTE_26223_011_10SGD_20230219T202851_0710_01/ECOv002_L2T_LSTE_26223_011_10SGD_20230219T202851_0710_01_view_zenith.tif',
  'https://data.lpdaac.earthdatacloud.nasa.gov/lp-prod-protected/ECO_L2T_LSTE.002/ECOv002_L2T_LSTE_26223_011_10SGD_20230219T202851_0710_01/ECOv002_L2T_LSTE_26223_011_10SGD_20230219T202851_0710_01_height.tif',
  'https://data.lpdaac.earthdatacloud.nasa.gov/lp-prod-protected/ECO_L2T_LSTE.002/ECOv002_L2T_LSTE_26223_011_10SGD_20230219T202851_0710_01/ECOv002_L2T_LSTE_26223_011_10SGD_20230219T202851_0710_01_QC.tif',
  'https://data.lpdaac.earthdatacloud.nasa.gov/lp-prod-protected/ECO_L2T_LSTE.002/ECOv002_L2T_LSTE_26223_011_10SGD_20230219T202851_0710_01/ECOv002_L2T_LSTE_26223_011_10SGD_20230219T202851_0710_01_LST.tif',
  'https://data.lpdaac.earthdatacloud.nasa.gov/lp-prod-protected/ECO_L2T_LSTE.002/ECOv002_L2T_LSTE_26223_011_10SGD_20230219T202851_0710_01/ECOv002_L2T_LSTE_26223_011_10SGD_20230219T202851_0710_01_LST_err.tif',
  'https://data.lpdaac.earthdatacloud.nasa.gov/lp-prod-protected/ECO_L2T_LSTE.002/ECOv002_L2T_LSTE_26223_011_10SGD_20230219T202851_0710_01/ECOv002_L2T_LSTE_26223_011_10SGD_20230219T202851_0710_01_EmisWB.tif'],
 ['https://data.lpdaac.earthdatacloud.nasa.gov/lp-prod-protected/EMITL2ARFL.001/EMIT_L2A_RFL_001_20230219T202939_2305013_002/EMIT_L2A_RFL_001_20230219T202939_2305013_002.nc',
  'https://data.lpdaac.earthdatacloud.nasa.gov/lp-prod-protected/EMITL2ARFL.001/EMIT_L2A_RFL_001_20230219T202939_2305013_002/EMIT_L2A_RFLUNCERT_001_20230219T202939_2305013_002.nc',
  'https://data.lpdaac.earthdatacloud.nasa.gov/lp-prod-protected/EMITL2ARFL.001/EMIT_L2A_RFL_001_20230219T202939_2305013_002/EMIT_L2A_MASK_001_20230219T202939_2305013_002.nc'],
 ['https://data.lpdaac.earthdatacloud.nasa.gov/lp-prod-protected/ECO_L2T_LSTE.002/ECOv002_L2T_LSTE_26223_012_10SGD_20230219T202943_0710_01/ECOv002_L2T_LSTE_26223_012_10SGD_20230219T202943_0710_01_water.tif',
  'https://data.lpdaac.earthdatacloud.nasa.gov/lp-prod-protected/ECO_L2T_LSTE.002/ECOv002_L2T_LSTE_26223_012_10SGD_20230219T202943_0710_01/ECOv002_L2T_LSTE_26223_012_10SGD_20230219T202943_0710_01_cloud.tif',
  'https://data.lpdaac.earthdatacloud.nasa.gov/lp-prod-protected/ECO_L2T_LSTE.002/ECOv002_L2T_LSTE_26223_012_10SGD_20230219T202943_0710_01/ECOv002_L2T_LSTE_26223_012_10SGD_20230219T202943_0710_01_view_zenith.tif',
  'https://data.lpdaac.earthdatacloud.nasa.gov/lp-prod-protected/ECO_L2T_LSTE.002/ECOv002_L2T_LSTE_26223_012_10SGD_20230219T202943_0710_01/ECOv002_L2T_LSTE_26223_012_10SGD_20230219T202943_0710_01_height.tif',
  'https://data.lpdaac.earthdatacloud.nasa.gov/lp-prod-protected/ECO_L2T_LSTE.002/ECOv002_L2T_LSTE_26223_012_10SGD_20230219T202943_0710_01/ECOv002_L2T_LSTE_26223_012_10SGD_20230219T202943_0710_01_QC.tif',
  'https://data.lpdaac.earthdatacloud.nasa.gov/lp-prod-protected/ECO_L2T_LSTE.002/ECOv002_L2T_LSTE_26223_012_10SGD_20230219T202943_0710_01/ECOv002_L2T_LSTE_26223_012_10SGD_20230219T202943_0710_01_LST.tif',
  'https://data.lpdaac.earthdatacloud.nasa.gov/lp-prod-protected/ECO_L2T_LSTE.002/ECOv002_L2T_LSTE_26223_012_10SGD_20230219T202943_0710_01/ECOv002_L2T_LSTE_26223_012_10SGD_20230219T202943_0710_01_LST_err.tif',
  'https://data.lpdaac.earthdatacloud.nasa.gov/lp-prod-protected/ECO_L2T_LSTE.002/ECOv002_L2T_LSTE_26223_012_10SGD_20230219T202943_0710_01/ECOv002_L2T_LSTE_26223_012_10SGD_20230219T202943_0710_01_EmisWB.tif'],
 ['https://data.lpdaac.earthdatacloud.nasa.gov/lp-prod-protected/EMITL2ARFL.001/EMIT_L2A_RFL_001_20230219T202951_2305013_003/EMIT_L2A_RFL_001_20230219T202951_2305013_003.nc',
  'https://data.lpdaac.earthdatacloud.nasa.gov/lp-prod-protected/EMITL2ARFL.001/EMIT_L2A_RFL_001_20230219T202951_2305013_003/EMIT_L2A_RFLUNCERT_001_20230219T202951_2305013_003.nc',
  'https://data.lpdaac.earthdatacloud.nasa.gov/lp-prod-protected/EMITL2ARFL.001/EMIT_L2A_RFL_001_20230219T202951_2305013_003/EMIT_L2A_MASK_001_20230219T202951_2305013_003.nc'],
 ['https://data.lpdaac.earthdatacloud.nasa.gov/lp-prod-protected/ECO_L2T_LSTE.002/ECOv002_L2T_LSTE_26345_013_10SGD_20230227T172029_0710_01/ECOv002_L2T_LSTE_26345_013_10SGD_20230227T172029_0710_01_water.tif',
  'https://data.lpdaac.earthdatacloud.nasa.gov/lp-prod-protected/ECO_L2T_LSTE.002/ECOv002_L2T_LSTE_26345_013_10SGD_20230227T172029_0710_01/ECOv002_L2T_LSTE_26345_013_10SGD_20230227T172029_0710_01_cloud.tif',
  'https://data.lpdaac.earthdatacloud.nasa.gov/lp-prod-protected/ECO_L2T_LSTE.002/ECOv002_L2T_LSTE_26345_013_10SGD_20230227T172029_0710_01/ECOv002_L2T_LSTE_26345_013_10SGD_20230227T172029_0710_01_view_zenith.tif',
  'https://data.lpdaac.earthdatacloud.nasa.gov/lp-prod-protected/ECO_L2T_LSTE.002/ECOv002_L2T_LSTE_26345_013_10SGD_20230227T172029_0710_01/ECOv002_L2T_LSTE_26345_013_10SGD_20230227T172029_0710_01_height.tif',
  'https://data.lpdaac.earthdatacloud.nasa.gov/lp-prod-protected/ECO_L2T_LSTE.002/ECOv002_L2T_LSTE_26345_013_10SGD_20230227T172029_0710_01/ECOv002_L2T_LSTE_26345_013_10SGD_20230227T172029_0710_01_QC.tif',
  'https://data.lpdaac.earthdatacloud.nasa.gov/lp-prod-protected/ECO_L2T_LSTE.002/ECOv002_L2T_LSTE_26345_013_10SGD_20230227T172029_0710_01/ECOv002_L2T_LSTE_26345_013_10SGD_20230227T172029_0710_01_LST.tif',
  'https://data.lpdaac.earthdatacloud.nasa.gov/lp-prod-protected/ECO_L2T_LSTE.002/ECOv002_L2T_LSTE_26345_013_10SGD_20230227T172029_0710_01/ECOv002_L2T_LSTE_26345_013_10SGD_20230227T172029_0710_01_LST_err.tif',
  'https://data.lpdaac.earthdatacloud.nasa.gov/lp-prod-protected/ECO_L2T_LSTE.002/ECOv002_L2T_LSTE_26345_013_10SGD_20230227T172029_0710_01/ECOv002_L2T_LSTE_26345_013_10SGD_20230227T172029_0710_01_EmisWB.tif']]</code></pre>
</div>
</div>
<p>The <code>results_urls</code> list we just generated contains URLs for all of these assets nested by granule. We can further filter our these to remove unwanted assets by using string matching.</p>
<p>Create a list of strings and enumerate through our results_url list to filter out unwanted assets and remove the nesting.</p>
<div class="cell" data-metadata="{}" data-tags="[]" data-execution_count="43">
<div class="sourceCode cell-code" id="cb55"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb55-1"><a href="#cb55-1" aria-hidden="true" tabindex="-1"></a>filtered_asset_links <span class="op">=</span> []</span>
<span id="cb55-2"><a href="#cb55-2" aria-hidden="true" tabindex="-1"></a><span class="co"># Pick Desired Assets (leave _ on RFL to distinguish from RFLUNC, LST. to distinguish from LST_err)</span></span>
<span id="cb55-3"><a href="#cb55-3" aria-hidden="true" tabindex="-1"></a>desired_assets <span class="op">=</span> [<span class="st">'_RFL_'</span>,<span class="st">'_MASK_'</span>, <span class="st">'LST.'</span>] <span class="co"># Add more or do individually for reflectance, reflectance uncertainty, or mask</span></span>
<span id="cb55-4"><a href="#cb55-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Step through each sublist (granule) and filter based on desired assets.</span></span>
<span id="cb55-5"><a href="#cb55-5" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> n, granule <span class="kw">in</span> <span class="bu">enumerate</span>(results_urls):</span>
<span id="cb55-6"><a href="#cb55-6" aria-hidden="true" tabindex="-1"></a>    <span class="cf">for</span> url <span class="kw">in</span> granule: </span>
<span id="cb55-7"><a href="#cb55-7" aria-hidden="true" tabindex="-1"></a>        asset_name <span class="op">=</span> url.split(<span class="st">'/'</span>)[<span class="op">-</span><span class="dv">1</span>]</span>
<span id="cb55-8"><a href="#cb55-8" aria-hidden="true" tabindex="-1"></a>        <span class="cf">if</span> <span class="bu">any</span>(asset <span class="kw">in</span> asset_name <span class="cf">for</span> asset <span class="kw">in</span> desired_assets):</span>
<span id="cb55-9"><a href="#cb55-9" aria-hidden="true" tabindex="-1"></a>            filtered_asset_links.append(url)</span>
<span id="cb55-10"><a href="#cb55-10" aria-hidden="true" tabindex="-1"></a><span class="co"># Show first 5 asset links           </span></span>
<span id="cb55-11"><a href="#cb55-11" aria-hidden="true" tabindex="-1"></a>filtered_asset_links[:<span class="dv">5</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="43">
<pre><code>['https://data.lpdaac.earthdatacloud.nasa.gov/lp-prod-protected/ECO_L2T_LSTE.002/ECOv002_L2T_LSTE_26223_011_10SGD_20230219T202851_0710_01/ECOv002_L2T_LSTE_26223_011_10SGD_20230219T202851_0710_01_LST.tif',
 'https://data.lpdaac.earthdatacloud.nasa.gov/lp-prod-protected/EMITL2ARFL.001/EMIT_L2A_RFL_001_20230219T202939_2305013_002/EMIT_L2A_RFL_001_20230219T202939_2305013_002.nc',
 'https://data.lpdaac.earthdatacloud.nasa.gov/lp-prod-protected/EMITL2ARFL.001/EMIT_L2A_RFL_001_20230219T202939_2305013_002/EMIT_L2A_MASK_001_20230219T202939_2305013_002.nc',
 'https://data.lpdaac.earthdatacloud.nasa.gov/lp-prod-protected/ECO_L2T_LSTE.002/ECOv002_L2T_LSTE_26223_012_10SGD_20230219T202943_0710_01/ECOv002_L2T_LSTE_26223_012_10SGD_20230219T202943_0710_01_LST.tif',
 'https://data.lpdaac.earthdatacloud.nasa.gov/lp-prod-protected/EMITL2ARFL.001/EMIT_L2A_RFL_001_20230219T202951_2305013_003/EMIT_L2A_RFL_001_20230219T202951_2305013_003.nc']</code></pre>
</div>
</div>
<p>Write this list of files to a text file to have a record of the search, or to use for streaming or downloading the data.</p>
<div class="sourceCode cell-code" id="cb57"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb57-1"><a href="#cb57-1" aria-hidden="true" tabindex="-1"></a><span class="cf">with</span> <span class="bu">open</span>(<span class="st">'../data/search_results.txt'</span>, <span class="st">'w'</span>) <span class="im">as</span> f:</span>
<span id="cb57-2"><a href="#cb57-2" aria-hidden="true" tabindex="-1"></a>    <span class="cf">for</span> line <span class="kw">in</span> filtered_asset_links:</span>
<span id="cb57-3"><a href="#cb57-3" aria-hidden="true" tabindex="-1"></a>        f.write(<span class="ss">f"</span><span class="sc">{</span>line<span class="sc">}</span><span class="ch">\n</span><span class="ss">"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
<section id="streaming-or-downloading-data" class="level2">
<h2 class="anchored" data-anchor-id="streaming-or-downloading-data">6. Streaming or Downloading Data</h2>
<p>For the workshop, we will stream the data, but either method can be used, and each has trade-offs based on the internet speed, storage space, or use case. The EMIT files are very large due to the number of bands, so operations can take some time if streaming with a slower internet connection. Since the workshop is hosted in a Cloud workspace, we can stream the data directly to the workspace.</p>
<section id="streaming-data-workflow" class="level3">
<h3 class="anchored" data-anchor-id="streaming-data-workflow">6.1 Streaming Data Workflow</h3>
<p>For an example of streaming both <strong>netCDF</strong> and <strong>Cloud Optimized GeoTIFF (COG) data</strong> please see notebook 2, <a href="../python/02_Working_with_EMIT_Reflectance_and_ECOSTRESS_LST.html">Working With EMIT Reflectance and ECOSTRESS LST</a>.</p>
<p>If you plan to stream the data, you can stop here and move to the next notebook.</p>
</section>
<section id="downloading-data-workflow" class="level3">
<h3 class="anchored" data-anchor-id="downloading-data-workflow">6.2 Downloading Data Workflow</h3>
<p>To download the scenes, we can use the <code>earthaccess</code> library to authenticate then download the files.</p>
<p>First, log into Earthdata using the <code>login</code> function from the <code>earthaccess</code> library. The <code>persist=True</code> argument will create a local <code>.netrc</code> file if it doesn’t exist, or add your login info to an existing <code>.netrc</code> file. If no Earthdata Login credentials are found in the <code>.netrc</code> you’ll be prompted for them. As mentioned in section 1.2, this step is not necessary to conduct searches, but is needed to download or stream data.</p>
<p>We’ve included the canopy water content files in the repository to simplify the notebooks so users don’t need to perform that operation for the examples in the repository. This means that only 3 granules from our list are required to execute the notebooks and walk through the notebooks in the repository. These are included in a separate text file, <code>required_granules.txt</code>.</p>
<p>These can be downloading by uncommenting and running the following cells.</p>
<blockquote class="blockquote">
<p>Note: If interested users can download all of the files using the cell below and recreate all of the canopy water content files following a workflow similar to the example in notebooks 2 and 3 for all of the necessary scenes. To do this, uncomment the <code>file_list</code> object with the <code>search_results.txt</code> filepath to download all of the results rather than just what is required.</p>
</blockquote>
<div class="cell" data-metadata="{}" data-tags="[]" data-execution_count="45">
<div class="sourceCode cell-code" id="cb58"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb58-1"><a href="#cb58-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Authenticate using earthaccess</span></span>
<span id="cb58-2"><a href="#cb58-2" aria-hidden="true" tabindex="-1"></a>earthaccess.login(persist<span class="op">=</span><span class="va">True</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="45">
<pre><code>&lt;earthaccess.auth.Auth at 0x7f02746b41c0&gt;</code></pre>
</div>
</div>
<p>Open the text file containing the URLs you wish to download.</p>
<div class="sourceCode cell-code" id="cb60"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb60-1"><a href="#cb60-1" aria-hidden="true" tabindex="-1"></a><span class="co"># # Open Text File and Read Lines</span></span>
<span id="cb60-2"><a href="#cb60-2" aria-hidden="true" tabindex="-1"></a><span class="co"># file_list = '../data/required_granules.txt'</span></span>
<span id="cb60-3"><a href="#cb60-3" aria-hidden="true" tabindex="-1"></a><span class="co"># # file_list = '../data/search_results.txt'</span></span>
<span id="cb60-4"><a href="#cb60-4" aria-hidden="true" tabindex="-1"></a><span class="co"># with open(file_list) as f:</span></span>
<span id="cb60-5"><a href="#cb60-5" aria-hidden="true" tabindex="-1"></a><span class="co">#     urls = [line.rstrip('\n') for line in f]</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Download the required granules.</p>
<div class="sourceCode cell-code" id="cb61"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb61-1"><a href="#cb61-1" aria-hidden="true" tabindex="-1"></a><span class="co"># # Get requests https Session using Earthdata Login Info</span></span>
<span id="cb61-2"><a href="#cb61-2" aria-hidden="true" tabindex="-1"></a><span class="co"># fs = earthaccess.get_requests_https_session()</span></span>
<span id="cb61-3"><a href="#cb61-3" aria-hidden="true" tabindex="-1"></a><span class="co"># # Retrieve granule asset ID from URL (to maintain existing naming convention)</span></span>
<span id="cb61-4"><a href="#cb61-4" aria-hidden="true" tabindex="-1"></a><span class="co"># for url in urls:</span></span>
<span id="cb61-5"><a href="#cb61-5" aria-hidden="true" tabindex="-1"></a><span class="co">#     granule_asset_id = url.split('/')[-1]</span></span>
<span id="cb61-6"><a href="#cb61-6" aria-hidden="true" tabindex="-1"></a><span class="co">#     # Define Local Filepath</span></span>
<span id="cb61-7"><a href="#cb61-7" aria-hidden="true" tabindex="-1"></a><span class="co">#     fp = f'../data/{granule_asset_id}'</span></span>
<span id="cb61-8"><a href="#cb61-8" aria-hidden="true" tabindex="-1"></a><span class="co">#     # Download the Granule Asset if it doesn't exist</span></span>
<span id="cb61-9"><a href="#cb61-9" aria-hidden="true" tabindex="-1"></a><span class="co">#     if not os.path.isfile(fp):</span></span>
<span id="cb61-10"><a href="#cb61-10" aria-hidden="true" tabindex="-1"></a><span class="co">#         with fs.get(url,stream=True) as src:</span></span>
<span id="cb61-11"><a href="#cb61-11" aria-hidden="true" tabindex="-1"></a><span class="co">#             with open(fp,'wb') as dst:</span></span>
<span id="cb61-12"><a href="#cb61-12" aria-hidden="true" tabindex="-1"></a><span class="co">#                 for chunk in src.iter_content(chunk_size=64*1024*1024):</span></span>
<span id="cb61-13"><a href="#cb61-13" aria-hidden="true" tabindex="-1"></a><span class="co">#                     dst.write(chunk)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Congratulations, now you have downloaded concurrent data from the ECOSTRESS and EMIT instruments on the ISS.</p>
</section>
</section>
<section id="contact-info" class="level2">
<h2 class="anchored" data-anchor-id="contact-info">Contact Info:</h2>
<p>Email: LPDAAC@usgs.gov<br>
Voice: +1-866-573-3222<br>
Organization: Land Processes Distributed Active Archive Center (LP DAAC)¹<br>
Website: <a href="https://lpdaac.usgs.gov/" class="uri">https://lpdaac.usgs.gov/</a><br>
Date last modified: 05-17-2024</p>
<p>¹Work performed under USGS contract 140G0121D0001 for NASA contract NNG14HH33I.</p>


</section>
</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const disableStylesheet = (stylesheets) => {
    for (let i=0; i < stylesheets.length; i++) {
      const stylesheet = stylesheets[i];
      stylesheet.rel = 'prefetch';
    }
  }
  const enableStylesheet = (stylesheets) => {
    for (let i=0; i < stylesheets.length; i++) {
      const stylesheet = stylesheets[i];
      stylesheet.rel = 'stylesheet';
    }
  }
  const manageTransitions = (selector, allowTransitions) => {
    const els = window.document.querySelectorAll(selector);
    for (let i=0; i < els.length; i++) {
      const el = els[i];
      if (allowTransitions) {
        el.classList.remove('notransition');
      } else {
        el.classList.add('notransition');
      }
    }
  }
  const toggleColorMode = (alternate) => {
    // Switch the stylesheets
    const alternateStylesheets = window.document.querySelectorAll('link.quarto-color-scheme.quarto-color-alternate');
    manageTransitions('#quarto-margin-sidebar .nav-link', false);
    if (alternate) {
      enableStylesheet(alternateStylesheets);
    } else {
      disableStylesheet(alternateStylesheets);
    }
    manageTransitions('#quarto-margin-sidebar .nav-link', true);
    // Switch the toggles
    const toggles = window.document.querySelectorAll('.quarto-color-scheme-toggle');
    for (let i=0; i < toggles.length; i++) {
      const toggle = toggles[i];
      if (toggle) {
        if (alternate) {
          toggle.classList.add("alternate");     
        } else {
          toggle.classList.remove("alternate");
        }
      }
    }
  }
  const isFileUrl = () => { 
    return window.location.protocol === 'file:';
  }
  const hasAlternateSentinel = () => {  
    let styleSentinel = getColorSchemeSentinel();
    if (styleSentinel !== null) {
      return styleSentinel === "alternate";
    } else {
      return false;
    }
  }
  const setStyleSentinel = (alternate) => {
    const value = alternate ? "alternate" : "default";
    if (!isFileUrl()) {
      window.localStorage.setItem("quarto-color-scheme", value);
    } else {
      localAlternateSentinel = value;
    }
  }
  const getColorSchemeSentinel = () => {
    if (!isFileUrl()) {
      const storageValue = window.localStorage.getItem("quarto-color-scheme");
      return storageValue != null ? storageValue : localAlternateSentinel;
    } else {
      return localAlternateSentinel;
    }
  }
  let localAlternateSentinel = 'default';
  // Dark / light mode switch
  window.quartoToggleColorScheme = () => {
    // Read the current dark / light value 
    let toAlternate = !hasAlternateSentinel();
    toggleColorMode(toAlternate);
    setStyleSentinel(toAlternate);
  };
  // Ensure there is a toggle, if there isn't float one in the top right
  if (window.document.querySelector('.quarto-color-scheme-toggle') === null) {
    const a = window.document.createElement('a');
    a.classList.add('top-right');
    a.classList.add('quarto-color-scheme-toggle');
    a.href = "";
    a.onclick = function() { try { window.quartoToggleColorScheme(); } catch {} return false; };
    const i = window.document.createElement("i");
    i.classList.add('bi');
    a.appendChild(i);
    window.document.body.appendChild(a);
  }
  // Switch to dark mode if need be
  if (hasAlternateSentinel()) {
    toggleColorMode(true);
  } 
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    target: function(trigger) {
      return trigger.previousElementSibling;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    setTimeout(function() {
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      let href = ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const cites = ref.parentNode.getAttribute('data-cites').split(' ');
    tippyHover(ref, function() {
      var popup = window.document.createElement('div');
      cites.forEach(function(cite) {
        var citeDiv = window.document.createElement('div');
        citeDiv.classList.add('hanging-indent');
        citeDiv.classList.add('csl-entry');
        var biblioDiv = window.document.getElementById('ref-' + cite);
        if (biblioDiv) {
          citeDiv.innerHTML = biblioDiv.innerHTML;
        }
        popup.appendChild(citeDiv);
      });
      return popup.innerHTML;
    });
  }
});
</script>
<nav class="page-navigation">
  <div class="nav-page nav-page-previous">
      <a href="../setup/setup_instructions.html" class="pagination-link">
        <i class="bi bi-arrow-left-short"></i> <span class="nav-page-text">Local Python Environment Setup</span>
      </a>          
  </div>
  <div class="nav-page nav-page-next">
      <a href="../python/02_Working_with_EMIT_Reflectance_and_ECOSTRESS_LST.html" class="pagination-link">
        <span class="nav-page-text">2 EMIT Reflectance and ECOSTRESS LST</span> <i class="bi bi-arrow-right-short"></i>
      </a>
  </div>
</nav>
</div> <!-- /content -->
<footer class="footer">
  <div class="nav-footer">
      <div class="nav-footer-center">VSWIR Imaging and Thermal Applications, Learning, and Science.</div>
  </div>
</footer>



</body></html>